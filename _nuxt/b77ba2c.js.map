{"version":3,"sources":["webpack:///./components/netZero/IndustryBau.vue?14ef","webpack:///./components/netZero/NetZeroLegend.vue","webpack:///./components/netZero/NetZeroLegend.vue?c890","webpack:///./components/netZero/NetZeroLegend.vue?ed61","webpack:///./components/netZero/IndustryBau.vue?bbbd","webpack:///./components/netZero/IndustryBau.vue?4360","webpack:///./pages/net-zero/_industry.vue?66ce","webpack:///./components/netZero/IndustryBau.vue","webpack:///./components/netZero/IndustryBau.vue?905a","webpack:///./components/netZero/IndustryBau.vue?548c","webpack:///./pages/net-zero/_industry.vue?8700","webpack:///./pages/net-zero/_industry.vue?1514","webpack:///./pages/net-zero/_industry.vue","webpack:///./pages/net-zero/_industry.vue?829f","webpack:///./pages/net-zero/_industry.vue?f7da"],"names":["content","__esModule","default","module","i","locals","exports","add","props","title","type","String","required","value","Number","color","validator","val","includes","computed","valueDiff","this","valueLabel","yValueFormatter","Math","abs","valueClass","component","_vm","_c","_self","staticClass","class","style","background","_v","_s","_e","___CSS_LOADER_EXPORT___","___CSS_LOADER_API_IMPORT___","push","mixins","companyMixin","bauStats","Array","ciStats","companyMap","Object","yMax","data","c3Handler","chartData","genNetZeroCompanyChartData","stats","getUnitLabel","row","統編","公司簡稱","getUnitColor","companyAbbr","get","companyAbbrMap","isDashed","是預測值","c3Config","genC3Config","tooltip","grouped","contents","genTooltip","isBau","findUnit","findAnotherRow","year","company","find","年份","watch","updateChart","mounted","initChart","methods","c3","require","generate","bindto","$refs","chart","axis","max","y","load","unload","columns","ref","VALID_FILTER","top5","all","industryMixin","asyncData","$content","params","redirect","companyList","industry","fetch","PER_INDUSTRY_KEY","cleanupRawStats","existedCompany","uniqBy","reduce","sum","allCompanyList","body","filter","nCompany","length","map","interpolateCividis","code","$route","industries","needle","query","companyCount","keys","top5CompanyMap","lastRecordPerCompany","Tot數值","id","values","sort","a","b","slice","ret","activeCompanyMap","activeCompanyList","visibleBauStats","visibleCiStats","Y_MAX","MAX","Tot變化","min","MIN","top5Count","chartColors","COLORS","beforeDestroy","html","document","querySelector","classList","contains","remove","filterLink","name","attrs","slot","label","_l","opt","key","industryLink","IPCC","PNNL","installComponents","NetZeroLegend","NetZeroIndustryBau","NetZeroIndustryCommitment"],"mappings":"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","file":"b77ba2c.js","sourcesContent":["// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../node_modules/sass-resources-loader/lib/loader.js??ref--7-oneOf-1-4!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IndustryBau.vue?vue&type=style&index=0&id=e360ca4a&prod&lang=scss&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"176628f2\", content, true, {\"sourceMap\":false});","\nimport { yValueFormatter } from '~/libs/netZeroUtils'\n\nexport default {\n  props: {\n    title: {\n      type: String,\n      required: true\n    },\n    /**\n     * 0 ~ 100\n     */\n    value: {\n      type: Number,\n      default: -1\n    },\n    color: {\n      type: String,\n      default: '#000'\n    },\n    type: {\n      type: String,\n      default: 'fact',\n      validator (val) {\n        return ['bau', 'fact', 'noLabel', 'roadmap'].includes(val)\n      }\n    }\n  },\n  computed: {\n    valueDiff () {\n      return this.value - 100\n    },\n    valueLabel () {\n      if (this.valueDiff !== 0) {\n        return yValueFormatter(Math.abs(this.valueDiff))\n      }\n      return ' 0'\n    },\n    valueClass () {\n      if (this.valueDiff > 0) {\n        return 'esgLegend__value--raise'\n      } else if (this.valueDiff < 0) {\n        return 'esgLegend__value--reduce'\n      }\n      return ''\n    }\n  }\n}\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NetZeroLegend.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./NetZeroLegend.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./NetZeroLegend.vue?vue&type=template&id=a94067c8&lang=pug&\"\nimport script from \"./NetZeroLegend.vue?vue&type=script&lang=js&\"\nexport * from \"./NetZeroLegend.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/vue-style-loader/index.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../node_modules/sass-resources-loader/lib/loader.js??ref--7-oneOf-1-4!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IndustryBau.vue?vue&type=style&index=0&id=e360ca4a&prod&lang=scss&scoped=true&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".indBau[data-v-e360ca4a]{height:22.5rem}\", \"\"]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___;\n","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../node_modules/sass-resources-loader/lib/loader.js??ref--7-oneOf-1-4!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./_industry.vue?vue&type=style&index=0&id=0efdedf4&prod&lang=scss&scoped=true&\");\nif(content.__esModule) content = content.default;\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar add = require(\"!../../node_modules/vue-style-loader/lib/addStylesClient.js\").default\nvar update = add(\"eabc0af4\", content, true, {\"sourceMap\":false});","\nimport { get } from 'lodash'\nimport { genC3Config, companyMixin, genNetZeroCompanyChartData, genTooltip } from '~/libs/netZeroUtils'\n\nexport default {\n  mixins: [companyMixin],\n  props: {\n    bauStats: {\n      type: Array,\n      required: true\n    },\n    ciStats: {\n      type: Array,\n      required: true\n    },\n    companyMap: {\n      type: Object,\n      required: true\n    },\n    yMax: {\n      type: Number,\n      required: true\n    }\n  },\n  data () {\n    return {\n      c3Handler: null\n    }\n  },\n  computed: {\n    chartData () {\n      return genNetZeroCompanyChartData({\n        stats: this.bauStats,\n        getUnitLabel: (row) => {\n          return this.companyMap[row.統編].公司簡稱\n        },\n        getUnitColor: (companyAbbr) => {\n          return get(this.companyAbbrMap, `${companyAbbr}.color`, '')\n        },\n        isDashed (row) {\n          return !!row.是預測值\n        }\n      })\n    },\n    c3Config () {\n      return genC3Config(this.yMax, {\n        tooltip: {\n          grouped: false,\n          contents: genTooltip({\n            isBau: true,\n            findUnit: (companyAbbr) => {\n              return this.companyAbbrMap[companyAbbr]\n            },\n            findAnotherRow: (year, company) => {\n              return this.ciStats.find((row) => {\n                return row.年份 === year && row.統編 === company.統編\n              })\n            }\n          })\n        }\n      })\n    }\n  },\n  watch: {\n    bauStats () {\n      this.updateChart()\n    }\n  },\n  mounted () {\n    this.initChart()\n  },\n  methods: {\n    initChart () {\n      const c3 = require('c3')\n      this.c3Handler = c3.generate({\n        data: this.chartData,\n        ...this.c3Config,\n        bindto: this.$refs.chart\n      })\n      // this.c3Handler.zoom(DEFAULT_ZOOM_RANGE)\n    },\n    updateChart () {\n      if (!this.c3Handler) {\n        this.initChart()\n        return\n      }\n      this.c3Handler.axis.max({ y: this.yMax })\n      this.c3Handler.load({\n        unload: true,\n        columns: this.chartData.columns\n      })\n    }\n  }\n}\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IndustryBau.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./IndustryBau.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./IndustryBau.vue?vue&type=template&id=e360ca4a&scoped=true&lang=pug&\"\nimport script from \"./IndustryBau.vue?vue&type=script&lang=js&\"\nexport * from \"./IndustryBau.vue?vue&type=script&lang=js&\"\nimport style0 from \"./IndustryBau.vue?vue&type=style&index=0&id=e360ca4a&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"e360ca4a\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../node_modules/vue-style-loader/index.js??ref--7-oneOf-1-0!../../node_modules/css-loader/dist/cjs.js??ref--7-oneOf-1-1!../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/postcss-loader/src/index.js??ref--7-oneOf-1-2!../../node_modules/sass-loader/dist/cjs.js??ref--7-oneOf-1-3!../../node_modules/sass-resources-loader/lib/loader.js??ref--7-oneOf-1-4!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./_industry.vue?vue&type=style&index=0&id=0efdedf4&prod&lang=scss&scoped=true&\"","// Imports\nvar ___CSS_LOADER_API_IMPORT___ = require(\"../../node_modules/css-loader/dist/runtime/api.js\");\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(false);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \".netZero__nav[data-v-0efdedf4]{margin-top:2.25rem;margin-bottom:1.125rem}.netZero__typeSelector[data-v-0efdedf4]{width:8rem}.netZero__typeSelector[data-v-0efdedf4]  .dropdown-menu{min-width:8rem}.netZero__typeSelector[data-v-0efdedf4]  .dropdown-trigger{width:100%}.netZero__typeSelector[data-v-0efdedf4]  .dropdown-trigger button{border:none;outline:none;background:transparent}.netZero__typeSelector[data-v-0efdedf4]  .dropdown-content{background:#333}.netZero__typeSelector[data-v-0efdedf4]  .has-link a{padding:.5rem;color:#fff;font-size:1.5rem}.netZero__typeSelector[data-v-0efdedf4]  .has-link a:hover{background:#555;color:#fff}.netZero__filter[data-v-0efdedf4]{margin:1.75rem 0 2.25rem}.netZero__filterItem[data-v-0efdedf4]{line-height:1.18;color:rgba(74,127,46,.7019607843);padding-bottom:.375rem;border-bottom:1px solid transparent}.netZero__filterItem--active[data-v-0efdedf4]{color:#35811c;border-color:#35811c}.netZero__filterItem[data-v-0efdedf4]:not(:last-child){margin-right:1.75rem}@media screen and (min-width:60em){.netZero__filterItem[data-v-0efdedf4]{font-size:1.375rem}}.netZero__legend[data-v-0efdedf4]{margin:2.25rem auto 2.5rem}.netZero__legendRow[data-v-0efdedf4]{display:grid;grid-template-columns:repeat(auto-fit,9.5rem);grid-row-gap:.5rem;row-gap:.5rem;grid-column-gap:1rem;-moz-column-gap:1rem;column-gap:1rem}.netZero__legendRow+.netZero__legendRow[data-v-0efdedf4]{margin-top:1.25rem}.netZero__chart[data-v-0efdedf4]{margin:2.5rem auto}.netZero__chart h2[data-v-0efdedf4]{font-size:1.375rem;margin-bottom:1.75rem;color:#000}\", \"\"]);\n// Exports\nmodule.exports = ___CSS_LOADER_EXPORT___;\n","\nimport { interpolateCividis } from 'd3'\nimport { uniqBy } from 'lodash'\nimport { cleanupRawStats, COLORS, industryMixin, PER_INDUSTRY_KEY, Y_MAX } from '~/libs/netZeroUtils'\n\nconst VALID_FILTER = { top5: 'top5', all: 'all' }\n\nexport default {\n  mixins: [industryMixin],\n  async asyncData ({ $content, params, redirect }) {\n    let bauStats = []\n    let companyList = []\n    let ciStats = []\n\n    try {\n      bauStats = await $content('industry', `${params.industry}-bau`).fetch()\n    } catch {\n      if (params.industry !== PER_INDUSTRY_KEY) {\n        redirect('/')\n      }\n      return { bauStats, ciStats, companyList }\n    }\n\n    bauStats = cleanupRawStats(bauStats)\n\n    try {\n      ciStats = await $content('industry', `${params.industry}-net-zero-commitment`).fetch()\n      ciStats = cleanupRawStats(ciStats)\n    } catch {\n      // it's ok\n    }\n\n    const existedCompany = uniqBy([...bauStats, ...ciStats], '統編')\n      .reduce((sum, company) => {\n        sum[company.統編] = true\n        return sum\n      }, {})\n\n    const allCompanyList = await $content('companyList').fetch()\n    companyList = allCompanyList.body\n      .filter((company) => {\n        return company.統編 in existedCompany\n      })\n\n    const nCompany = companyList.length\n    companyList = companyList.map((company, i) => {\n      return {\n        ...company,\n        color: interpolateCividis(i / nCompany)\n      }\n    })\n    return { bauStats, ciStats, companyList }\n  },\n  computed: {\n    industry () {\n      // default 石化業\n      const code = this.$route.params.industry || '03'\n      const industry = this.industries.find(needle => needle.code === code)\n      return industry || this.industries[0]\n    },\n    filter () {\n      const code = this.$route.query.filter\n      return VALID_FILTER[code] ? code : VALID_FILTER.top5\n    },\n    companyCount () {\n      return Object.keys(this.companyList).length\n    },\n    companyMap () {\n      return this.companyList.reduce((sum, company) => {\n        sum[company.統編] = company\n        return sum\n      }, {})\n    },\n    top5CompanyMap () {\n      const lastRecordPerCompany = this.bauStats.reduce((sum, row) => {\n        if (row.是預測值) {\n          return sum\n        }\n        const year = row.年份\n        const value = row.Tot數值\n        const id = row.統編\n        if (!sum[id]) {\n          sum[id] = { id, year, value }\n        } else if (sum[id].year < year) {\n          sum[id] = { id, year, value }\n        }\n        return sum\n      }, {})\n      return Object.values(lastRecordPerCompany)\n        .sort((a, b) => b.value - a.value)\n        .slice(0, 5)\n        .reduce((ret, company) => {\n          ret[company.id] = this.companyMap[company.id]\n          return ret\n        }, {})\n    },\n    activeCompanyMap () {\n      if (this.filter === VALID_FILTER.all) {\n        return this.companyMap\n      }\n      return this.top5CompanyMap\n    },\n    activeCompanyList () {\n      return Object.values(this.activeCompanyMap)\n    },\n    yMax () {\n      return [...this.visibleBauStats, ...this.visibleCiStats].reduce((max, row) => {\n        if (max === Y_MAX.MAX) {\n          return max\n        }\n        if (row.Tot變化 > max) {\n          return Math.min(row.Tot變化, Y_MAX.MAX)\n        }\n        return max\n      }, Y_MAX.MIN)\n    },\n    visibleBauStats () {\n      return this.bauStats.filter((row) => {\n        return row.統編 in this.activeCompanyMap\n      })\n    },\n    visibleCiStats () {\n      return this.ciStats.filter((row) => {\n        return row.統編 in this.activeCompanyMap\n      })\n    },\n    top5Count () {\n      return Object.values(this.top5CompanyMap).length\n    },\n    chartColors () {\n      return COLORS\n    }\n  },\n  beforeDestroy () {\n    // #109, when switch page, html scrollbar disabler is not reset for some reason\n    const html = document.querySelector('html')\n    if (html.classList.contains('is-clipped-touch')) {\n      html.classList.remove('is-clipped-touch')\n    }\n  },\n  methods: {\n    filterLink (filter) {\n      return {\n        name: this.$route.name,\n        params: this.$route.params,\n        query: {\n          filter\n        }\n      }\n    }\n  }\n}\n","import mod from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./_industry.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/babel-loader/lib/index.js??ref--2-0!../../node_modules/@nuxt/components/dist/loader.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./_industry.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./_industry.vue?vue&type=template&id=0efdedf4&scoped=true&lang=pug&\"\nimport script from \"./_industry.vue?vue&type=script&lang=js&\"\nexport * from \"./_industry.vue?vue&type=script&lang=js&\"\nimport style0 from \"./_industry.vue?vue&type=style&index=0&id=0efdedf4&prod&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0efdedf4\",\n  null\n  \n)\n\nexport default component.exports\n\n/* nuxt-component-imports */\ninstallComponents(component, {NetZeroLegend: require('/home/runner/work/thaubing-esg/thaubing-esg/esg-ui/components/netZero/NetZeroLegend.vue').default,NetZeroIndustryBau: require('/home/runner/work/thaubing-esg/thaubing-esg/esg-ui/components/netZero/IndustryBau.vue').default,NetZeroIndustryCommitment: require('/home/runner/work/thaubing-esg/thaubing-esg/esg-ui/components/netZero/IndustryCommitment.vue').default})\n"],"sourceRoot":""}