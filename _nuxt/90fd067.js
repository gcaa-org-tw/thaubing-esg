(window.webpackJsonp=window.webpackJsonp||[]).push([[31,14],{303:function(t,e,n){var content=n(310);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(33).default)("004ba10a",content,!0,{sourceMap:!1})},309:function(t,e,n){"use strict";n(303)},310:function(t,e,n){var r=n(32)(!1);r.push([t.i,".footer[data-v-0b11b952]{border-color:rgba(0,0,0,.06275)}.footer a[data-v-0b11b952]{color:#49591c;font-weight:500;text-decoration:underline}",""]),t.exports=r},315:function(t,e,n){"use strict";n.r(e);var r={computed:{buildTime:function(){return"2022-05-03T17:04:32Z"}}},o=(n(309),n(47)),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"footer bt bw1 mv3 pv3 flex-ns justify-between tr tl-ns"},[t._m(0),n("div",{staticClass:"mt2 mt0-ns"},[t._m(1),n("div",{staticClass:"light-silver tr"},[t._v("更新時間： "+t._s(t.buildTime))])])])}),[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mid-gray"},[t._v("由"),n("a",{staticClass:"dim",attrs:{href:"http://www.gcaa.org.tw/"}},[t._v("綠色公民行動聯盟")]),t._v(" X "),n("a",{staticClass:"dim",attrs:{href:"https://thaubing.gcaa.org.tw/"}},[t._v("透明足跡計畫")]),t._v("推動")])},function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"mid-gray mb2"},[n("a",{staticClass:"dim",attrs:{href:"https://github.com/gcaa-org-tw/thaubing-esg"}},[t._v("原始碼")]),t._v(" X "),n("a",{staticClass:"dim",attrs:{href:"https://github.com/gcaa-org-tw/thaubing-esg/tree/main/data"}},[t._v("資料")]),t._v("  以開放授權 MIT / CC-BY 4.0 釋出")])}],!1,null,"0b11b952",null);e.default=component.exports},316:function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return l}));var r=n(17),o=(n(101),n(28),n(42),n(10),n(79),n(63),"ESG 檢測儀：我們與永續轉型的距離");function c(t,content){var e,n=t.startsWith("og:")?"property":"name";return e={hid:t},Object(r.a)(e,n,t),Object(r.a)(e,"content",content),e}function l(e){var title=e.title,n=e.description,r=e.coverUrl,l=t.env.SITE_URL||"https://gcaa-org-tw.github.io/thaubing-esg";function d(t){return"string"==typeof t?t:"function"==typeof t?t.call(this):t.toString()}return function(){var t=d.bind(this),head={meta:[]},e="".concat(t(title=title||"")),f=e?"".concat(e," | ").concat(o):o;if(head.title=f,head.meta.push(c("og:title",f)),head.meta.push(c("twitter:title",f)),n){var h=t(n);head.meta.push(c("description",h)),head.meta.push(c("og:description",h)),head.meta.push(c("twitter:description",h))}if(r){var v=t(r);v&&(v.startsWith("/")?v="".concat(l).concat(v):v.startsWith("http")||(v="".concat(l,"/").concat(v)),head.meta.push(c("og:image",v)),head.meta.push(c("twitter:image",v)),head.meta.push(c("twitter:card","summary_large_image")))}if(this&&(title||n||r)){var m="".concat(l).concat(this.$route.path);head.meta.push(c("og:url",m))}return head}}}).call(this,n(133))},317:function(t,e,n){t.exports=n.p+"img/tree-bg.e3b5496.png"},338:function(t,e,n){var content=n(393);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(33).default)("e3fb7a3a",content,!0,{sourceMap:!1})},348:function(t,e,n){t.exports=n.p+"img/logo.b151b9e.png"},392:function(t,e,n){"use strict";n(338)},393:function(t,e,n){var r=n(32)(!1);r.push([t.i,".invTellerWrapper[data-v-b35886aa]{width:100%;max-height:50vh;overflow:auto}@media screen and (min-width:60em){.invTellerWrapper[data-v-b35886aa]{max-height:none}}.invTeller[data-v-b35886aa]{display:grid;grid-row-gap:.375rem;row-gap:.375rem;max-width:80rem;min-width:48rem;position:relative}.invTeller__measureHead[data-v-b35886aa]{grid-column:1/span 2;left:0;z-index:1}.invTeller__fundHead[data-v-b35886aa],.invTeller__measureHead[data-v-b35886aa]{padding:.375rem .625rem;position:-webkit-sticky;position:sticky;top:0;background:#ebedeb}.invTeller__stat[data-v-b35886aa]{background:#fff;height:2rem}.invTeller__stat[data-v-b35886aa],.invTeller__unit[data-v-b35886aa]{position:-webkit-sticky;position:sticky;left:0}.invTeller__statVal[data-v-b35886aa]{background:#c1c1c1;color:#000}.invTeller__statVal--red[data-v-b35886aa]{background:#e24243;color:#fff}.invTeller__statVal--green[data-v-b35886aa]{background:#6fac45}.invTeller__statVal--yellow[data-v-b35886aa]{background:#facb3d}.invTeller__company[data-v-b35886aa]{padding:0 .5rem;position:-webkit-sticky;position:sticky;left:min(20rem,25vw)}.invTeller__fundFlag[data-v-b35886aa]{padding:0 .625rem}.invTeller__fundFlag[data-v-b35886aa]:last-child{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.invTeller__flag[data-v-b35886aa]{color:#c1c1c1;background:#c1c1c1;width:1.25rem;height:1.25rem;border:2px solid rgba(0,0,0,.1);border-radius:100%}.invTeller__flag--red[data-v-b35886aa]{color:#e24243;background:#e24243}.invTeller__flag--yellow[data-v-b35886aa]{color:#facb3d;background:#facb3d}.invTeller__flag--green[data-v-b35886aa]{color:#6fac45;background:#6fac45}.invTeller__switch[data-v-b35886aa]{line-height:1.5;color:#35811c;border:none}",""]),t.exports=r},400:function(t,e,n){var content=n(432);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(33).default)("af6d5e5a",content,!0,{sourceMap:!1})},416:function(t,e,n){"use strict";n.r(e);var r=n(78),o=(n(199),n(10),n(375),n(23),n(376),n(377),n(378),n(379),n(380),n(381),n(382),n(383),n(384),n(385),n(386),n(387),n(388),n(389),n(390),n(391),n(24),n(401),n(39),n(35),n(101),n(40),n(61),n(77),n(319),n(302),n(312),n(27),n(305),n(311),n(29),n(299)),c=n(314).a.E,l={props:{stats:{type:Array,required:!0},companyMap:{type:Object,required:!0},quartile:{type:Object,required:!0},year:{type:String,default:"2019"}},data:function(){return{orderBy:c[0]}},computed:{unit:function(){var t=this;return o.b.find((function(e){return e.measure===t.orderBy})).unit},invStyle:function(){return{gridTemplateColumns:"min(20rem, 25vw) 4rem repeat(".concat(this.fundList.length,", 1fr)")}},curMaxStatVal:function(){return this.sortedStats[0].E[this.orderBy]},orderOptions:function(){return c},fundList:function(){return Object(r.a)(new Set(this.investmentDataPerCompany.map((function(t){return Object.keys(t.X)})).flat())).map((function(t){return t.startsWith("中國信託")?{cat:"中國信託",name:t}:{cat:t.slice(0,2),name:t}}))},investmentDataPerCompany:function(){var t=this,e=this.stats.reduce((function(e,n){var r=n.統編,o=t.companyMap[r];if(n.年份!==t.year||!o)return e;if("X"===n.分類||n.來自公司報告&&c.includes(n.項目)){e[r]||(e[r]={X:{},E:{},company:o});var l=n.數值;"E"===n.分類&&(l=Number.parseFloat(l)),e[r][n.分類][n.項目]=l}return e}),{}),n=this.quartile[this.year].E;return Object.values(e).map((function(t){return t.color={},c.forEach((function(e){var r=t.E[e];Number.isNaN(r)||void 0===r?(t.E[e]=0,t.color[e]="unknown"):r>=n[e].thirdForth?t.color[e]="red":r>=n[e].oneForth?t.color[e]="yellow":t.color[e]="green"})),t}))},sortedStats:function(){var t=this.orderBy;return Object(r.a)(this.investmentDataPerCompany).sort((function(a,b){return b.E[t]-a.E[t]}))}},methods:{printValue:function(t){return"unknown"===t.color[this.orderBy]?"未揭露":(Math.round(100*t.E[this.orderBy])/100).toLocaleString()},switchOrder:function(){var t=this;this.orderBy=c.find((function(e){return e!==t.orderBy}))},fundName:function(t){var e=Math.round(t.name.length/2);return[t.name.slice(0,e),t.name.slice(e)]},barClass:function(t){return["invTeller__statVal--".concat(t.color[this.orderBy])]},barStyle:function(t){return"unknown"===t.color[this.orderBy]?{width:"6.5rem"}:{width:"".concat(100*t.E[this.orderBy]/this.curMaxStatVal,"%")}},flagClass:function(t){return["invTeller__flag--".concat(t.color[this.orderBy])]}}},d=(n(392),n(47)),component=Object(d.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"invTellerWrapper"},[t.fundList.length?n("div",{staticClass:"invTeller",style:t.invStyle},[n("div",{staticClass:"invTeller__measureHead"},t._l(t.orderOptions,(function(e){return n("button",{staticClass:"invTeller__switch bg-transparent w-100-ns f3 fw6 mb2 pointer db pa0 tl",class:[e===t.orderBy?"o-100":"o-50"],on:{click:t.switchOrder}},[t._v(t._s(e))])})),0),t._l(t.fundList,(function(e){return n("div",{staticClass:"invTeller__fundHead black"},[n("div",{staticClass:"fw6"},[t._v(t._s(e.cat))]),t._l(t.fundName(e),(function(line){return n("div",{staticClass:"fw4"},[t._v(t._s(line))])}))],2)})),t._l(t.sortedStats,(function(e){return[n("div",{staticClass:"invTeller__stat bg-white br2 br--left"},[n("div",{staticClass:"invTeller__statVal br2 h-100 ml-auto fw6 pr1 flex items-center justify-end",class:t.barClass(e),style:t.barStyle(e)},[t._v(t._s(t.printValue(e)))])]),n("div",{staticClass:"invTeller__company bg-white flex items-center"},[n("company-abbr",{attrs:{company:e.company}})],1),t._l(t.fundList,(function(r){return n("div",{staticClass:"invTeller__fundFlag bg-white flex items-center"},[e.X[r.name]?n("div",{staticClass:"invTeller__flag",class:t.flagClass(e)},[t._v("T")]):t._e()])}))]})),n("div",{staticClass:"invTeller__unit tr"},[t._v(t._s(t.unit))])],2):t._e()])}),[],!1,null,"b35886aa",null);e.default=component.exports;installComponents(component,{CompanyAbbr:n(344).default})},429:function(t,e,n){var r,o=function(t){var e={addEvent:function(t,e,n,r){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent&&(t["e"+e+n]=n,t[e+n]=function(){t["e"+e+n](window.event,r)},t.attachEvent("on"+e,t[e+n]))},removeEvent:function(t,e,n){t.removeEventListener?t.removeEventListener(e,n):t.attachEvent&&t.detachEvent(e)},input:"",pattern:"38384040373937396665",keydownHandler:function(t,n){if(n&&(e=n),e.input+=t?t.keyCode:event.keyCode,e.input.length>e.pattern.length&&(e.input=e.input.substr(e.input.length-e.pattern.length)),e.input===e.pattern)return e.code(e._currentLink),e.input="",t.preventDefault(),!1},load:function(link){this._currentLink=link,this.addEvent(document,"keydown",this.keydownHandler,this),this.iphone.load(link)},unload:function(){this.removeEvent(document,"keydown",this.keydownHandler),this.iphone.unload()},code:function(link){window.location=link},iphone:{start_x:0,start_y:0,stop_x:0,stop_y:0,tap:!1,capture:!1,orig_keys:"",keys:["UP","UP","DOWN","DOWN","LEFT","RIGHT","LEFT","RIGHT","TAP","TAP"],input:[],code:function(link){e.code(link)},touchmoveHandler:function(t){if(1===t.touches.length&&!0===e.iphone.capture){var n=t.touches[0];e.iphone.stop_x=n.pageX,e.iphone.stop_y=n.pageY,e.iphone.tap=!1,e.iphone.capture=!1,e.iphone.check_direction()}},touchendHandler:function(){if(e.iphone.input.push(e.iphone.check_direction()),e.iphone.input.length>e.iphone.keys.length&&e.iphone.input.shift(),e.iphone.input.length===e.iphone.keys.length){for(var t=!0,i=0;i<e.iphone.keys.length;i++)e.iphone.input[i]!==e.iphone.keys[i]&&(t=!1);t&&e.iphone.code(e._currentLink)}},touchstartHandler:function(t){e.iphone.start_x=t.changedTouches[0].pageX,e.iphone.start_y=t.changedTouches[0].pageY,e.iphone.tap=!0,e.iphone.capture=!0},load:function(link){this.orig_keys=this.keys,e.addEvent(document,"touchmove",this.touchmoveHandler),e.addEvent(document,"touchend",this.touchendHandler,!1),e.addEvent(document,"touchstart",this.touchstartHandler)},unload:function(){e.removeEvent(document,"touchmove",this.touchmoveHandler),e.removeEvent(document,"touchend",this.touchendHandler),e.removeEvent(document,"touchstart",this.touchstartHandler)},check_direction:function(){return x_magnitude=Math.abs(this.start_x-this.stop_x),y_magnitude=Math.abs(this.start_y-this.stop_y),x=this.start_x-this.stop_x<0?"RIGHT":"LEFT",y=this.start_y-this.stop_y<0?"DOWN":"UP",result=x_magnitude>y_magnitude?x:y,result=!0===this.tap?"TAP":result,result}}};return"string"==typeof t&&e.load(t),"function"==typeof t&&(e.code=t,e.load()),e};void 0!==t.exports?t.exports=o:void 0===(r=function(){return o}.apply(e,[]))||(t.exports=r)},430:function(t){t.exports=JSON.parse('["水泥工業","石化業","紡織纖維","化學工業","鋼鐵工業","半導體業","光電業"]')},431:function(t,e,n){"use strict";n(400)},432:function(t,e,n){var r=n(32),o=n(200),c=n(317),l=r(!1),d=o(c);l.push([t.i,".industry__header[data-v-521ef31c]{background-image:url("+d+");color:#fff;line-height:1.4}.industry__header a[data-v-521ef31c]{color:#fff}.industry__nav[data-v-521ef31c]{margin-top:2.25rem;margin-bottom:1.125rem}.industry__title[data-v-521ef31c]{font-size:3rem;margin-top:1rem;margin-bottom:0}.industry__desp[data-v-521ef31c]{font-size:1.5rem;margin:1rem 0 1.75rem}.industry__officialSite[data-v-521ef31c]{right:1.5rem;bottom:1rem}.industry__typeSelector[data-v-521ef31c]{-webkit-appearance:none;-moz-appearance:none;appearance:none;background:transparent;border:none;outline:none;font-size:1.5rem;padding:0;margin:0;cursor:pointer;width:7rem}.industry__footer[data-v-521ef31c]{margin:1.5rem 0}.industry__cta[data-v-521ef31c]{background:#49591c}.industry__cta[data-v-521ef31c]:hover{background:#35811c}",""]),t.exports=l},453:function(t,e,n){"use strict";n.r(e);var r=[function(){var t=this.$createElement,e=this._self._c||t;return e("a",{staticClass:"industry__officialSite absolute",attrs:{href:"https://thaubing.gcaa.org.tw/"}},[e("img",{attrs:{src:n(348)}})])}],o=n(78),c=n(8),l=(n(311),n(34),n(10),n(375),n(23),n(376),n(377),n(378),n(379),n(380),n(381),n(382),n(383),n(384),n(385),n(386),n(387),n(388),n(389),n(390),n(391),n(24),n(39),n(63),n(312),n(27),n(319),n(302),n(29),n(48),n(429)),d=n.n(l),f=n(316),h=n(430),v={asyncData:function(t){return Object(c.a)(regeneratorRuntime.mark((function e(){var n,r,o,c,l,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.$content,r=t.params,o=t.redirect,e.prev=1,e.next=4,n("industry",r.industry).fetch();case 4:return c=e.sent,e.next=7,n("industry","".concat(r.industry,"-quartile")).fetch();case 7:return l=e.sent,e.next=10,n("companyList").fetch();case 10:return d=e.sent,e.abrupt("return",{stats:c,quartile:l,companyList:d});case 14:e.prev=14,e.t0=e.catch(1),o("/");case 17:case"end":return e.stop()}}),e,null,[[1,14]])})))()},data:function(){var t=this;return{industry:this.$route.params.industry,isGuanshiyinn:!1,konamiHandler:new d.a((function(){t.toggleGuanshiyinn()}))}},head:Object(f.a)({title:function(){return this.$route.params.industry}}),computed:{year:function(){return this.$route.query.year||"2020"},yearList:function(){return Object(o.a)(new Set(this.stats.body.map((function(t){return t.年份})))).filter((function(t){return t>=2011})).sort((function(a,b){return b-a}))},downloadLink:function(){return"".concat(this.$router.options.base,"content/industry/").concat(this.industry,".csv")},industries:function(){return h},companyMap:function(){var t=this;return this.companyList.body.reduce((function(map,e){return e.自訂產業別!==t.$route.params.industry||(map[e.統編]=e),map}),{})},companyStats:function(){var t=this,e=Object.values(this.companyMap).reduce((function(map,t){return map[t.統編]={company:t,stats:{}},map}),{});return this.stats.body.forEach((function(n){var r=e[n.統編];r&&n.年份===t.year&&(n.value=Number.parseFloat(n.數值),r.stats["".concat(n.子分類,"-").concat(n.項目,"-").concat(n.來自公司報告)]=n)})),Object.values(e)},activeQuartile:function(){return this.quartile[this.year]||{}}},watch:{industry:function(){this.$router.push("/industry/".concat(this.industry))}},beforeDestroy:function(){this.konamiHandler.unload()},methods:{changeYear:function(t){this.$router.push({name:this.$route.name,query:{year:t.target.value},params:this.$route.params})},toggleGuanshiyinn:function(){this.isGuanshiyinn=!this.isGuanshiyinn}}},m=(n(431),n(47)),component=Object(m.a)(v,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"industry"},[n("div",{staticClass:"industry__header container pv3 relative no-repeat cover"},[n("div",{staticClass:"industry__about flex justify-end"},[n("nuxt-link",{staticClass:"mr3 dim",attrs:{to:"/about"}},[t._v("關於計畫")]),n("nuxt-link",{staticClass:"dim",attrs:{to:"/terms-of-service"}},[t._v("免則聲明")])],1),n("nuxt-link",{attrs:{to:"/"}},[n("h1",{staticClass:"industry__title fw7"},[t._v("ESG 檢測儀")])]),n("p",{staticClass:"industry__desp"},[t._v("打造永續環境資料庫，推動企業永續發展。")]),n("div",{staticClass:"industry__year f6 o-70"},[t._v("資料年份："+t._s(t.year))]),t._m(0)],1),n("div",{staticClass:"industry__nav container flex items-end"},[n("div",{staticClass:"mr5"},[n("div",{staticClass:"f6 o-60 mb1"},[t._v("產業")]),n("label",{staticClass:"flex items-center"},[n("select",{directives:[{name:"model",rawName:"v-model",value:t.industry,expression:"industry"}],staticClass:"industry__typeSelector",on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){return"_value"in t?t._value:t.value}));t.industry=e.target.multiple?n:n[0]}}},t._l(t.industries,(function(e){return n("option",{key:e},[t._v(t._s(e))])})),0),n("i",{staticClass:"fas fa-sort"})])]),n("div",[n("div",{staticClass:"f6 o-60 mb1"},[t._v("資料年份")]),n("label",{staticClass:"flex items-center"},[n("select",{staticClass:"industry__typeSelector",domProps:{value:t.year},on:{input:t.changeYear}},t._l(t.yearList,(function(e){return n("option",{key:e},[t._v(t._s(e))])})),0),n("i",{staticClass:"fas fa-sort"})])])]),t.isGuanshiyinn?n("div",{staticClass:"industry__fund container"},[n("investment-teller",{attrs:{stats:t.stats.body,quartile:t.quartile,"company-map":t.companyMap,year:t.year}})],1):t._e(),n("annual-stats-table",{attrs:{"company-stats":t.companyStats,quartile:t.activeQuartile}}),n("div",{staticClass:"industry__footer flex items-center justify-end container"},[n("a",{staticClass:"industry__cta db br2 pv2 ph3 fw7 white",attrs:{href:t.downloadLink}},[t._v("下載此頁資料")])]),n("div",{staticClass:"container"},[n("gcaa-footer")],1)],1)}),r,!1,null,"521ef31c",null);e.default=component.exports;installComponents(component,{InvestmentTeller:n(416).default,AnnualStatsTable:n(449).default,GcaaFooter:n(315).default})}}]);