(window.webpackJsonp=window.webpackJsonp||[]).push([[15,7],{304:function(t,e,r){var content=r(331);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(33).default)("f67eb550",content,!0,{sourceMap:!1})},329:function(t,e,r){var content=r(387);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(33).default)("1b0b657d",content,!0,{sourceMap:!1})},330:function(t,e,r){"use strict";r(304)},331:function(t,e,r){var n=r(32)(!1);n.push([t.i,".comAbbr[data-v-212a353f]{color:#49591c;text-decoration:underline}",""]),t.exports=n},332:function(t,e,r){"use strict";r.r(e);var n={props:{company:{type:Object,required:!0}},computed:{companyUrl:function(){return"/company/".concat(this.company.公司簡稱)}}},o=(r(330),r(47)),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement;return(t._self._c||e)("nuxt-link",{staticClass:"comAbbr fw5 dim",attrs:{to:t.companyUrl}},[t._v(t._s(t.company.公司簡稱))])}),[],!1,null,"212a353f",null);e.default=component.exports},386:function(t,e,r){"use strict";r(329)},387:function(t,e,r){var n=r(32)(!1);n.push([t.i,".invTellerWrapper[data-v-31695381]{width:100%;max-height:50vh;overflow:auto}.invTeller[data-v-31695381]{display:grid;grid-row-gap:.375rem;row-gap:.375rem;max-width:80rem;min-width:48rem;position:relative}.invTeller__measureHead[data-v-31695381]{grid-column:1/span 2;left:0;z-index:1}.invTeller__fundHead[data-v-31695381],.invTeller__measureHead[data-v-31695381]{padding:.375rem .625rem;position:-webkit-sticky;position:sticky;top:0;background:#ebedeb}.invTeller__stat[data-v-31695381]{background:#fff;height:2rem;position:-webkit-sticky;position:sticky;left:0}.invTeller__statVal[data-v-31695381]{background:#c1c1c1;color:#000}.invTeller__statVal--red[data-v-31695381]{background:#e24243;color:#fff}.invTeller__statVal--green[data-v-31695381]{background:#6fac45}.invTeller__statVal--yellow[data-v-31695381]{background:#facb3d}.invTeller__company[data-v-31695381]{padding:0 .5rem;position:-webkit-sticky;position:sticky;left:min(10rem,25vw)}.invTeller__fundFlag[data-v-31695381]{padding:0 .625rem}.invTeller__fundFlag[data-v-31695381]:last-child{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.invTeller__flag[data-v-31695381]{color:#c1c1c1;background:#c1c1c1;width:1.25rem;height:1.25rem;border:2px solid rgba(0,0,0,.1);border-radius:100%}.invTeller__flag--red[data-v-31695381]{color:#e24243;background:#e24243}.invTeller__flag--yellow[data-v-31695381]{color:#facb3d;background:#facb3d}.invTeller__flag--green[data-v-31695381]{color:#6fac45;background:#6fac45}.invTeller__switch[data-v-31695381]{line-height:1.5;color:#35811c;border:none}",""]),t.exports=n},406:function(t,e,r){"use strict";r.r(e);var n=r(78),o=(r(10),r(368),r(22),r(369),r(370),r(371),r(372),r(373),r(374),r(375),r(376),r(377),r(378),r(379),r(380),r(381),r(382),r(383),r(384),r(24),r(392),r(40),r(35),r(101),r(39),r(61),r(313),r(309),r(307),r(385),r(314),r(196),r(29),r(34),["碳密集度","能源密集度"]),l={props:{stats:{type:Array,required:!0},companyMap:{type:Object,required:!0},year:{type:String,default:"2019"}},data:function(){return{orderBy:o[0]}},computed:{invStyle:function(){return{gridTemplateColumns:"min(10rem, 25vw) 4rem repeat(".concat(this.fundList.length,", 1fr)")}},curMaxStatVal:function(){return this.sortedStats[0].E[this.orderBy]},orderOptions:function(){return o},fundList:function(){return Object(n.a)(new Set(this.investmentDataPerCompany.map((function(t){return Object.keys(t.X)})).flat())).map((function(t){return t.startsWith("中國信託")?{cat:"中國信託",name:t}:{cat:t.slice(0,2),name:t}}))},investmentDataPerCompany:function(){var t=this,e=this.stats.reduce((function(e,r){var n=r.統編,l=t.companyMap[n];if(r.年份!==t.year||!l)return e;if("X"===r.分類||r.來自公司報告&&o.includes(r.項目)){e[n]||(e[n]={X:{},E:{},company:l});var c=r.數值;"E"===r.分類&&(c=Number.parseFloat(c)),e[n][r.分類][r.項目]=c}return e}),{}),r=o.reduce((function(map,r){return map[r]=t.findQuartileValue(e,r),map}),{});return Object.values(e).map((function(t){return t.color={},o.forEach((function(e){var n=t.E[e];Number.isNaN(n)||void 0===n?(t.E[e]=0,t.color[e]="unknown"):n>=r[e].thridForth?t.color[e]="red":n>=r[e].oneForth?t.color[e]="yellow":t.color[e]="green"})),t}))},sortedStats:function(){var t=this.orderBy;return Object(n.a)(this.investmentDataPerCompany).sort((function(a,b){return b.E[t]-a.E[t]}))}},methods:{printValue:function(t){return"unknown"===t.color[this.orderBy]?"未揭露":(Math.round(100*t.E[this.orderBy])/100).toLocaleString()},switchOrder:function(){var t=this;this.orderBy=o.find((function(e){return e!==t.orderBy}))},fundName:function(t){var e=Math.round(t.name.length/2);return[t.name.slice(0,e),t.name.slice(e)]},barClass:function(t){return["invTeller__statVal--".concat(t.color[this.orderBy])]},barStyle:function(t){return"unknown"===t.color[this.orderBy]?{width:"6.5rem"}:{width:"".concat(100*t.E[this.orderBy]/this.curMaxStatVal,"%")}},flagClass:function(t){return["invTeller__flag--".concat(t.color[this.orderBy])]},findQuartileValue:function(t,e){var r=Object.values(t).filter((function(t){return!Number.isNaN(t.E[e])})).map((function(t){return t.E[e]})).sort((function(a,b){return a-b})),n=r.length,o={oneForth:0,thridForth:0};if(1===n)return{oneForth:r[0],thridForth:r[0]};var l=Math.round(n/4);return o.oneForth=(r[l-1]+r[l])/2,o.thridForth=(r[n-l]+r[n-l-1])/2,o}}},c=(r(386),r(47)),component=Object(c.a)(l,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"invTellerWrapper"},[t.fundList.length?r("div",{staticClass:"invTeller",style:t.invStyle},[r("div",{staticClass:"invTeller__measureHead"},t._l(t.orderOptions,(function(e){return r("button",{staticClass:"invTeller__switch bg-transparent w-100-ns f3 fw6 mb2 pointer db pa0 tl",class:[e===t.orderBy?"o-100":"o-50"],on:{click:t.switchOrder}},[t._v(t._s(e))])})),0),t._l(t.fundList,(function(e){return r("div",{staticClass:"invTeller__fundHead black"},[r("div",{staticClass:"fw6"},[t._v(t._s(e.cat))]),t._l(t.fundName(e),(function(line){return r("div",{staticClass:"fw4"},[t._v(t._s(line))])}))],2)})),t._l(t.sortedStats,(function(e){return[r("div",{staticClass:"invTeller__stat bg-white br2 br--left"},[r("div",{staticClass:"invTeller__statVal br2 h-100 ml-auto fw6 pr1 flex items-center justify-end",class:t.barClass(e),style:t.barStyle(e)},[t._v(t._s(t.printValue(e)))])]),r("div",{staticClass:"invTeller__company bg-white flex items-center"},[r("company-abbr",{attrs:{company:e.company}})],1),t._l(t.fundList,(function(n){return r("div",{staticClass:"invTeller__fundFlag bg-white flex items-center"},[e.X[n.name]?r("div",{staticClass:"invTeller__flag",class:t.flagClass(e)},[t._v("T")]):t._e()])}))]}))],2):t._e()])}),[],!1,null,"31695381",null);e.default=component.exports;installComponents(component,{CompanyAbbr:r(332).default})}}]);