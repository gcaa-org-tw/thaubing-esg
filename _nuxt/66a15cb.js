(window.webpackJsonp=window.webpackJsonp||[]).push([[34,21],{343:function(t,e,r){"use strict";var n=r(4),o=r(69),c=r(37),l=r(49),f=r(14),d=r(5),y=r(348),C=r(146),h=r(349),v=r(350),m=r(89),P=r(351),N=[],_=N.sort,L=d((function(){N.sort(void 0)})),I=d((function(){N.sort(null)})),O=C("sort"),x=!d((function(){if(m)return m<70;if(!(h&&h>3)){if(v)return!0;if(P)return P<603;var code,t,e,r,n="";for(code=65;code<76;code++){switch(t=String.fromCharCode(code),code){case 66:case 69:case 70:case 72:e=3;break;case 68:case 71:e=4;break;default:e=2}for(r=0;r<47;r++)N.push({k:t+r,v:e})}for(N.sort((function(a,b){return b.v-a.v})),r=0;r<N.length;r++)t=N[r].k.charAt(0),n.charAt(n.length-1)!==t&&(n+=t);return"DGBEFHACIJK"!==n}}));n({target:"Array",proto:!0,forced:L||!I||!O||!x},{sort:function(t){void 0!==t&&o(t);var e=c(this);if(x)return void 0===t?_.call(e):_.call(e,t);var r,n,d=[],C=l(e);for(n=0;n<C;n++)n in e&&d.push(e[n]);for(d=y(d,function(t){return function(e,r){return void 0===r?-1:void 0===e?1:void 0!==t?+t(e,r)||0:f(e)>f(r)?1:-1}}(t)),r=d.length,n=0;n<r;)e[n]=d[n++];for(;n<C;)delete e[n++];return e}})},344:function(t,e,r){var n=r(4),o=r(227).values;n({target:"Object",stat:!0},{values:function(t){return o(t)}})},348:function(t,e){var r=Math.floor,n=function(t,e){var l=t.length,f=r(l/2);return l<8?o(t,e):c(n(t.slice(0,f),e),n(t.slice(f),e),e)},o=function(t,e){for(var element,r,n=t.length,i=1;i<n;){for(r=i,element=t[i];r&&e(t[r-1],element)>0;)t[r]=t[--r];r!==i++&&(t[r]=element)}return t},c=function(t,e,r){for(var n=t.length,o=e.length,c=0,l=0,f=[];c<n||l<o;)c<n&&l<o?f.push(r(t[c],e[l])<=0?t[c++]:e[l++]):f.push(c<n?t[c++]:e[l++]);return f};t.exports=n},349:function(t,e,r){var n=r(70).match(/firefox\/(\d+)/i);t.exports=!!n&&+n[1]},350:function(t,e,r){var n=r(70);t.exports=/MSIE|Trident/.test(n)},351:function(t,e,r){var n=r(70).match(/AppleWebKit\/(\d+)\./);t.exports=!!n&&+n[1]},387:function(t,e,r){var content=r(443);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(30).default)("569b55e4",content,!0,{sourceMap:!1})},435:function(t){t.exports=JSON.parse('[{"label":"鋼鐵工業","code":"10"},{"label":"化學工業","code":"21"},{"label":"半導體業","code":"24"},{"label":"光電業","code":"26"},{"label":"水泥工業","code":"01"},{"label":"石化業","code":"03"},{"label":"紡織纖維","code":"04"}]')},441:function(t){t.exports=JSON.parse('[{"year":2013,"PNNL":1.0072,"IPCC":1.0072},{"year":2014,"PNNL":1.0146,"IPCC":1.0146},{"year":2015,"PNNL":1.0105,"IPCC":1.0105},{"year":2016,"PNNL":1.0238,"IPCC":1.0238},{"year":2017,"PNNL":1.0417,"IPCC":1.0417},{"year":2018,"PNNL":1.0353,"IPCC":1.0353},{"year":2019,"PNNL":1,"IPCC":1},{"year":2020,"PNNL":0.9545,"IPCC":0.9609},{"year":2021,"PNNL":0.9091,"IPCC":0.9218},{"year":2022,"PNNL":0.8636,"IPCC":0.8827},{"year":2023,"PNNL":0.8182,"IPCC":0.8436},{"year":2024,"PNNL":0.7727,"IPCC":0.8045},{"year":2025,"PNNL":0.7273,"IPCC":0.7655},{"year":2026,"PNNL":0.6818,"IPCC":0.7264},{"year":2027,"PNNL":0.6364,"IPCC":0.6873},{"year":2028,"PNNL":0.5909,"IPCC":0.6482},{"year":2029,"PNNL":0.5455,"IPCC":0.6091},{"year":2030,"PNNL":0.5,"IPCC":0.57},{"year":2031,"PNNL":0.475,"IPCC":0.5495},{"year":2032,"PNNL":0.45,"IPCC":0.529},{"year":2033,"PNNL":0.425,"IPCC":0.5085},{"year":2034,"PNNL":0.4,"IPCC":0.488},{"year":2035,"PNNL":0.375,"IPCC":0.4675},{"year":2036,"PNNL":0.35,"IPCC":0.447},{"year":2037,"PNNL":0.325,"IPCC":0.4265},{"year":2038,"PNNL":0.3,"IPCC":0.406},{"year":2039,"PNNL":0.275,"IPCC":0.3855},{"year":2040,"PNNL":0.25,"IPCC":0.365},{"year":2041,"PNNL":0.225,"IPCC":0.3445},{"year":2042,"PNNL":0.2,"IPCC":0.324},{"year":2043,"PNNL":0.175,"IPCC":0.3035},{"year":2044,"PNNL":0.15,"IPCC":0.283},{"year":2045,"PNNL":0.125,"IPCC":0.2625},{"year":2046,"PNNL":0.1,"IPCC":0.242},{"year":2047,"PNNL":0.075,"IPCC":0.2215},{"year":2048,"PNNL":0.05,"IPCC":0.201},{"year":2049,"PNNL":0.025,"IPCC":0.1805},{"year":2050,"PNNL":0,"IPCC":0.16}]')},442:function(t,e,r){"use strict";r(387)},443:function(t,e,r){var n=r(29)(!1);n.push([t.i,"",""]),t.exports=n},451:function(t,e,r){var content=r(486);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(30).default)("fa0257a2",content,!0,{sourceMap:!1})},467:function(t,e,r){"use strict";r.r(e);var n=r(12),o=r(87),c=(r(22),r(32),r(343),r(59),r(344),r(23),r(31),r(42),r(43),r(441));function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function f(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var d={props:{bauStats:{type:Array,required:!0},companyMap:{type:Object,required:!0}},data:function(){return{c3Handler:null}},computed:{chartData:function(){var t=this,data={},e=this.bauStats.reduce((function(e,r){var n=r.年份,o=t.companyMap[r.統編];return e[n]||(e[n]={}),e[n][o.公司簡稱]=r.Tot變化-0,e}),{});c.forEach((function(t){e[t.year].PNNL=100*t.PNNL,e[t.year].IPCC=100*t.IPCC}));var r=Object.keys(e[2019]);r.forEach((function(t){data[t]=[t]}));var n=Object.keys(e).sort();return n.forEach((function(t){r.forEach((function(r){var n=e[t][r]||null;data[r].push(n)}))})),{x:"x",columns:[["x"].concat(Object(o.a)(n))].concat(Object(o.a)(Object.values(data))),type:"line",types:{IPCC:"area",PNNL:"area"}}},c3Config:function(){return{axis:{x:{type:"timeseries",tick:{format:"%Y"}}}}}},watch:{bauStats:function(){this.updateChart()}},mounted:function(){this.initChart()},methods:{initChart:function(){var t=r(366);this.c3Handler=t.generate(f(f({data:this.chartData},this.c3config),{},{bindto:this.$refs.chart}))},updateChart:function(){this.c3Handler?this.c3Handler.load({unload:!0,columns:this.chartData.columns}):this.initChart()}}},y=(r(442),r(35)),component=Object(y.a)(d,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"indBau relative"},[e("div",{ref:"chart",staticClass:"indBau__chart h-100"})])}),[],!1,null,"d0bf4084",null);e.default=component.exports},485:function(t,e,r){"use strict";r(451)},486:function(t,e,r){var n=r(29)(!1);n.push([t.i,".netZero__nav[data-v-28cb69f0]{margin-top:2.25rem;margin-bottom:1.125rem}.netZero__typeSelector[data-v-28cb69f0]{width:8rem}.netZero__typeSelector[data-v-28cb69f0]  .dropdown-menu{min-width:8rem}.netZero__typeSelector[data-v-28cb69f0]  .dropdown-trigger{width:100%}.netZero__typeSelector[data-v-28cb69f0]  .dropdown-trigger button{border:none;outline:none;background:transparent}.netZero__typeSelector[data-v-28cb69f0]  .dropdown-content{background:#333}.netZero__typeSelector[data-v-28cb69f0]  .has-link a{padding:.5rem;color:#fff;font-size:1.5rem}.netZero__typeSelector[data-v-28cb69f0]  .has-link a:hover{background:#555;color:#fff}.netZero__filter[data-v-28cb69f0]{margin:1.75rem 0 2.25rem}.netZero__filterItem[data-v-28cb69f0]{font-size:1.375rem;line-height:1.18;color:rgba(74,127,46,.70196);padding-bottom:.375rem;border-bottom:1px solid transparent}.netZero__filterItem--active[data-v-28cb69f0]{color:#35811c;border-color:#35811c}.netZero__filterItem[data-v-28cb69f0]:not(:last-child){margin-right:1.75rem}.netZero__chart[data-v-28cb69f0]{margin:2.5rem auto;max-width:60rem}.netZero__chart h2[data-v-28cb69f0]{font-size:1.375rem;margin-bottom:1.75rem;color:#000}",""]),t.exports=n},502:function(t,e,r){"use strict";r.r(e);var n=r(10),o=(r(51),r(31),r(224),r(32),r(48),r(343),r(344),r(26),r(449)),c=r(435),l={top5:"top5",all:"all"},f={asyncData:function(t){return Object(n.a)(regeneratorRuntime.mark((function e(){var r,n,c,l,f,d,y;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.$content,n=t.params,c=t.redirect,e.prev=1,e.next=4,r("industry","".concat(n.industry,"-bau")).fetch();case 4:return l=e.sent,f=Object(o.uniqBy)(l.body,"統編").reduce((function(t,e){return t[e.統編]=!0,t}),{}),e.next=8,r("companyList").fetch();case 8:return d=e.sent,y=d.body.filter((function(t){return t.統編 in f})),e.abrupt("return",{stats:l,companyList:y});case 13:return e.prev=13,e.t0=e.catch(1),c("/"),e.abrupt("return",{stats:[],companyList:[]});case 17:case"end":return e.stop()}}),e,null,[[1,13]])})))()},computed:{industry:function(){var code=this.$route.params.industry||"03",t=c.find((function(t){return t.code===code}));return t||c[0]},industries:function(){return c},filter:function(){var code=this.$route.query.filter;return l[code]?code:l.top5},companyCount:function(){return Object.keys(this.companyList).length},companyMap:function(){return this.companyList.reduce((function(t,e){return t[e.統編]=e,t}),{})},top5CompanyMap:function(){var t=this.stats.body.reduce((function(t,e){if(e.是預測值)return t;var r=e.年份,n=e.Tot數值,o=e.統編;return t[o]?t[o].year<r&&(t[o]={id:o,year:r,value:n}):t[o]={id:o,year:r,value:n},t}),{});return Object.values(t).sort((function(a,b){return b.value-a.value})).slice(0,5).reduce((function(t,e){return t[e.id]=e,t}),{})},bauStats:function(){var t=this;return this.filter===l.all?this.stats.body:this.stats.body.filter((function(e){return e.統編 in t.top5CompanyMap}))},top5Count:function(){return Object.values(this.top5CompanyMap).length}},beforeDestroy:function(){var html=document.querySelector("html");html.classList.contains("is-clipped-touch")&&html.classList.remove("is-clipped-touch")},methods:{industryLink:function(t){return{name:this.$route.name,params:{industry:t},query:this.$route.query}},filterLink:function(filter){return{name:this.$route.name,params:this.$route.params,query:{filter:filter}}}}},d=(r(485),r(35)),component=Object(d.a)(f,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"netZero"},[r("div",{staticClass:"netZero__nav esgContainer"},[r("div",{staticClass:"f6 o-60 mb1"},[t._v("產業")]),r("b-dropdown",{staticClass:"netZero__typeSelector",attrs:{"aria-role":"menu"}},[r("template",{slot:"trigger"},[r("button",{staticClass:"flex justify-between items-center w-100 pointer"},[r("div",{staticClass:"black f3 flex-auto tl"},[t._v(t._s(t.industry.label))]),r("i",{staticClass:"fas fa-sort flex-none"})])]),t._l(t.industries,(function(e){return r("b-dropdown-item",{key:e.code,attrs:{"aria-role":"menuitem","has-link":!0}},[r("nuxt-link",{attrs:{to:t.industryLink(e.code)}},[t._v(t._s(e.label))])],1)}))],2),r("div",{staticClass:"netZero__filter flex items-center"},[r("nuxt-link",{staticClass:"netZero__filterItem",class:{"netZero__filterItem--active":"top5"===t.filter},attrs:{to:t.filterLink("top5")}},[t._v(t._s(t.industry.label)+"碳排大戶 ("+t._s(t.top5Count)+")")]),r("nuxt-link",{staticClass:"netZero__filterItem pointer",class:{"netZero__filterItem--active":"all"===t.filter},attrs:{to:t.filterLink("all")}},[t._v("所有公司 ("+t._s(t.companyCount)+")")])],1)],1),r("div",{staticClass:"netZero__legend"}),r("div",{staticClass:"netZero__chart"},[r("h2",[t._v("企業維持原狀的碳排成長")]),r("net-zero-industry-bau",{attrs:{"bau-stats":t.bauStats,"company-map":t.companyMap}})],1)])}),[],!1,null,"28cb69f0",null);e.default=component.exports;installComponents(component,{NetZeroIndustryBau:r(467).default})}}]);