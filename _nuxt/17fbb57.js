(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{328:function(t,r,e){var content=e(384);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,e(33).default)("43981828",content,!0,{sourceMap:!1})},383:function(t,r,e){"use strict";e(328)},384:function(t,r,e){var n=e(32)(!1);n.push([t.i,".invTeller[data-v-4b7b573a]{display:grid;grid-row-gap:.375rem;row-gap:.375rem;max-width:80rem}.invTeller__measureHead[data-v-4b7b573a]{grid-column:1/span 2;padding:.375rem .625rem}.invTeller__fundHead[data-v-4b7b573a]{padding:.375rem .625rem}.invTeller__stat[data-v-4b7b573a]{background:#fff;height:2rem}.invTeller__statVal[data-v-4b7b573a]{background:#c1c1c1;color:#000}.invTeller__statVal--red[data-v-4b7b573a]{background:#e24243;color:#fff}.invTeller__statVal--green[data-v-4b7b573a]{background:#6fac45}.invTeller__statVal--yellow[data-v-4b7b573a]{background:#facb3d}.invTeller__company[data-v-4b7b573a]{padding:0 .5rem}.invTeller__fundFlag[data-v-4b7b573a]{padding:0 .625rem}.invTeller__fundFlag[data-v-4b7b573a]:last-child{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.invTeller__flag[data-v-4b7b573a]{color:#c1c1c1;background:#c1c1c1;width:1.25rem;height:1.25rem;border:2px solid rgba(0,0,0,.1);border-radius:100%}.invTeller__flag--red[data-v-4b7b573a]{color:#e24243;background:#e24243}.invTeller__flag--yellow[data-v-4b7b573a]{color:#facb3d;background:#facb3d}.invTeller__flag--green[data-v-4b7b573a]{color:#6fac45;background:#6fac45}.invTeller__switch[data-v-4b7b573a]{line-height:1.5;color:#35811c;border:none}",""]),t.exports=n},403:function(t,r,e){"use strict";e.r(r);var n=e(78),l=(e(10),e(364),e(22),e(365),e(366),e(367),e(368),e(369),e(370),e(371),e(372),e(373),e(374),e(375),e(376),e(377),e(378),e(379),e(380),e(24),e(389),e(40),e(35),e(101),e(39),e(61),e(312),e(308),e(306),e(381),e(313),e(382),e(196),e(29),e(34),["碳密集度","能源密集度"]),o={props:{stats:{type:Array,required:!0},companyMap:{type:Object,required:!0},year:{type:String,default:"2019"}},data:function(){return{orderBy:l[1]}},computed:{invStyle:function(){return{gridTemplateColumns:"1.5fr 4rem repeat(".concat(this.fundList.length,", 1fr)")}},curMaxStatVal:function(){return this.sortedStats[0].E[this.orderBy]},orderOptions:function(){return l},fundList:function(){return Object(n.a)(new Set(this.investmentDataPerCompany.map((function(t){return Object.keys(t.X)})).flat())).map((function(t){return t.startsWith("中國信託")?{cat:"中國信託",name:t}:{cat:t.slice(0,2),name:t}}))},investmentDataPerCompany:function(){var t=this,r=this.stats.reduce((function(r,e){var n=e.統編,o=t.companyMap[n];if(e.年份!==t.year||!o)return r;if("X"===e.分類||e.來自公司報告&&l.includes(e.項目)){r[n]||(r[n]={X:{},E:{},company:o});var c=e.數值;"E"===e.分類&&(c=Number.parseFloat(c)),r[n][e.分類][e.項目]=c}return r}),{}),e=l.reduce((function(map,e){return map[e]=t.findQuartileValue(r,e),map}),{});return Object.values(r).map((function(t){return t.color={},l.forEach((function(r){var n=t.E[r];Number.isNaN(n)||void 0===n?(t.E[r]=e[r].thridForth,t.color[r]="unknown"):n>=e[r].thridForth?t.color[r]="red":n>=e[r].oneForth?t.color[r]="yellow":t.color[r]="green"})),t}))},sortedStats:function(){var t=this.orderBy;return Object(n.a)(this.investmentDataPerCompany).sort((function(a,b){return b.E[t]-a.E[t]}))}},methods:{printValue:function(t){return"unknown"===t.color[this.orderBy]?"?":t.E[this.orderBy].toFixed(2)},switchOrder:function(){var t=this;this.orderBy=l.find((function(r){return r!==t.orderBy}))},fundName:function(t){var r=Math.round(t.name.length/2);return[t.name.slice(0,r),t.name.slice(r)]},barClass:function(t){return["invTeller__statVal--".concat(t.color[this.orderBy])]},barStyle:function(t){return{width:"".concat(100*t.E[this.orderBy]/this.curMaxStatVal,"%")}},flagClass:function(t){return["invTeller__flag--".concat(t.color[this.orderBy])]},findQuartileValue:function(t,r){var e=Object.values(t).filter((function(t){return!Number.isNaN(t.E[r])})).map((function(t){return t.E[r]})).sort((function(a,b){return a-b})),n=e.length,l={oneForth:0,thridForth:0};if(1===n)return{oneForth:e[0],thridForth:e[0]};var o=Math.round(n/4);return l.oneForth=(e[o-1]+e[o])/2,l.thridForth=(e[n-o]+e[n-o-1])/2,l}}},c=(e(383),e(47)),component=Object(c.a)(o,(function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("div",{staticClass:"invTeller",style:t.invStyle},[e("div",{staticClass:"invTeller__measureHead"},t._l(t.orderOptions,(function(r){return e("button",{staticClass:"invTeller__switch bg-transparent f3 fw6 mb2 pointer db pa0",class:[r===t.orderBy?"o-100":"o-50"],on:{click:t.switchOrder}},[t._v(t._s(r))])})),0),t._l(t.fundList,(function(r){return e("div",{staticClass:"invTeller__fundHead black"},[e("div",{staticClass:"fw6"},[t._v(t._s(r.cat))]),t._l(t.fundName(r),(function(line){return e("div",{staticClass:"fw4"},[t._v(t._s(line))])}))],2)})),t._l(t.sortedStats,(function(r){return[e("div",{staticClass:"invTeller__stat bg-white br2 br--left"},[e("div",{staticClass:"invTeller__statVal br2 h-100 ml-auto fw6 pr1 flex items-center justify-end",class:t.barClass(r),style:t.barStyle(r)},[t._v(t._s(t.printValue(r)))])]),e("div",{staticClass:"invTeller__company bg-white flex items-center"},[t._v(t._s(r.company.公司簡稱))]),t._l(t.fundList,(function(n){return e("div",{staticClass:"invTeller__fundFlag bg-white flex items-center"},[r.X[n.name]?e("div",{staticClass:"invTeller__flag",class:t.flagClass(r)},[t._v("T")]):t._e()])}))]}))],2)}),[],!1,null,"4b7b573a",null);r.default=component.exports}}]);