(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{436:function(t,e,r){var content=r(489);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(28).default)("176628f2",content,!0,{sourceMap:!1})},438:function(t,e,r){"use strict";r.r(e);r(380),r(65);var n=r(385),o={props:{title:{type:String,required:!0},value:{type:Number,default:-1},color:{type:String,default:"#000"},type:{type:String,default:"fact",validator:function(t){return["bau","fact","noLabel","roadmap"].includes(t)}}},computed:{valueDiff:function(){return this.value-100},valueLabel:function(){return 0!==this.valueDiff?Object(n.k)(Math.abs(this.valueDiff)):" 0"},valueClass:function(){return this.valueDiff>0?"esgLegend__value--raise":this.valueDiff<0?"esgLegend__value--reduce":""}}},c=r(39),component=Object(c.a)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"esgLegend flex items-center",class:["esgLegend--".concat(t.type)]},[e("div",{staticClass:"esgLegend__label flex-none",style:{background:t.color}}),e("div",{staticClass:"esgLegend__name flex-auto truncate"},[t._v(t._s(t.title))]),t.value>=0?e("div",{staticClass:"esgLegend__value flex-none",class:t.valueClass},[t._v(t._s(t.valueLabel))]):t._e()])}),[],!1,null,null,null);e.default=component.exports},488:function(t,e,r){"use strict";r(436)},489:function(t,e,r){var n=r(27)(!1);n.push([t.i,".indBau[data-v-e360ca4a]{height:22.5rem}",""]),t.exports=n},499:function(t,e,r){var content=r(543);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(28).default)("cf58edd4",content,!0,{sourceMap:!1})},517:function(t,e,r){"use strict";r.r(e);var n=r(16),o=(r(380),r(240),r(13),r(37),r(30),r(36),r(45),r(29),r(46),r(389)),c=r(385);function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function d(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var f={mixins:[c.f],props:{bauStats:{type:Array,required:!0},ciStats:{type:Array,required:!0},companyMap:{type:Object,required:!0},yMax:{type:Number,required:!0}},data:function(){return{c3Handler:null}},computed:{chartData:function(){var t=this;return Object(c.h)({stats:this.bauStats,getUnitLabel:function(e){return t.companyMap[e.統編].公司簡稱},getUnitColor:function(e){return Object(o.get)(t.companyAbbrMap,"".concat(e,".color"),"")},isDashed:function(t){return!!t.是預測值}})},c3Config:function(){var t=this;return Object(c.g)(this.yMax,{tooltip:{grouped:!1,contents:Object(c.i)({isBau:!0,findUnit:function(e){return t.companyAbbrMap[e]},findAnotherRow:function(e,r){return t.ciStats.find((function(t){return t.年份===e&&t.統編===r.統編}))}})}})}},watch:{bauStats:function(){this.updateChart()}},mounted:function(){this.initChart()},methods:{initChart:function(){var t=r(398);this.c3Handler=t.generate(d(d({data:this.chartData},this.c3Config),{},{bindto:this.$refs.chart}))},updateChart:function(){this.c3Handler?(this.c3Handler.axis.max({y:this.yMax}),this.c3Handler.load({unload:!0,columns:this.chartData.columns})):this.initChart()}}},m=(r(488),r(39)),component=Object(m.a)(f,(function(){var t=this._self._c;return t("div",{staticClass:"indBau relative"},[t("div",{ref:"chart",staticClass:"netZeroChart h-100"})])}),[],!1,null,"e360ca4a",null);e.default=component.exports},542:function(t,e,r){"use strict";r(499)},543:function(t,e,r){var n=r(27)(!1);n.push([t.i,".netZero__nav[data-v-67b2e89e]{margin-top:2.25rem;margin-bottom:1.125rem}.netZero__typeSelector[data-v-67b2e89e]{width:8rem}.netZero__typeSelector[data-v-67b2e89e]  .dropdown-menu{min-width:8rem}.netZero__typeSelector[data-v-67b2e89e]  .dropdown-trigger{width:100%}.netZero__typeSelector[data-v-67b2e89e]  .dropdown-trigger button{border:none;outline:none;background:transparent}.netZero__typeSelector[data-v-67b2e89e]  .dropdown-content{background:#333}.netZero__typeSelector[data-v-67b2e89e]  .has-link a{padding:.5rem;color:#fff;font-size:1.5rem}.netZero__typeSelector[data-v-67b2e89e]  .has-link a:hover{background:#555;color:#fff}.netZero__filter[data-v-67b2e89e]{margin:1.75rem 0 2.25rem}.netZero__filterItem[data-v-67b2e89e]{line-height:1.18;color:rgba(74,127,46,.7019607843);padding-bottom:.375rem;border-bottom:1px solid transparent}.netZero__filterItem--active[data-v-67b2e89e]{color:#35811c;border-color:#35811c}.netZero__filterItem[data-v-67b2e89e]:not(:last-child){margin-right:1.75rem}@media screen and (min-width:60em){.netZero__filterItem[data-v-67b2e89e]{font-size:1.375rem}}.netZero__legend[data-v-67b2e89e]{margin:2.25rem auto 2.5rem}.netZero__legendRow[data-v-67b2e89e]{display:grid;grid-template-columns:repeat(auto-fit,9.5rem);grid-row-gap:.5rem;row-gap:.5rem;grid-column-gap:1rem;-moz-column-gap:1rem;column-gap:1rem}.netZero__legendRow+.netZero__legendRow[data-v-67b2e89e]{margin-top:1.25rem}.netZero__chart[data-v-67b2e89e]{margin:2.5rem auto}.netZero__chart h2[data-v-67b2e89e]{font-size:1.375rem;margin-bottom:1.75rem;color:#000}",""]),t.exports=n},562:function(t,e,r){"use strict";r.r(e);r(36),r(13),r(30),r(45),r(29),r(46);var n=r(16),o=r(97),c=r(12),l=(r(55),r(64),r(53),r(240),r(37),r(52),r(382),r(383),r(31),r(393)),d=r(389),f=r(385);function m(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function v(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var h={top5:"top5",all:"all"},y={mixins:[f.j],asyncData:function(t){return Object(c.a)(regeneratorRuntime.mark((function e(){var r,n,c,m,h,y,_,C,O;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.$content,n=t.params,c=t.redirect,m=[],h=[],y=[],e.prev=4,e.next=7,r("industry","".concat(n.industry,"-bau")).fetch();case 7:m=e.sent,e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(4),n.industry!==f.b&&c("/"),e.abrupt("return",{bauStats:m,ciStats:y,companyList:h});case 14:return m=Object(f.e)(m),e.prev=15,e.next=18,r("industry","".concat(n.industry,"-net-zero-commitment")).fetch();case 18:y=e.sent,y=Object(f.e)(y),e.next=24;break;case 22:e.prev=22,e.t1=e.catch(15);case 24:return _=Object(d.uniqBy)([].concat(Object(o.a)(m),Object(o.a)(y)),"統編").reduce((function(t,e){return t[e.統編]=!0,t}),{}),e.next=27,r("companyList").fetch();case 27:return C=e.sent,h=C.body.filter((function(t){return t.統編 in _})),O=h.length,h=h.map((function(t,i){return v(v({},t),{},{color:Object(l.interpolateCividis)(i/O)})})),console.warn("cc",h),e.abrupt("return",{bauStats:m,ciStats:y,companyList:h});case 33:case"end":return e.stop()}}),e,null,[[4,10],[15,22]])})))()},computed:{industry:function(){var code=this.$route.params.industry||"03",t=this.industries.find((function(t){return t.code===code}));return t||this.industries[0]},filter:function(){var code=this.$route.query.filter;return h[code]?code:h.top5},companyCount:function(){return Object.keys(this.companyList).length},companyMap:function(){return this.companyList.reduce((function(t,e){return t[e.統編]=e,t}),{})},top5CompanyMap:function(){var t=this,e=this.bauStats.reduce((function(t,e){if(e.是預測值)return t;var r=e.年份,n=e.Tot數值,o=e.統編;return t[o]?t[o].year<r&&(t[o]={id:o,year:r,value:n}):t[o]={id:o,year:r,value:n},t}),{});return Object.values(e).sort((function(a,b){return b.value-a.value})).slice(0,5).reduce((function(e,r,i){return e[r.id]=v(v({},t.companyMap[r.id]),{},{color:Object(l.interpolateCividis)((i+.7)/5)}),e}),{})},activeCompanyMap:function(){return this.filter===h.all?this.companyMap:this.top5CompanyMap},activeCompanyList:function(){return Object.values(this.activeCompanyMap)},yMax:function(){return[].concat(Object(o.a)(this.visibleBauStats),Object(o.a)(this.visibleCiStats)).reduce((function(t,e){return t===f.d.MAX?t:e.Tot變化>t?Math.min(e.Tot變化,f.d.MAX):t}),f.d.MIN)},visibleBauStats:function(){var t=this;return this.bauStats.filter((function(e){return e.統編 in t.activeCompanyMap}))},visibleCiStats:function(){var t=this;return this.ciStats.filter((function(e){return e.統編 in t.activeCompanyMap}))},top5Count:function(){return Object.values(this.top5CompanyMap).length},chartColors:function(){return f.a}},beforeDestroy:function(){var html=document.querySelector("html");html.classList.contains("is-clipped-touch")&&html.classList.remove("is-clipped-touch")},methods:{filterLink:function(filter){return{name:this.$route.name,params:this.$route.params,query:{filter:filter}}}}},_=(r(542),r(39)),component=Object(_.a)(y,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"netZero"},[e("div",{staticClass:"netZero__nav esgContainer"},[e("div",{staticClass:"f6 o-60 mb1"},[t._v("產業")]),e("b-dropdown",{staticClass:"netZero__typeSelector",attrs:{"aria-role":"menu",scrollable:!0,"max-height":"22rem"}},[e("template",{slot:"trigger"},[e("button",{staticClass:"flex justify-between items-center w-100 pointer"},[e("div",{staticClass:"black f3 flex-auto tl"},[t._v(t._s(t.industry.label))]),e("i",{staticClass:"fas fa-sort flex-none"})])]),t._l(t.industries,(function(r){return e("b-dropdown-item",{key:r.code,attrs:{"aria-role":"menuitem","has-link":!0}},[e("nuxt-link",{attrs:{to:t.industryLink(r.code)}},[t._v(t._s(r.label))])],1)}))],2),e("div",{staticClass:"netZero__filter flex items-center"},[e("nuxt-link",{staticClass:"netZero__filterItem",class:{"netZero__filterItem--active":"top5"===t.filter},attrs:{to:t.filterLink("top5")}},[t._v(t._s(t.industry.label)+"碳排大戶 ("+t._s(t.top5Count)+")")]),e("nuxt-link",{staticClass:"netZero__filterItem pointer",class:{"netZero__filterItem--active":"all"===t.filter},attrs:{to:t.filterLink("all")}},[t._v("所有公司 ("+t._s(t.companyCount)+")")])],1)],1),e("div",{staticClass:"netZero__legend thinContainer"},[e("div",{staticClass:"netZero__legendRow"},t._l(t.activeCompanyList,(function(t){return e("net-zero-legend",{key:t.統編,attrs:{title:t.公司簡稱,color:t.color}})})),1),e("div",{staticClass:"netZero__legendRow"},[e("net-zero-legend",{attrs:{title:"IPCC",color:t.chartColors.IPCC,type:"roadmap"}}),e("net-zero-legend",{attrs:{title:"PNNL",color:t.chartColors.PNNL,type:"roadmap"}})],1)]),e("div",{staticClass:"netZero__chart thinContainer"},[e("h2",[t._v("企業維持原狀的碳排成長")]),e("net-zero-industry-bau",{attrs:{"bau-stats":t.visibleBauStats,"ci-stats":t.visibleCiStats,"company-map":t.activeCompanyMap,"y-max":t.yMax}})],1),e("div",{staticClass:"netZero__chart thinContainer"},[e("h2",[t._v("企業淨零目標路線")]),e("net-zero-industry-commitment",{attrs:{"ci-stats":t.visibleCiStats,"bau-stats":t.visibleBauStats,"company-map":t.activeCompanyMap,"y-max":t.yMax}})],1)])}),[],!1,null,"67b2e89e",null);e.default=component.exports;installComponents(component,{NetZeroLegend:r(438).default,NetZeroIndustryBau:r(517).default,NetZeroIndustryCommitment:r(556).default})}}]);