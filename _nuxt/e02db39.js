(window.webpackJsonp=window.webpackJsonp||[]).push([[38,21,22,23,25],{378:function(t,e,n){"use strict";var r=n(15),o=n(7),c=n(5),l=n(129),f=n(22),d=n(18),m=n(241),v=n(54),y=n(99),h=n(242),C=n(6),_=n(98).f,N=n(49).f,P=n(21).f,O=n(380),L=n(240).trim,j="Number",I=o.Number,x=I.prototype,k=o.TypeError,w=c("".slice),S=c("".charCodeAt),M=function(t){var e=h(t,"number");return"bigint"==typeof e?e:A(e)},A=function(t){var e,n,r,o,c,l,f,code,d=h(t,"number");if(y(d))throw k("Cannot convert a Symbol value to a number");if("string"==typeof d&&d.length>2)if(d=L(d),43===(e=S(d,0))||45===e){if(88===(n=S(d,2))||120===n)return NaN}else if(48===e){switch(S(d,1)){case 66:case 98:r=2,o=49;break;case 79:case 111:r=8,o=55;break;default:return+d}for(l=(c=w(d,2)).length,f=0;f<l;f++)if((code=S(c,f))<48||code>o)return NaN;return parseInt(c,r)}return+d};if(l(j,!I(" 0o1")||!I("0b1")||I("+0x1"))){for(var D,Z=function(t){var e=arguments.length<1?0:I(M(t)),n=this;return v(x,n)&&C((function(){O(n)}))?m(Object(e),n,Z):e},E=r?_(I):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),T=0;E.length>T;T++)d(I,D=E[T])&&!d(Z,D)&&P(Z,D,N(I,D));Z.prototype=x,x.constructor=Z,f(o,j,Z,{constructor:!0})}},380:function(t,e,n){var r=n(5);t.exports=r(1..valueOf)},385:function(t,e,n){var r=n(3),o=n(243).values;r({target:"Object",stat:!0},{values:function(t){return o(t)}})},400:function(t,e,n){"use strict";n.d(e,"c",(function(){return y})),n.d(e,"e",(function(){return h})),n.d(e,"d",(function(){return C})),n.d(e,"a",(function(){return _})),n.d(e,"o",(function(){return P})),n.d(e,"h",(function(){return L})),n.d(e,"j",(function(){return j})),n.d(e,"i",(function(){return I})),n.d(e,"f",(function(){return x})),n.d(e,"l",(function(){return w})),n.d(e,"k",(function(){return S})),n.d(e,"g",(function(){return M})),n.d(e,"b",(function(){return A})),n.d(e,"n",(function(){return D})),n.d(e,"m",(function(){return Z}));n(30),n(45),n(46);var r=n(17),o=n(97),c=(n(51),n(64),n(37),n(36),n(13),n(29),n(383),n(402),n(52),n(247),n(244),n(101),n(398)),l=n(401),f=n(404),d=n(405);function m(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function v(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}new Date("2013-01-01"),new Date("2023-01-01");var y="-predict",h={MIN:120,MAX:200},C={START:2013,BASE:2019,END:2050},_={PNNL:"#358D53",IPCC:"#FACB3D"};function N(t){var e=Object(c.format)(t?".1%":".0%");return function(t){return e(t/100)}}var P=N(!0),O=[2013].concat(Object(o.a)(Object(l.range)(2015,C.END,5)),[C.END]).map((function(t){return new Date("".concat(t,"-01-01"))}));function L(t,e){if(e){var n=Object.keys(e.data.colors());if(e.show(),t){var o,c=v((o={},Object(r.a)(o,t,!0),Object(r.a)(o,"".concat(t).concat(y),!0),o),_);e.hide(n.filter((function(label){return!c[label]})))}}}function j(t){var e=t.stats,n=t.getUnitLabel,r=t.getUnitColor,c=t.isDashed,l=t.allUnits,f=void 0===l?null:l,m=t.handleClick,data={},v={},h=e.reduce((function(t,e){var r=e.年份,o=n(e);return t[r]||(t[r]={}),t[r][o]={tot:e.Tot變化,isDashed:c(e,r,o)},t}),{});d.forEach((function(t){h[t.year]||(h[t.year]={}),h[t.year].PNNL={tot:100*t.PNNL,isDashed:!1},h[t.year].IPCC={tot:100*t.IPCC,isDashed:!1}})),(f=f||Object.keys(h[C.BASE])).forEach((function(t){data[t]=[t],v[t]=r(t)})),v.PNNL=_.PNNL,v.IPCC=_.IPCC;var N=Object.keys(h).sort();N.forEach((function(t){f.forEach((function(e){var n=h[t][e]||{},r=void 0===n.tot?null:n.tot;if("isDashed"in n?n.isDashed:c(n,t,e)){var l="".concat(e).concat(y);if(!data[l]){var f=data[e].slice(1).fill(null),d=data[e].length-1;d>0&&(f[d-1]=data[e][d]),data[l]=[l].concat(Object(o.a)(f)),v[l]=v[e]}data[e].push(null),data[l].push(r)}else data[e].push(r)}))}));var P=["x"].concat(Object(o.a)(N.map((function(t){return"".concat(t,"-01-01")})))),O=[data.IPCC,data.PNNL],L=Object.keys(data).filter((function(t){return"IPCC"!==t&&"PNNL"!==t})).map((function(t){return data[t]}));return{x:"x",columns:[P].concat(O,Object(o.a)(L)),type:"line",types:{IPCC:"area",PNNL:"area"},colors:v,onclick:function(t,element){m&&m(t,element)}}}function I(t,e){return v({point:{r:2},grid:{y:{show:!0}},axis:{x:{type:"timeseries",tick:{values:O,format:"%Y"}},y:{max:t,tick:{format:N()}}},legend:{show:!1}},e)}function x(t){return t.body.map((function(t){return v(v({},t),{},{"年份":t.年份-0,"Tot數值":t.Tot數值-0,"Tot變化":t.Tot變化-0})}))}function k(t,e){var n=t-100;return n>0?'<div class="esgLegend__value esgLegend__value--raise">↑ '.concat(P(n),"</div>"):0===n?'<div class="esgLegend__value flex-none">&nbsp; --</div>':t>=e?'<div class="esgLegend__value esgLegend__value">↓ '.concat(P(-1*n),"</div>"):'<div class="esgLegend__value esgLegend__value--reduce">↓ '.concat(P(-1*n),"</div>")}function w(title,t,e,n){var r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o="esgLegend";return r&&(o+=" esgLegend--".concat(r)),'\n<div class="'.concat(o,' flex items-center">\n<div class="esgLegend__label flex-none" style="background: ').concat(t,'"></div>\n<div class="esgLegend__name flex-auto truncate">').concat(title,"</div>\n").concat(k(e,n),"\n</div>\n")}function S(t){var e=t.isBau,n=t.findAnotherRow,r=t.findUnit;return function(data){var t=data[0].x.getFullYear(),o=data[0].id,c=!1;o.endsWith(y)&&(c=!0,o=o.slice(0,-1*y.length));var f=r(o);if(!f||!f.color)return"";var m=n(t,f),h=data[0].value,C=e?h:Object(l.get)(m,"Tot變化"),N="".concat(o).concat(c?" BAU":""),P="".concat(o," 目標"),O=e?Object(l.get)(m,"Tot變化"):h,L=d.find((function(e){return e.year===t}));return L=v(v({},L),{},{PNNL:100*L.PNNL,IPCC:100*L.IPCC}),'\n<div class="esgTp">\n<div class="esgTp__year lh-title">'.concat(t,'</div>\n<div class="esgTp__company">\n').concat(w(N,f.color,C,L.IPCC,c?"bau":"fact"),"\n").concat(void 0!==O?w(P,f.color,O,L.IPCC,"noLabel"):"",'\n</div>\n<div class="esgTp__roadmap">\n<div class="esgTp__roadmapTitle lh-title mb2">目標</div>\n').concat(w("IPCC",_.IPCC,L.IPCC,L.IPCC,"roadmap"),"\n").concat(w("PNNL",_.PNNL,L.PNNL,L.IPCC,"roadmap"),"\n<div>\n</div>\n")}}var M={computed:{companyAbbrMap:function(){var t=this;return Object.keys(this.companyMap).reduce((function(e,n){var r=t.companyMap[n];return e[r.公司簡稱]=r,e}),{})}}},A="per-industry";function D(i){return Object(c.interpolateCividis)((i+.7)/5)}var Z={computed:{industries:function(){return[{label:"跨產業",code:A}].concat(Object(o.a)(f)).map((function(t,i){return v({},t)}))}},methods:{industryLink:function(t){return t===A?{name:"net-zero-overall"}:{name:"net-zero-industry",params:{industry:t},query:this.$route.query}}}}},402:function(t,e,n){var r=n(3),o=n(403),c=n(131);r({target:"Array",proto:!0},{fill:o}),c("fill")},403:function(t,e,n){"use strict";var r=n(40),o=n(102),c=n(48);t.exports=function(t){for(var e=r(this),n=c(e),l=arguments.length,f=o(l>1?arguments[1]:void 0,n),d=l>2?arguments[2]:void 0,m=void 0===d?n:o(d,n);m>f;)e[f++]=t;return e}},404:function(t){t.exports=JSON.parse('[{"label":"水泥工業","code":"01"},{"label":"食品工業","code":"02"},{"label":"石化業","code":"03"},{"label":"紡織纖維","code":"04"},{"label":"電機機械","code":"05"},{"label":"電器電纜","code":"06"},{"label":"玻璃陶瓷","code":"08"},{"label":"造紙工業","code":"09"},{"label":"鋼鐵工業","code":"10"},{"label":"橡膠工業","code":"11"},{"label":"汽車工業","code":"12"},{"label":"電子工業","code":"13"},{"label":"建材營造","code":"14"},{"label":"航運業","code":"15"},{"label":"觀光事業","code":"16"},{"label":"金融保險","code":"17"},{"label":"貿易百貨","code":"18"},{"label":"其他","code":"20"},{"label":"化學工業","code":"21"},{"label":"生技醫療業","code":"22"},{"label":"油電燃氣業","code":"23"},{"label":"半導體業","code":"24"},{"label":"電腦及週邊設備業","code":"25"},{"label":"光電業","code":"26"},{"label":"通信網路業","code":"27"},{"label":"電子零組件業","code":"28"},{"label":"電子通路業","code":"29"},{"label":"資訊服務業","code":"30"},{"label":"其他電子業","code":"31"},{"label":"文化創意業","code":"32"},{"label":"農業科技業","code":"33"},{"label":"電子商務","code":"34"},{"label":"管理股票","code":"98"}]')},405:function(t){t.exports=JSON.parse('[{"year":2013,"PNNL":1.0072,"IPCC":1.0072},{"year":2014,"PNNL":1.0146,"IPCC":1.0146},{"year":2015,"PNNL":1.0105,"IPCC":1.0105},{"year":2016,"PNNL":1.0238,"IPCC":1.0238},{"year":2017,"PNNL":1.0417,"IPCC":1.0417},{"year":2018,"PNNL":1.0353,"IPCC":1.0353},{"year":2019,"PNNL":1,"IPCC":1},{"year":2020,"PNNL":0.9545,"IPCC":0.9609},{"year":2021,"PNNL":0.9091,"IPCC":0.9218},{"year":2022,"PNNL":0.8636,"IPCC":0.8827},{"year":2023,"PNNL":0.8182,"IPCC":0.8436},{"year":2024,"PNNL":0.7727,"IPCC":0.8045},{"year":2025,"PNNL":0.7273,"IPCC":0.7655},{"year":2026,"PNNL":0.6818,"IPCC":0.7264},{"year":2027,"PNNL":0.6364,"IPCC":0.6873},{"year":2028,"PNNL":0.5909,"IPCC":0.6482},{"year":2029,"PNNL":0.5455,"IPCC":0.6091},{"year":2030,"PNNL":0.5,"IPCC":0.57},{"year":2031,"PNNL":0.475,"IPCC":0.5495},{"year":2032,"PNNL":0.45,"IPCC":0.529},{"year":2033,"PNNL":0.425,"IPCC":0.5085},{"year":2034,"PNNL":0.4,"IPCC":0.488},{"year":2035,"PNNL":0.375,"IPCC":0.4675},{"year":2036,"PNNL":0.35,"IPCC":0.447},{"year":2037,"PNNL":0.325,"IPCC":0.4265},{"year":2038,"PNNL":0.3,"IPCC":0.406},{"year":2039,"PNNL":0.275,"IPCC":0.3855},{"year":2040,"PNNL":0.25,"IPCC":0.365},{"year":2041,"PNNL":0.225,"IPCC":0.3445},{"year":2042,"PNNL":0.2,"IPCC":0.324},{"year":2043,"PNNL":0.175,"IPCC":0.3035},{"year":2044,"PNNL":0.15,"IPCC":0.283},{"year":2045,"PNNL":0.125,"IPCC":0.2625},{"year":2046,"PNNL":0.1,"IPCC":0.242},{"year":2047,"PNNL":0.075,"IPCC":0.2215},{"year":2048,"PNNL":0.05,"IPCC":0.201},{"year":2049,"PNNL":0.025,"IPCC":0.1805},{"year":2050,"PNNL":0,"IPCC":0.16}]')},407:function(t,e,n){var content=n(415);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(28).default)("dac177a8",content,!0,{sourceMap:!1})},408:function(t,e,n){var content=n(417);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(28).default)("304e50ee",content,!0,{sourceMap:!1})},409:function(t){t.exports=JSON.parse('{"IPCC":"聯合國政府間氣候變化專門委員會（IPCC）於氣候變遷第六次評估報告（AR6）指出，全球溫室氣體排放量以2019年為基準年，應於2030年減排43％、於2050年減排84％。本站圖表依IPCC目標於2019年-2030年、2030年-2050年兩個區間內，進行線性推估，得到區間內每一年度之目標值。","PNNL":"綠色公民行動聯盟與美國西北太平洋實驗室（PNNL）合作，完成Low Emission Development Strategy for Taiwan研究報告。依據研究提出之模型，臺灣製造業以2019年為基準年，應於2030年減排50％，於2050年達成淨零碳排。本站圖表依PNNL製造業目標於2019年-2030年、2030年-2050年兩個區間內，進行線性推估，得到區間內每一年度之目標值。","BASE_YEAR_TITLE":"基準年","BASE_YEAR":"用意是讓不同企業的減碳成效能夠有相同的比較基準。在淨零路徑模擬器將2019年為基準年，以符合聯合國政府間氣候變化專門委員會（IPCC）所訂定的基準。","BAU_TITLE":"溫室氣體排放基線／一切照舊（Business As Usual, BAU）","BAU":"所謂的BAU是「不採取任何溫室氣體減量作為下，各個溫室氣體排放源的排放變化。」淨零路徑模擬器的排放量推估方式為：近四年排放量變化均值。","COMMITMENT_TITLE":"企業目標","COMMITMENT":"參照公開資訊觀測站－[溫室氣體排放及減量資訊](https://mops.twse.com.tw/mops/web/t152sb01)的資料，將企業的減碳目標規劃依2019做為基準年進行標準化處理後呈現。"}')},414:function(t,e,n){"use strict";n(407)},415:function(t,e,n){var r=n(27)(!1);r.push([t.i,".esgLegend__name .b-tooltip.is-multiline.is-medium[data-v-0c2e2bb9] .tooltip-content{width:20rem;line-height:1.5;text-align:left}",""]),t.exports=r},416:function(t,e,n){"use strict";n(408)},417:function(t,e,n){var r=n(27)(!1);r.push([t.i,".nzRemark__item[data-v-18180740]:not(:last-child){margin-bottom:.5rem}",""]),t.exports=r},421:function(t,e,n){"use strict";n.r(e);n(378),n(65);var r=n(400),o={props:{title:{type:String,required:!0},value:{type:Number,default:-1},color:{type:String,default:"#000"},type:{type:String,default:"fact",validator:function(t){return["bau","fact","noLabel","roadmap"].includes(t)}},tip:{type:String,default:""}},computed:{valueDiff:function(){return this.value-100},valueLabel:function(){return 0!==this.valueDiff?Object(r.o)(Math.abs(this.valueDiff)):" 0"},valueClass:function(){return this.valueDiff>0?"esgLegend__value--raise":this.valueDiff<0?"esgLegend__value--reduce":""}}},c=(n(414),n(39)),component=Object(c.a)(o,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"esgLegend flex items-center",class:["esgLegend--".concat(t.type)]},[e("div",{staticClass:"esgLegend__label flex-none",style:{background:t.color}}),e("div",{staticClass:"esgLegend__name flex-auto flex items-center"},[e("div",{staticClass:"truncate"},[t._v(t._s(t.title))]),t._t("tooltip",(function(){return[e("div",{staticClass:"ml1"},[t.tip?e("b-tooltip",{attrs:{label:t.tip,type:"is-dark",multilined:"",position:"is-right"}},[e("i",{staticClass:"black fas fa-question-circle"})]):t._e()],1)]}))],2),t.value>=0?e("div",{staticClass:"esgLegend__value flex-none",class:t.valueClass},[t._v(t._s(t.valueLabel))]):t._e()])}),[],!1,null,"0c2e2bb9",null);e.default=component.exports},422:function(t,e,n){"use strict";n.r(e);var r=n(97),o=(n(13),n(51),n(64),n(41),n(248),n(409)),c={props:{fields:{type:Array,default:function(){return["BASE_YEAR"]},validator:function(t){return Array.isArray(t)&&t.every((function(t){return o[t]}))}}},computed:{fieldList:function(){var t=this;return this.fields.map((function(e,i){return{key:"".concat(e,"-").concat(i),title:o["".concat(e,"_TITLE")],remark:t.parseRemark(o[e])}}))}},methods:{parseRemark:function(line){var t=line.match(/([^[]+)\[([^\]]+)\]\(([^)]+)\)(.*)/);return t?[{tag:"span",text:t[1]},{tag:"a",text:t[2],href:t[3]}].concat(Object(r.a)(this.parseRemark(t[4]))):[{tag:"span",text:line}]}}},l=(n(416),n(39)),component=Object(l.a)(c,(function(){var t=this,e=t._self._c;return e("dl",{staticClass:"nzRemark f6"},t._l(t.fieldList,(function(n){return e("div",{key:n.key,staticClass:"nzRemark__item lh-copy"},[e("div",[e("dt",{staticClass:"di fw5"},[t._v(t._s(n.title))]),e("span",[t._v("：")])]),e("dd",[t._l(n.remark,(function(n,i){return["a"===n.tag?e("a",{attrs:{href:n.href,target:"_blank",rel:"noopener"}},[t._v(t._s(n.text))]):e("span",[t._v(t._s(n.text))])]}))],2)])})),0)}),[],!1,null,"18180740",null);e.default=component.exports},459:function(t,e,n){var content=n(497);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(28).default)("32631e45",content,!0,{sourceMap:!1})},460:function(t,e,n){var content=n(499);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(28).default)("43c1d448",content,!0,{sourceMap:!1})},496:function(t,e,n){"use strict";n(459)},497:function(t,e,n){var r=n(27)(!1);r.push([t.i,".indBau[data-v-c0cd0d42]{height:22.5rem}",""]),t.exports=r},498:function(t,e,n){"use strict";n(460)},499:function(t,e,n){var r=n(27)(!1);r.push([t.i,".indCom[data-v-0bcca9a2]{height:22.5rem}",""]),t.exports=r},507:function(t,e,n){var content=n(551);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,n(28).default)("44bcafd7",content,!0,{sourceMap:!1})},525:function(t,e,n){"use strict";n.r(e);var r=n(17),o=(n(378),n(247),n(52),n(244),n(13),n(37),n(30),n(36),n(45),n(29),n(46),n(401)),c=n(400);function l(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function f(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var d={mixins:[c.g],props:{bauStats:{type:Array,required:!0},ciStats:{type:Array,required:!0},companyMap:{type:Object,required:!0},yMax:{type:Number,required:!0},activeCompany:{default:null,validator:function(t){return!t||t.公司簡稱}}},data:function(){return{c3Handler:null}},computed:{chartData:function(){var t=this;return Object(c.j)({stats:this.bauStats,getUnitLabel:function(e){return t.companyMap[e.統編].公司簡稱},getUnitColor:function(e){return Object(o.get)(t.companyAbbrMap,"".concat(e,".color"),"")},isDashed:function(t){return!!t.是預測值},handleClick:function(e,element){var label=e.id;label.endsWith(c.c)&&(label=label.slice(0,-1*c.c.length)),t.$emit("open-company",label)}})},c3Config:function(){var t=this;return Object(c.i)(this.yMax,{tooltip:{grouped:!1,contents:Object(c.k)({isBau:!0,findUnit:function(e){return t.companyAbbrMap[e]},findAnotherRow:function(e,n){return t.ciStats.find((function(t){return t.年份===e&&t.統編===n.統編}))}})}})}},watch:{bauStats:function(){this.updateChart()},activeCompany:function(){var t=Object(o.get)(this.activeCompany,"公司簡稱");Object(c.h)(t,this.c3Handler),t?this.$refs.chart.classList.add("netZeroChart--hasFocused"):this.$refs.chart.classList.remove("netZeroChart--hasFocused")}},mounted:function(){this.initChart()},methods:{initChart:function(){var t=n(399);this.c3Handler=t.generate(f(f({data:this.chartData},this.c3Config),{},{bindto:this.$refs.chart}))},updateChart:function(){this.c3Handler?(this.c3Handler.axis.max({y:this.yMax}),this.c3Handler.load({unload:!0,columns:this.chartData.columns}),Object(c.h)(null,this.c3Handler)):this.initChart()}}},m=(n(496),n(39)),component=Object(m.a)(d,(function(){var t=this._self._c;return t("div",{staticClass:"indBau relative"},[t("div",{ref:"chart",staticClass:"netZeroChart h-100"})])}),[],!1,null,"c0cd0d42",null);e.default=component.exports},526:function(t,e,n){"use strict";n.r(e);var r=n(17),o=n(97),c=(n(378),n(36),n(13),n(51),n(64),n(247),n(52),n(244),n(37),n(30),n(45),n(29),n(46),n(401)),l=n(400);function f(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function d(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var m={mixins:[l.g],props:{ciStats:{type:Array,required:!0},bauStats:{type:Array,required:!0},companyMap:{type:Object,required:!0},yMax:{type:Number,required:!0},activeCompany:{default:null,validator:function(t){return!t||t.公司簡稱}}},data:function(){return{c3Handler:null}},computed:{hasNoData:function(){return!this.ciStatsWithoutPrediction.length},ciStatsWithoutPrediction:function(){return this.ciStats.filter((function(t){return!t.是推估值}))},chartData:function(){var t=this,e=Object(c.uniq)(this.ciStatsWithoutPrediction.map((function(t){return t.統編})));return e=[].concat(Object(o.a)(e.map((function(e){return t.companyMap[e].公司簡稱}))),["IPCC","PNNL"]),Object(l.j)({stats:this.ciStatsWithoutPrediction,getUnitLabel:function(e){return t.companyMap[e.統編].公司簡稱},getUnitColor:function(e){return Object(c.get)(t.companyAbbrMap,"".concat(e,".color"),"#000")},isDashed:function(t){return!0},allUnits:e,handleClick:function(e,element){var label=e.id;label.endsWith(l.c)&&(label=label.slice(0,-1*l.c.length)),t.$emit("open-company",label)}})},c3Config:function(){var t=this;return Object(l.i)(this.yMax,{line:{connectNull:!0},tooltip:{grouped:!1,contents:Object(l.k)({isBau:!1,findUnit:function(e){return t.companyAbbrMap[e]},findAnotherRow:function(e,n){return t.bauStats.find((function(t){return t.年份===e&&t.統編===n.統編}))}})}})}},watch:{ciStats:function(){this.updateChart()},activeCompany:function(){var t=Object(c.get)(this.activeCompany,"公司簡稱");Object(l.h)(t,this.c3Handler),t?this.$refs.chart.classList.add("netZeroChart--hasFocused"):this.$refs.chart.classList.remove("netZeroChart--hasFocused")}},mounted:function(){this.initChart()},methods:{initChart:function(){var t=n(399);this.c3Handler=t.generate(d(d({data:this.chartData},this.c3Config),{},{bindto:this.$refs.chart}))},updateChart:function(){this.c3Handler?(this.c3Handler.axis.max({y:this.yMax}),this.c3Handler.load({unload:!0,columns:this.chartData.columns}),Object(l.h)(null,this.c3Handler)):this.initChart()}}},v=(n(498),n(39)),component=Object(v.a)(m,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"indCom relative"},[e("div",{ref:"chart",staticClass:"netZeroChart h-100",class:{"netZeroChart--blur":t.hasNoData}}),t.hasNoData?e("div",{staticClass:"indCom__noData aspect-ratio--object flex items-center justify-center"},[e("div",{staticClass:"f3 fw5 gray pb4"},[t._v("尚無目標")])]):t._e()])}),[],!1,null,"0bcca9a2",null);e.default=component.exports},550:function(t,e,n){"use strict";n(507)},551:function(t,e,n){var r=n(27)(!1);r.push([t.i,".netZero__nav[data-v-017a9f90]{margin-top:2.25rem;margin-bottom:1.125rem}.netZero__typeSelector[data-v-017a9f90]{width:8rem}.netZero__typeSelector[data-v-017a9f90]  .dropdown-menu{min-width:8rem}.netZero__typeSelector[data-v-017a9f90]  .dropdown-trigger{width:100%}.netZero__typeSelector[data-v-017a9f90]  .dropdown-trigger button{border:none;outline:none;background:transparent}.netZero__typeSelector[data-v-017a9f90]  .dropdown-content{background:#333}.netZero__typeSelector[data-v-017a9f90]  .has-link a{padding:.5rem;color:#fff;font-size:1.5rem}.netZero__typeSelector[data-v-017a9f90]  .has-link a:hover{background:#555;color:#fff}.netZero__comLink[data-v-017a9f90]{height:.875rem;width:.875rem;font-size:.625rem;color:#fff;transform:rotate(-45deg)}.netZero__filter[data-v-017a9f90]{margin:1.75rem 0 2.25rem}.netZero__filterItem[data-v-017a9f90]{line-height:1.18;color:rgba(74,127,46,.7019607843);padding-bottom:.375rem;border-bottom:1px solid transparent}.netZero__filterItem--active[data-v-017a9f90]{color:#35811c;border-color:#35811c}.netZero__filterItem--disabled[data-v-017a9f90]{pointer-events:none}.netZero__filterItem[data-v-017a9f90]:not(:last-child){margin-right:1.75rem}@media screen and (min-width:60em){.netZero__filterItem[data-v-017a9f90]{font-size:1.375rem}}.netZero__legend[data-v-017a9f90]{margin:2.25rem auto 2.5rem}.netZero__legendRow[data-v-017a9f90]{display:grid;grid-template-columns:repeat(auto-fit,9.5rem);grid-row-gap:.5rem;row-gap:.5rem;grid-column-gap:1rem;-moz-column-gap:1rem;column-gap:1rem}.netZero__legendRow+.netZero__legendRow[data-v-017a9f90]{margin-top:1.25rem}.netZero__chart[data-v-017a9f90]{margin:2.5rem auto}.netZero__chart h2[data-v-017a9f90]{font-size:1.375rem;margin-bottom:1.75rem;color:#000}",""]),t.exports=r},569:function(t,e,n){"use strict";n.r(e);n(36),n(13),n(30),n(45),n(29),n(46);var r=n(17),o=n(97),c=n(12),l=(n(55),n(64),n(51),n(244),n(37),n(52),n(383),n(385),n(31),n(398)),f=n(401),d=n(409),m=n(400);function v(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function y(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?v(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):v(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var h={top5:"top5",all:"all",agg5:"agg5"},C={mixins:[m.m],asyncData:function(t){return Object(c.a)(regeneratorRuntime.mark((function e(){var n,r,c,d,v,h,C,_,N;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.$content,r=t.params,c=t.redirect,d=[],v=[],h=[],e.prev=4,e.next=7,n("industry","".concat(r.industry,"-bau")).fetch();case 7:d=e.sent,e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(4),r.industry!==m.b&&c("/"),e.abrupt("return",{bauStats:d,ciStats:h,companyList:v});case 14:return d=Object(m.f)(d),e.prev=15,e.next=18,n("industry","".concat(r.industry,"-net-zero-commitment")).fetch();case 18:h=e.sent,h=Object(m.f)(h),e.next=24;break;case 22:e.prev=22,e.t1=e.catch(15);case 24:return C=Object(f.uniqBy)([].concat(Object(o.a)(d),Object(o.a)(h)),"統編").reduce((function(t,e){return t[e.統編]=!0,t}),{}),e.next=27,n("companyList").fetch();case 27:return _=e.sent,v=_.body.filter((function(t){return t.統編 in C})),N=v.length,v=v.map((function(t,i){return y(y({},t),{},{color:Object(l.interpolateCividis)(i/N)})})),e.abrupt("return",{bauStats:d,ciStats:h,companyList:v});case 32:case"end":return e.stop()}}),e,null,[[4,10],[15,22]])})))()},data:function(){return{focusedCompany:null,pinnedCompany:null}},computed:{activeCompany:function(){return this.focusedCompany||this.pinnedCompany},legendLabel:function(){return{IPCC:d.IPCC,PNNL:d.PNNL}},industry:function(){var code=this.$route.params.industry||"03",t=this.industries.find((function(t){return t.code===code}));return t||this.industries[0]},filter:function(){var code=this.$route.query.filter;return h[code]?code:h.top5},companyCount:function(){return Object.keys(this.companyList).length},companyMap:function(){return this.companyList.reduce((function(t,e){return t[e.統編]=e,t}),{})},aggressive5CompanyMap:function(){var t=this;return this.ciStats.filter((function(t){return 2030===t.年份})).sort((function(a,b){return b.Tot變化-a.Tot變化})).slice(0,5).reduce((function(e,n,i){var r=n.統編;return e[r]=y(y({},t.companyMap[r]),{},{color:Object(m.n)(i)}),e}),{})},top5CompanyMap:function(){var t=this,e=this.bauStats.reduce((function(t,e){if(e.是預測值)return t;var n=e.年份,r=e.Tot數值,o=e.統編;return t[o]?t[o].year<n&&(t[o]={id:o,year:n,value:r}):t[o]={id:o,year:n,value:r},t}),{});return Object.values(e).sort((function(a,b){return b.value-a.value})).slice(0,5).reduce((function(e,n,i){return e[n.id]=y(y({},t.companyMap[n.id]),{},{color:Object(m.n)(i)}),e}),{})},activeCompanyMap:function(){return this.filter===h.all?this.companyMap:this.filter===h.agg5?this.aggressive5CompanyMap:this.top5CompanyMap},activeCompanyList:function(){return Object.values(this.activeCompanyMap)},yMax:function(){return[].concat(Object(o.a)(this.visibleBauStats),Object(o.a)(this.visibleCiStats)).reduce((function(t,e){return t===m.e.MAX?t:e.Tot變化>t?Math.min(e.Tot變化,m.e.MAX):t}),m.e.MIN)},visibleBauStats:function(){var t=this;return this.bauStats.filter((function(e){return e.統編 in t.activeCompanyMap}))},visibleCiStats:function(){var t=this;return this.ciStats.filter((function(e){return e.統編 in t.activeCompanyMap}))},agg5Count:function(){return Object.values(this.aggressive5CompanyMap).length},top5Count:function(){return Object.values(this.top5CompanyMap).length},chartColors:function(){return m.a}},watch:{bauStats:function(){this.focusedCompany=null,this.pinnedCompany=null}},beforeDestroy:function(){var html=document.querySelector("html");html.classList.contains("is-clipped-touch")&&html.classList.remove("is-clipped-touch")},methods:{openCompany:function(t){var e=this.$refs["link-".concat(t)];e&&e.length&&e[0].$el.click()},filterLink:function(filter){return{name:this.$route.name,params:this.$route.params,query:{filter:filter}}},companyLink:function(t){return{name:"company-company",params:{company:t.統編}}},toggleCompany:function(t,e){"A"!==e.target.tagName&&(this.pinnedCompany!==t?this.pinnedCompany=t:this.pinnedCompany=null)},focusCompany:function(t){this.focusedCompany=t},focusOutCompany:function(){this.focusedCompany=null}}},_=(n(550),n(39)),component=Object(_.a)(C,(function(){var t=this,e=t._self._c;return e("div",{staticClass:"netZero"},[e("div",{staticClass:"netZero__nav esgContainer"},[e("div",{staticClass:"f6 o-60 mb1"},[t._v("產業")]),e("b-dropdown",{staticClass:"netZero__typeSelector",attrs:{"aria-role":"menu",scrollable:!0,"max-height":"22rem"}},[e("template",{slot:"trigger"},[e("button",{staticClass:"flex justify-between items-center w-100 pointer"},[e("div",{staticClass:"black f3 flex-auto tl"},[t._v(t._s(t.industry.label))]),e("i",{staticClass:"fas fa-sort flex-none"})])]),t._l(t.industries,(function(n){return e("b-dropdown-item",{key:n.code,attrs:{"aria-role":"menuitem","has-link":!0}},[e("nuxt-link",{attrs:{to:t.industryLink(n.code)}},[t._v(t._s(n.label))])],1)}))],2),e("div",{staticClass:"netZero__filter flex items-center"},[e("nuxt-link",{staticClass:"netZero__filterItem",class:{"netZero__filterItem--active":"top5"===t.filter},attrs:{to:t.filterLink("top5")}},[t._v(t._s(t.industry.label)+"碳排大戶 ("+t._s(t.top5Count)+")")]),e("nuxt-link",{staticClass:"netZero__filterItem",class:{"netZero__filterItem--active":"agg5"===t.filter,"netZero__filterItem--disabled":!t.agg5Count},attrs:{to:t.filterLink("agg5")}},[t._v("目標積極企業 ("+t._s(t.agg5Count||"無")+")")]),e("nuxt-link",{staticClass:"netZero__filterItem pointer",class:{"netZero__filterItem--active":"all"===t.filter},attrs:{to:t.filterLink("all")}},[t._v("所有公司 ("+t._s(t.companyCount)+")")])],1)],1),e("div",{staticClass:"netZero__legend thinContainer"},[e("div",{staticClass:"netZero__legendRow"},t._l(t.activeCompanyList,(function(n){return e("net-zero-legend",{key:n.統編,attrs:{title:n.公司簡稱,color:n.color},nativeOn:{mouseenter:function(e){return t.focusCompany(n)},mouseleave:function(e){return t.focusOutCompany.apply(null,arguments)},click:function(e){return t.toggleCompany(n,e)}}},[e("div",{staticClass:"ml1",attrs:{slot:"tooltip"},slot:"tooltip"},[e("nuxt-link",{ref:"link-".concat(n.公司簡稱),refInFor:!0,staticClass:"netZero__comLink br-100 flex items-center justify-center",style:{background:n.color},attrs:{target:"_blank",to:t.companyLink(n)}},[e("i",{staticClass:"fas fa-arrow-right"})])],1)])})),1),e("div",{staticClass:"netZero__legendRow"},[e("net-zero-legend",{attrs:{title:"IPCC",color:t.chartColors.IPCC,type:"roadmap",tip:t.legendLabel.IPCC}}),e("net-zero-legend",{attrs:{title:"PNNL",color:t.chartColors.PNNL,type:"roadmap",tip:t.legendLabel.PNNL}})],1)]),e("div",{staticClass:"netZero__chart thinContainer"},[e("h2",[t._v("企業溫室氣體年排放量趨勢與推估")]),e("net-zero-industry-bau",{attrs:{"bau-stats":t.visibleBauStats,"ci-stats":t.visibleCiStats,"company-map":t.activeCompanyMap,"y-max":t.yMax,"active-company":t.activeCompany},on:{"open-company":t.openCompany}}),e("div",{staticClass:"mt4"},[e("net-zero-remark",{attrs:{fields:["BASE_YEAR","BAU"]}})],1)],1),e("div",{staticClass:"netZero__chart thinContainer"},[e("h2",[t._v("企業淨零目標路線")]),e("net-zero-industry-commitment",{attrs:{"ci-stats":t.visibleCiStats,"bau-stats":t.visibleBauStats,"company-map":t.activeCompanyMap,"y-max":120,"active-company":t.activeCompany},on:{"open-company":t.openCompany}}),e("div",{staticClass:"mt4"},[e("net-zero-remark",{attrs:{fields:["BASE_YEAR","COMMITMENT"]}})],1)],1)])}),[],!1,null,"017a9f90",null);e.default=component.exports;installComponents(component,{NetZeroLegend:n(421).default,NetZeroIndustryBau:n(525).default,NetZeroRemark:n(422).default,NetZeroIndustryCommitment:n(526).default})}}]);