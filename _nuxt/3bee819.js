/*! For license information please see LICENSES */
(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{398:function(t,e,n){t.exports=function(){"use strict";function t(t){var e=this;e.d3=window.d3?window.d3:n(393),e.api=t,e.config=e.getDefaultConfig(),e.data={},e.cache={},e.axes={}}function e(n){this.internal=new t(this),this.internal.loadConfig(n),this.internal.beforeInit(n),this.internal.init(),this.internal.afterInit(n),function t(e,n,r){Object.keys(e).forEach((function(o){n[o]=e[o].bind(r),Object.keys(e[o]).length>0&&t(e[o],n[o],r)}))}(e.prototype,this,this)}var r=function(t){return Math.ceil(t)+.5},o=function(t){return 10*Math.ceil(t/10)},c=function(t){return t[1]-t[0]},d=function(t,e,n){return x(t[e])?t[e]:n},l=function(path){var t=h(path),e=[path.pathSegList.getItem(0),path.pathSegList.getItem(1)];return{x:e[0].x,y:Math.min(e[0].y,e[1].y),width:t.width,height:t.height}},h=function(element){try{return element.getBBox()}catch(t){return{x:0,y:0,width:0,height:0}}},f=function(t,e){var n=!1;return Object.keys(t).forEach((function(r){t[r]===e&&(n=!0)})),n},_=function(t){return Array.isArray(t)},x=function(t){return void 0!==t},y=function(t){return null==t||w(t)&&0===t.length||"object"==typeof t&&0===Object.keys(t).length},m=function(t){return"function"==typeof t},S=function(t){return"number"==typeof t},w=function(t){return"string"==typeof t},v=function(t){return void 0===t},T=function(t){return t||0===t},A=function(t){return!y(t)},P=function(t){return"string"==typeof t?t.replace(/</g,"&lt;").replace(/>/g,"&gt;"):t},C=function(t){return Array.isArray(t)?[].concat.apply([],t):[]},L=function(t,e,n){void 0===n&&(n=0);var r=e.x-n,o=e.x+e.width+n,c=e.y+e.height+n,d=e.y-n;return r<t[0]&&t[0]<o&&d<t[1]&&t[1]<c},V=function(t){void 0===t&&(t=window.navigator.userAgent);var e=t.indexOf("MSIE ");return e>0?parseInt(t.substring(e+5,t.indexOf(".",e)),10):(e=t.indexOf("Trident/"))>0&&(e=t.indexOf("rv:"),parseInt(t.substring(e+3,t.indexOf(".",e)),10))},G=function(t){var e=V();return void 0===t?!!e:t===e};function E(component,t){var e=this;e.component=component,e.params=t||{},e.d3=component.d3,e.scale=e.d3.scaleLinear(),e.range,e.orient="bottom",e.innerTickSize=6,e.outerTickSize=this.params.withOuterTick?6:0,e.tickPadding=3,e.tickValues=null,e.tickFormat,e.tickArguments,e.tickOffset=0,e.tickCulling=!0,e.tickCentered,e.tickTextCharSize,e.tickTextRotate=e.params.tickTextRotate,e.tickLength,e.axis=e.generateAxis()}E.prototype.axisX=function(t,e,n){t.attr("transform",(function(t){return"translate("+Math.ceil(e(t)+n)+", 0)"}))},E.prototype.axisY=function(t,e){t.attr("transform",(function(t){return"translate(0,"+Math.ceil(e(t))+")"}))},E.prototype.scaleExtent=function(t){var e=t[0],n=t[t.length-1];return e<n?[e,n]:[n,e]},E.prototype.generateTicks=function(t){var i,e,n=this,r=[];if(t.ticks)return t.ticks.apply(t,n.tickArguments);for(e=t.domain(),i=Math.ceil(e[0]);i<e[1];i++)r.push(i);return r.length>0&&r[0]>0&&r.unshift(r[0]-(r[1]-r[0])),r},E.prototype.copyScale=function(){var t,e=this,n=e.scale.copy();return e.params.isCategory&&(t=e.scale.domain(),n.domain([t[0],t[1]-1])),n},E.prototype.textFormatted=function(t){var e=this,n=e.tickFormat?e.tickFormat(t):t;return void 0!==n?n:""},E.prototype.updateRange=function(){var t=this;return t.range=t.scale.rangeExtent?t.scale.rangeExtent():t.scaleExtent(t.scale.range()),t.range},E.prototype.updateTickTextCharSize=function(t){var e=this;if(e.tickTextCharSize)return e.tickTextCharSize;var n={h:11.5,w:5.5};return t.select("text").text((function(t){return e.textFormatted(t)})).each((function(t){var r=h(this),text=e.textFormatted(t),o=r.height,c=text?r.width/text.length:void 0;o&&c&&(n.h=o,n.w=c)})).text(""),e.tickTextCharSize=n,n},E.prototype.isVertical=function(){return"left"===this.orient||"right"===this.orient},E.prototype.tspanData=function(t,i,e){var n=this,r=n.params.tickMultiline?n.splitTickText(t,e):[].concat(n.textFormatted(t));return n.params.tickMultiline&&n.params.tickMultilineMax>0&&(r=n.ellipsify(r,n.params.tickMultilineMax)),r.map((function(s){return{index:i,splitted:s,length:r.length}}))},E.prototype.splitTickText=function(t,e){var n,r,o,c=this,d=c.textFormatted(t),l=c.params.tickWidth,h=[];if("[object Array]"===Object.prototype.toString.call(d))return d;function f(t,text){r=void 0;for(var i=1;i<text.length;i++)if(" "===text.charAt(i)&&(r=i),n=text.substr(0,i+1),o=c.tickTextCharSize.w*n.length,l<o)return f(t.concat(text.substr(0,r||i)),text.slice(r?r+1:i));return t.concat(text)}return(!l||l<=0)&&(l=c.isVertical()?95:c.params.isCategory?Math.ceil(e(1)-e(0))-12:110),f(h,d+"")},E.prototype.ellipsify=function(t,e){if(t.length<=e)return t;for(var n=t.slice(0,e),r=3,i=e-1;i>=0;i--){var o=n[i].length;if(n[i]=n[i].substr(0,o-r).padEnd(o,"."),(r-=o)<=0)break}return n},E.prototype.updateTickLength=function(){var t=this;t.tickLength=Math.max(t.innerTickSize,0)+t.tickPadding},E.prototype.lineY2=function(t){var e=this,n=e.scale(t)+(e.tickCentered?0:e.tickOffset);return e.range[0]<n&&n<e.range[1]?e.innerTickSize:0},E.prototype.textY=function(){var t=this,e=t.tickTextRotate;return e?11.5-e/15*2.5*(e>0?1:-1):t.tickLength},E.prototype.textTransform=function(){var t=this.tickTextRotate;return t?"rotate("+t+")":""},E.prototype.textTextAnchor=function(){var t=this.tickTextRotate;return t?t>0?"start":"end":"middle"},E.prototype.tspanDx=function(){var t=this.tickTextRotate;return t?8*Math.sin(Math.PI*(t/180)):0},E.prototype.tspanDy=function(t,i){var e=this,n=e.tickTextCharSize.h;return 0===i&&(n=e.isVertical()?-((t.length-1)*(e.tickTextCharSize.h/2)-3):".71em"),n},E.prototype.generateAxis=function(){var t=this,e=t.d3,n=t.params;function r(g,o){var c;return g.each((function(){var d,l,h,g=r.g=e.select(this),f=this.__chart__||t.scale,_=this.__chart__=t.copyScale(),x=t.tickValues?t.tickValues:t.generateTicks(_),y=g.selectAll(".tick").data(x,_),m=y.enter().insert("g",".domain").attr("class","tick").style("opacity",1e-6),S=y.exit().remove(),w=y.merge(m);n.isCategory?(t.tickOffset=Math.ceil((_(1)-_(0))/2),l=t.tickCentered?0:t.tickOffset,h=t.tickCentered?t.tickOffset:0):t.tickOffset=l=0,t.updateRange(),t.updateTickLength(),t.updateTickTextCharSize(g.select(".tick"));var v=w.select("line").merge(m.append("line")),T=w.select("text").merge(m.append("text")),A=w.selectAll("text").selectAll("tspan").data((function(e,i){return t.tspanData(e,i,_)})),P=A.enter().append("tspan").merge(A).text((function(t){return t.splitted}));A.exit().remove();var path=g.selectAll(".domain").data([0]),C=path.enter().append("path").merge(path).attr("class","domain");switch(t.orient){case"bottom":d=t.axisX,v.attr("x1",l).attr("x2",l).attr("y2",(function(e,i){return t.lineY2(e,i)})),T.attr("x",0).attr("y",(function(e,i){return t.textY(e,i)})).attr("transform",(function(e,i){return t.textTransform(e,i)})).style("text-anchor",(function(e,i){return t.textTextAnchor(e,i)})),P.attr("x",0).attr("dy",(function(e,i){return t.tspanDy(e,i)})).attr("dx",(function(e,i){return t.tspanDx(e,i)})),C.attr("d","M"+t.range[0]+","+t.outerTickSize+"V0H"+t.range[1]+"V"+t.outerTickSize);break;case"top":d=t.axisX,v.attr("x1",l).attr("x2",l).attr("y2",(function(e,i){return-1*t.lineY2(e,i)})),T.attr("x",0).attr("y",(function(e,i){return-1*t.textY(e,i)-(n.isCategory?2:t.tickLength-2)})).attr("transform",(function(e,i){return t.textTransform(e,i)})).style("text-anchor",(function(e,i){return t.textTextAnchor(e,i)})),P.attr("x",0).attr("dy",(function(e,i){return t.tspanDy(e,i)})).attr("dx",(function(e,i){return t.tspanDx(e,i)})),C.attr("d","M"+t.range[0]+","+-t.outerTickSize+"V0H"+t.range[1]+"V"+-t.outerTickSize);break;case"left":d=t.axisY,v.attr("x2",-t.innerTickSize).attr("y1",h).attr("y2",h),T.attr("x",-t.tickLength).attr("y",t.tickOffset).style("text-anchor","end"),P.attr("x",-t.tickLength).attr("dy",(function(e,i){return t.tspanDy(e,i)})),C.attr("d","M"+-t.outerTickSize+","+t.range[0]+"H0V"+t.range[1]+"H"+-t.outerTickSize);break;case"right":d=t.axisY,v.attr("x2",t.innerTickSize).attr("y1",h).attr("y2",h),T.attr("x",t.tickLength).attr("y",t.tickOffset).style("text-anchor","start"),P.attr("x",t.tickLength).attr("dy",(function(e,i){return t.tspanDy(e,i)})),C.attr("d","M"+t.outerTickSize+","+t.range[0]+"H0V"+t.range[1]+"H"+t.outerTickSize)}if(_.rangeBand){var L=_,V=L.rangeBand()/2;f=_=function(t){return L(t)+V}}else f.rangeBand?f=_:S.call(d,_,t.tickOffset);m.call(d,f,t.tickOffset),c=(o?w.transition(o):w).style("opacity",1).call(d,_,t.tickOffset)})),c}return r.scale=function(e){return arguments.length?(t.scale=e,r):t.scale},r.orient=function(e){return arguments.length?(t.orient=e in{top:1,right:1,bottom:1,left:1}?e+"":"bottom",r):t.orient},r.tickFormat=function(e){return arguments.length?(t.tickFormat=e,r):t.tickFormat},r.tickCentered=function(e){return arguments.length?(t.tickCentered=e,r):t.tickCentered},r.tickOffset=function(){return t.tickOffset},r.tickInterval=function(){var e;return(e=n.isCategory?2*t.tickOffset:(r.g.select("path.domain").node().getTotalLength()-2*t.outerTickSize)/r.g.selectAll("line").size())==1/0?0:e},r.ticks=function(){return arguments.length?(t.tickArguments=arguments,r):t.tickArguments},r.tickCulling=function(e){return arguments.length?(t.tickCulling=e,r):t.tickCulling},r.tickValues=function(e){if("function"==typeof e)t.tickValues=function(){return e(t.scale.domain())};else{if(!arguments.length)return t.tickValues;t.tickValues=e}return r},r};var O={target:"c3-target",chart:"c3-chart",chartLine:"c3-chart-line",chartLines:"c3-chart-lines",chartBar:"c3-chart-bar",chartBars:"c3-chart-bars",chartText:"c3-chart-text",chartTexts:"c3-chart-texts",chartArc:"c3-chart-arc",chartArcs:"c3-chart-arcs",chartArcsTitle:"c3-chart-arcs-title",chartArcsBackground:"c3-chart-arcs-background",chartArcsGaugeUnit:"c3-chart-arcs-gauge-unit",chartArcsGaugeMax:"c3-chart-arcs-gauge-max",chartArcsGaugeMin:"c3-chart-arcs-gauge-min",selectedCircle:"c3-selected-circle",selectedCircles:"c3-selected-circles",eventRect:"c3-event-rect",eventRects:"c3-event-rects",eventRectsSingle:"c3-event-rects-single",eventRectsMultiple:"c3-event-rects-multiple",zoomRect:"c3-zoom-rect",brush:"c3-brush",dragZoom:"c3-drag-zoom",focused:"c3-focused",defocused:"c3-defocused",region:"c3-region",regions:"c3-regions",title:"c3-title",tooltipContainer:"c3-tooltip-container",tooltip:"c3-tooltip",tooltipName:"c3-tooltip-name",shape:"c3-shape",shapes:"c3-shapes",line:"c3-line",lines:"c3-lines",bar:"c3-bar",bars:"c3-bars",circle:"c3-circle",circles:"c3-circles",arc:"c3-arc",arcLabelLine:"c3-arc-label-line",arcs:"c3-arcs",area:"c3-area",areas:"c3-areas",empty:"c3-empty",text:"c3-text",texts:"c3-texts",gaugeValue:"c3-gauge-value",grid:"c3-grid",gridLines:"c3-grid-lines",xgrid:"c3-xgrid",xgrids:"c3-xgrids",xgridLine:"c3-xgrid-line",xgridLines:"c3-xgrid-lines",xgridFocus:"c3-xgrid-focus",ygrid:"c3-ygrid",ygrids:"c3-ygrids",ygridLine:"c3-ygrid-line",ygridLines:"c3-ygrid-lines",colorScale:"c3-colorscale",stanfordElements:"c3-stanford-elements",stanfordLine:"c3-stanford-line",stanfordLines:"c3-stanford-lines",stanfordRegion:"c3-stanford-region",stanfordRegions:"c3-stanford-regions",stanfordText:"c3-stanford-text",stanfordTexts:"c3-stanford-texts",axis:"c3-axis",axisX:"c3-axis-x",axisXLabel:"c3-axis-x-label",axisY:"c3-axis-y",axisYLabel:"c3-axis-y-label",axisY2:"c3-axis-y2",axisY2Label:"c3-axis-y2-label",legendBackground:"c3-legend-background",legendItem:"c3-legend-item",legendItemEvent:"c3-legend-item-event",legendItemTile:"c3-legend-item-tile",legendItemHidden:"c3-legend-item-hidden",legendItemFocused:"c3-legend-item-focused",dragarea:"c3-dragarea",EXPANDED:"_expanded_",SELECTED:"_selected_",INCLUDED:"_included_"},I=function(){function t(t){this.owner=t,this.d3=t.d3,this.internal=E}return t}(),R=I;R.prototype.init=function(){var t=this.owner,e=t.config,main=t.main;t.axes.x=main.append("g").attr("class",O.axis+" "+O.axisX).attr("clip-path",e.axis_x_inner?"":t.clipPathForXAxis).attr("transform",t.getTranslate("x")).style("visibility",e.axis_x_show?"visible":"hidden"),t.axes.x.append("text").attr("class",O.axisXLabel).attr("transform",e.axis_rotated?"rotate(-90)":"").style("text-anchor",this.textAnchorForXAxisLabel.bind(this)),t.axes.y=main.append("g").attr("class",O.axis+" "+O.axisY).attr("clip-path",e.axis_y_inner?"":t.clipPathForYAxis).attr("transform",t.getTranslate("y")).style("visibility",e.axis_y_show?"visible":"hidden"),t.axes.y.append("text").attr("class",O.axisYLabel).attr("transform",e.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForYAxisLabel.bind(this)),t.axes.y2=main.append("g").attr("class",O.axis+" "+O.axisY2).attr("transform",t.getTranslate("y2")).style("visibility",e.axis_y2_show?"visible":"hidden"),t.axes.y2.append("text").attr("class",O.axisY2Label).attr("transform",e.axis_rotated?"":"rotate(-90)").style("text-anchor",this.textAnchorForY2AxisLabel.bind(this))},R.prototype.getXAxis=function(t,e,n,r,o,c,d){var l=this.owner,h=l.config,f={isCategory:l.isCategorized(),withOuterTick:o,tickMultiline:h.axis_x_tick_multiline,tickMultilineMax:h.axis_x_tick_multiline?Number(h.axis_x_tick_multilineMax):0,tickWidth:h.axis_x_tick_width,tickTextRotate:d?0:h.axis_x_tick_rotate,withoutTransition:c},_=new this.internal(this,f).axis.scale(t).orient(e);return l.isTimeSeries()&&r&&"function"!=typeof r&&(r=r.map((function(t){return l.parseDate(t)}))),_.tickFormat(n).tickValues(r),l.isCategorized()&&(_.tickCentered(h.axis_x_tick_centered),y(h.axis_x_tick_culling)&&(h.axis_x_tick_culling=!1)),_},R.prototype.updateXAxisTickValues=function(t,e){var n,r=this.owner,o=r.config;return(o.axis_x_tick_fit||o.axis_x_tick_count)&&(n=this.generateTickValues(r.mapTargetsToUniqueXs(t),o.axis_x_tick_count,r.isTimeSeries())),e?e.tickValues(n):(r.xAxis.tickValues(n),r.subXAxis.tickValues(n)),n},R.prototype.getYAxis=function(t,e,n,r,o,c,d){var l=this.owner,h=l.config,f=h["axis_"+t+"_tick_format"];!f&&l.isAxisNormalized(t)&&(f=function(t){return t+"%"});var _=new this.internal(this,{withOuterTick:o,withoutTransition:c,tickTextRotate:d?0:h.axis_y_tick_rotate}).axis.scale(e).orient(n);return f&&_.tickFormat(f),l.isTimeSeriesY()?_.ticks(h.axis_y_tick_time_type,h.axis_y_tick_time_interval):_.tickValues(r),_},R.prototype.getId=function(t){var e=this.owner.config;return t in e.data_axes?e.data_axes[t]:"y"},R.prototype.getXAxisTickFormat=function(){var t=this.owner,e=t.config,n=t.isTimeSeries()?t.defaultAxisTimeFormat:t.isCategorized()?t.categoryName:function(t){return t};return e.axis_x_tick_format&&(m(e.axis_x_tick_format)?n=e.axis_x_tick_format:t.isTimeSeries()&&(n=function(n){return n?t.axisTimeFormat(e.axis_x_tick_format)(n):""})),m(n)?function(e){return n.call(t,e)}:n},R.prototype.getTickValues=function(t,e){return t||(e?e.tickValues():void 0)},R.prototype.getXAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_x_tick_values,this.owner.xAxis)},R.prototype.getYAxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y_tick_values,this.owner.yAxis)},R.prototype.getY2AxisTickValues=function(){return this.getTickValues(this.owner.config.axis_y2_tick_values,this.owner.y2Axis)},R.prototype.getLabelOptionByAxisId=function(t){var option,e=this.owner.config;return"y"===t?option=e.axis_y_label:"y2"===t?option=e.axis_y2_label:"x"===t&&(option=e.axis_x_label),option},R.prototype.getLabelText=function(t){var option=this.getLabelOptionByAxisId(t);return w(option)?option:option?option.text:null},R.prototype.setLabelText=function(t,text){var e=this.owner.config,option=this.getLabelOptionByAxisId(t);w(option)?"y"===t?e.axis_y_label=text:"y2"===t?e.axis_y2_label=text:"x"===t&&(e.axis_x_label=text):option&&(option.text=text)},R.prototype.getLabelPosition=function(t,e){var option=this.getLabelOptionByAxisId(t),n=option&&"object"==typeof option&&option.position?option.position:e;return{isInner:n.indexOf("inner")>=0,isOuter:n.indexOf("outer")>=0,isLeft:n.indexOf("left")>=0,isCenter:n.indexOf("center")>=0,isRight:n.indexOf("right")>=0,isTop:n.indexOf("top")>=0,isMiddle:n.indexOf("middle")>=0,isBottom:n.indexOf("bottom")>=0}},R.prototype.getXAxisLabelPosition=function(){return this.getLabelPosition("x",this.owner.config.axis_rotated?"inner-top":"inner-right")},R.prototype.getYAxisLabelPosition=function(){return this.getLabelPosition("y",this.owner.config.axis_rotated?"inner-right":"inner-top")},R.prototype.getY2AxisLabelPosition=function(){return this.getLabelPosition("y2",this.owner.config.axis_rotated?"inner-right":"inner-top")},R.prototype.getLabelPositionById=function(t){return"y2"===t?this.getY2AxisLabelPosition():"y"===t?this.getYAxisLabelPosition():this.getXAxisLabelPosition()},R.prototype.textForXAxisLabel=function(){return this.getLabelText("x")},R.prototype.textForYAxisLabel=function(){return this.getLabelText("y")},R.prototype.textForY2AxisLabel=function(){return this.getLabelText("y2")},R.prototype.xForAxisLabel=function(t,e){var n=this.owner;return t?e.isLeft?0:e.isCenter?n.width/2:n.width:e.isBottom?-n.height:e.isMiddle?-n.height/2:0},R.prototype.dxForAxisLabel=function(t,e){return t?e.isLeft?"0.5em":e.isRight?"-0.5em":"0":e.isTop?"-0.5em":e.isBottom?"0.5em":"0"},R.prototype.textAnchorForAxisLabel=function(t,e){return t?e.isLeft?"start":e.isCenter?"middle":"end":e.isBottom?"start":e.isMiddle?"middle":"end"},R.prototype.xForXAxisLabel=function(){return this.xForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},R.prototype.xForYAxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},R.prototype.xForY2AxisLabel=function(){return this.xForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},R.prototype.dxForXAxisLabel=function(){return this.dxForAxisLabel(!this.owner.config.axis_rotated,this.getXAxisLabelPosition())},R.prototype.dxForYAxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getYAxisLabelPosition())},R.prototype.dxForY2AxisLabel=function(){return this.dxForAxisLabel(this.owner.config.axis_rotated,this.getY2AxisLabelPosition())},R.prototype.dyForXAxisLabel=function(){var t=this.owner,e=t.config,n=this.getXAxisLabelPosition();return e.axis_rotated?n.isInner?"1.2em":-25-(t.config.axis_x_inner?0:this.getMaxTickWidth("x")):n.isInner?"-0.5em":t.getHorizontalAxisHeight("x")-10},R.prototype.dyForYAxisLabel=function(){var t=this.owner,e=this.getYAxisLabelPosition();return t.config.axis_rotated?e.isInner?"-0.5em":"3em":e.isInner?"1.2em":-10-(t.config.axis_y_inner?0:this.getMaxTickWidth("y")+10)},R.prototype.dyForY2AxisLabel=function(){var t=this.owner,e=this.getY2AxisLabelPosition();return t.config.axis_rotated?e.isInner?"1.2em":"-2.2em":e.isInner?"-0.5em":15+(t.config.axis_y2_inner?0:this.getMaxTickWidth("y2")+15)},R.prototype.textAnchorForXAxisLabel=function(){var t=this.owner;return this.textAnchorForAxisLabel(!t.config.axis_rotated,this.getXAxisLabelPosition())},R.prototype.textAnchorForYAxisLabel=function(){var t=this.owner;return this.textAnchorForAxisLabel(t.config.axis_rotated,this.getYAxisLabelPosition())},R.prototype.textAnchorForY2AxisLabel=function(){var t=this.owner;return this.textAnchorForAxisLabel(t.config.axis_rotated,this.getY2AxisLabelPosition())},R.prototype.getMaxTickWidth=function(t,e){var n,r,o,c,d=this.owner,l=0;return e&&d.currentMaxTickWidths[t]||(d.svg&&(n=d.filterTargetsToShow(d.data.targets),"y"===t?(r=d.y.copy().domain(d.getYDomain(n,"y")),o=this.getYAxis(t,r,d.yOrient,d.yAxisTickValues,!1,!0,!0)):"y2"===t?(r=d.y2.copy().domain(d.getYDomain(n,"y2")),o=this.getYAxis(t,r,d.y2Orient,d.y2AxisTickValues,!1,!0,!0)):(r=d.x.copy().domain(d.getXDomain(n)),o=this.getXAxis(r,d.xOrient,d.xAxisTickFormat,d.xAxisTickValues,!1,!0,!0),this.updateXAxisTickValues(n,o)),(c=d.d3.select("body").append("div").classed("c3",!0)).append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0).append("g").call(o).each((function(){d.d3.select(this).selectAll("text").each((function(){var t=h(this);l<t.width&&(l=t.width)})),c.remove()}))),d.currentMaxTickWidths[t]=l<=0?d.currentMaxTickWidths[t]:l),d.currentMaxTickWidths[t]},R.prototype.updateLabels=function(t){var e=this.owner,n=e.main.select("."+O.axisX+" ."+O.axisXLabel),r=e.main.select("."+O.axisY+" ."+O.axisYLabel),o=e.main.select("."+O.axisY2+" ."+O.axisY2Label);(t?n.transition():n).attr("x",this.xForXAxisLabel.bind(this)).attr("dx",this.dxForXAxisLabel.bind(this)).attr("dy",this.dyForXAxisLabel.bind(this)).text(this.textForXAxisLabel.bind(this)),(t?r.transition():r).attr("x",this.xForYAxisLabel.bind(this)).attr("dx",this.dxForYAxisLabel.bind(this)).attr("dy",this.dyForYAxisLabel.bind(this)).text(this.textForYAxisLabel.bind(this)),(t?o.transition():o).attr("x",this.xForY2AxisLabel.bind(this)).attr("dx",this.dxForY2AxisLabel.bind(this)).attr("dy",this.dyForY2AxisLabel.bind(this)).text(this.textForY2AxisLabel.bind(this))},R.prototype.getPadding=function(t,e,n,r){var p="number"==typeof t?t:t[e];return T(p)?"ratio"===t.unit?t[e]*r:this.convertPixelsToAxisPadding(p,r):n},R.prototype.convertPixelsToAxisPadding=function(t,e){var n=this.owner;return e*(t/(n.config.axis_rotated?n.width:n.height))},R.prototype.generateTickValues=function(t,e,n){var r,o,c,d,l,i,h,f=t;if(e)if(1===(r=m(e)?e():e))f=[t[0]];else if(2===r)f=[t[0],t[t.length-1]];else if(r>2){for(d=r-2,o=t[0],l=((c=t[t.length-1])-o)/(d+1),f=[o],i=0;i<d;i++)h=+o+l*(i+1),f.push(n?new Date(h):h);f.push(c)}return n||(f=f.sort((function(a,b){return a-b}))),f},R.prototype.generateTransitions=function(t){var e=this.owner.axes;return{axisX:t?e.x.transition().duration(t):e.x,axisY:t?e.y.transition().duration(t):e.y,axisY2:t?e.y2.transition().duration(t):e.y2,axisSubX:t?e.subx.transition().duration(t):e.subx}},R.prototype.redraw=function(t,e){var n=this.owner,r=t?n.d3.transition().duration(t):null;n.axes.x.style("opacity",e?0:1).call(n.xAxis,r),n.axes.y.style("opacity",e?0:1).call(n.yAxis,r),n.axes.y2.style("opacity",e?0:1).call(n.y2Axis,r),n.axes.subx.style("opacity",e?0:1).call(n.subXAxis,r)};var k={version:"0.7.20",chart:{fn:e.prototype,internal:{fn:t.prototype,axis:{fn:I.prototype,internal:{fn:E.prototype}}}},generate:function(t){return new e(t)}};function D(t,e,n){var r=[.01,10];function o(a,b,t){var e,n,r,o;if(arguments.length<3)t=10;else if(0===t)return[];o=(b-a)/(n=t-1),r=a,(e=new Array(t))[0]=Math.pow(10,r);for(var i=1;i<n;i++)r+=o,e[i]=Math.pow(10,r);return e[n]=Math.pow(10,b),e}function c(t){return n(e(t))}return e||(e=t.scaleLinear()).range(r),n||((n=t.scaleLog()).domain(r),n.nice()),c.domain=function(t){return arguments.length?(e.domain(t),c):e.domain()},c.range=function(t){return arguments.length?(n.range(t),c):n.range()},c.ticks=function(t){return o(-2,1,t||10).map((function(t){return e.invert(t)}))},c.copy=function(){return D(t,e.copy(),n.copy())},c}function F(t){return t/Math.pow(10,Math.ceil(Math.log(t)/Math.LN10-1e-12))==1}t.prototype.beforeInit=function(){},t.prototype.afterInit=function(){},t.prototype.init=function(){var t=this,e=t.config;if(t.initParams(),e.data_url)t.convertUrlToData(e.data_url,e.data_mimeType,e.data_headers,e.data_keys,t.initWithData);else if(e.data_json)t.initWithData(t.convertJsonToData(e.data_json,e.data_keys));else if(e.data_rows)t.initWithData(t.convertRowsToData(e.data_rows));else{if(!e.data_columns)throw Error("url or json or rows or columns is required.");t.initWithData(t.convertColumnsToData(e.data_columns))}},t.prototype.initParams=function(){var t=this,e=t.d3,n=t.config;t.clipId="c3-"+(new Date).valueOf()+"-clip",t.clipIdForXAxis=t.clipId+"-xaxis",t.clipIdForYAxis=t.clipId+"-yaxis",t.clipIdForGrid=t.clipId+"-grid",t.clipIdForSubchart=t.clipId+"-subchart",t.clipPath=t.getClipPath(t.clipId),t.clipPathForXAxis=t.getClipPath(t.clipIdForXAxis),t.clipPathForYAxis=t.getClipPath(t.clipIdForYAxis),t.clipPathForGrid=t.getClipPath(t.clipIdForGrid),t.clipPathForSubchart=t.getClipPath(t.clipIdForSubchart),t.dragStart=null,t.dragging=!1,t.flowing=!1,t.cancelClick=!1,t.mouseover=void 0,t.transiting=!1,t.color=t.generateColor(),t.levelColor=t.generateLevelColor(),t.dataTimeParse=(n.data_xLocaltime?e.timeParse:e.utcParse)(t.config.data_xFormat),t.axisTimeFormat=n.axis_x_localtime?e.timeFormat:e.utcFormat,t.defaultAxisTimeFormat=function(t){return t.getMilliseconds()?e.timeFormat(".%L")(t):t.getSeconds()?e.timeFormat(":%S")(t):t.getMinutes()?e.timeFormat("%I:%M")(t):t.getHours()?e.timeFormat("%I %p")(t):t.getDay()&&1!==t.getDate()||1!==t.getDate()||t.getMonth()?e.timeFormat("%-m/%-d")(t):e.timeFormat("%Y/%-m/%-d")(t)},t.hiddenTargetIds=[],t.hiddenLegendIds=[],t.focusedTargetIds=[],t.defocusedTargetIds=[],t.xOrient=n.axis_rotated?n.axis_x_inner?"right":"left":n.axis_x_inner?"top":"bottom",t.yOrient=n.axis_rotated?n.axis_y_inner?"top":"bottom":n.axis_y_inner?"right":"left",t.y2Orient=n.axis_rotated?n.axis_y2_inner?"bottom":"top":n.axis_y2_inner?"left":"right",t.subXOrient=n.axis_rotated?"left":"bottom",t.isLegendRight="right"===n.legend_position,t.isLegendInset="inset"===n.legend_position,t.isLegendTop="top-left"===n.legend_inset_anchor||"top-right"===n.legend_inset_anchor,t.isLegendLeft="top-left"===n.legend_inset_anchor||"bottom-left"===n.legend_inset_anchor,t.legendStep=0,t.legendItemWidth=0,t.legendItemHeight=0,t.currentMaxTickWidths={x:0,y:0,y2:0},t.rotated_padding_left=30,t.rotated_padding_right=n.axis_rotated&&!n.axis_x_show?0:30,t.rotated_padding_top=5,t.withoutFadeIn={},t.intervalForObserveInserted=void 0,t.axes.subx=e.selectAll([])},t.prototype.initChartElements=function(){this.initBar&&this.initBar(),this.initLine&&this.initLine(),this.initArc&&this.initArc(),this.initGauge&&this.initGauge(),this.initText&&this.initText()},t.prototype.initWithData=function(data){var defs,main,t=this,e=t.d3,n=t.config,r=!0;t.axis=new I(t),n.bindto?"function"==typeof n.bindto.node?t.selectChart=n.bindto:t.selectChart=e.select(n.bindto):t.selectChart=e.selectAll([]),t.selectChart.empty()&&(t.selectChart=e.select(document.createElement("div")).style("opacity",0),t.observeInserted(t.selectChart),r=!1),t.selectChart.html("").classed("c3",!0),t.data.xs={},t.data.targets=t.convertDataToTargets(data),n.data_filter&&(t.data.targets=t.data.targets.filter(n.data_filter)),n.data_hide&&t.addHiddenTargetIds(!0===n.data_hide?t.mapToIds(t.data.targets):n.data_hide),n.legend_hide&&t.addHiddenLegendIds(!0===n.legend_hide?t.mapToIds(t.data.targets):n.legend_hide),t.isStanfordGraphType()&&t.initStanfordData(),t.updateSizes(),t.updateScales(),t.x.domain(e.extent(t.getXDomain(t.data.targets))),t.y.domain(t.getYDomain(t.data.targets,"y")),t.y2.domain(t.getYDomain(t.data.targets,"y2")),t.subX.domain(t.x.domain()),t.subY.domain(t.y.domain()),t.subY2.domain(t.y2.domain()),t.orgXDomain=t.x.domain(),t.svg=t.selectChart.append("svg").style("overflow","hidden").on("mouseenter",(function(){return n.onmouseover.call(t)})).on("mouseleave",(function(){return n.onmouseout.call(t)})),t.config.svg_classname&&t.svg.attr("class",t.config.svg_classname),defs=t.svg.append("defs"),t.clipChart=t.appendClip(defs,t.clipId),t.clipXAxis=t.appendClip(defs,t.clipIdForXAxis),t.clipYAxis=t.appendClip(defs,t.clipIdForYAxis),t.clipGrid=t.appendClip(defs,t.clipIdForGrid),t.clipSubchart=t.appendClip(defs,t.clipIdForSubchart),t.updateSvgSize(),main=t.main=t.svg.append("g").attr("transform",t.getTranslate("main")),t.initPie&&t.initPie(),t.initDragZoom&&t.initDragZoom(),n.subchart_show&&t.initSubchart&&t.initSubchart(),t.initTooltip&&t.initTooltip(),t.initLegend&&t.initLegend(),t.initTitle&&t.initTitle(),t.initZoom&&t.initZoom(),t.isStanfordGraphType()&&t.drawColorScale(),n.subchart_show&&t.initSubchartBrush&&t.initSubchartBrush(),main.append("text").attr("class",O.text+" "+O.empty).attr("text-anchor","middle").attr("dominant-baseline","middle"),t.initRegion(),t.initGrid(),main.append("g").attr("clip-path",t.clipPath).attr("class",O.chart),n.grid_lines_front&&t.initGridLines(),t.initStanfordElements(),t.initEventRect(),t.initChartElements(),t.axis.init(),t.updateTargets(t.data.targets),n.axis_x_selection&&t.brush.selectionAsValue(t.getDefaultSelection()),r&&(t.updateDimension(),t.config.oninit.call(t),t.redraw({withTransition:!1,withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransitionForAxis:!1})),t.bindResize(),t.bindWindowFocus(),t.api.element=t.selectChart.node()},t.prototype.smoothLines=function(t,e){var n=this;"grid"===e&&t.each((function(){var g=n.d3.select(this),t=g.attr("x1"),e=g.attr("x2"),r=g.attr("y1"),o=g.attr("y2");g.attr({x1:Math.ceil(t),x2:Math.ceil(e),y1:Math.ceil(r),y2:Math.ceil(o)})}))},t.prototype.updateSizes=function(){var t=this,e=t.config,n=t.legend?t.getLegendHeight():0,r=t.legend?t.getLegendWidth():0,o=t.isLegendRight||t.isLegendInset?0:n,c=t.hasArcType(),d=e.axis_rotated||c?0:t.getHorizontalAxisHeight("x"),l=e.axis_rotated||c?0:t.getHorizontalAxisHeight("x",!0),h=e.subchart_show&&!c?e.subchart_size_height+l:0;t.currentWidth=t.getCurrentWidth(),t.currentHeight=t.getCurrentHeight(),t.margin=e.axis_rotated?{top:t.getHorizontalAxisHeight("y2")+t.getCurrentPaddingTop(),right:c?0:t.getCurrentPaddingRight(),bottom:t.getHorizontalAxisHeight("y")+o+t.getCurrentPaddingBottom(),left:h+(c?0:t.getCurrentPaddingLeft())}:{top:4+t.getCurrentPaddingTop(),right:c?0:t.getCurrentPaddingRight(),bottom:d+h+o+t.getCurrentPaddingBottom(),left:c?0:t.getCurrentPaddingLeft()},t.margin2=e.axis_rotated?{top:t.margin.top,right:NaN,bottom:20+o,left:t.rotated_padding_left}:{top:t.currentHeight-h-o,right:NaN,bottom:l+o,left:t.margin.left},t.margin3={top:0,right:NaN,bottom:0,left:0},t.updateSizeForLegend&&t.updateSizeForLegend(n,r),t.width=t.currentWidth-t.margin.left-t.margin.right,t.height=t.currentHeight-t.margin.top-t.margin.bottom,t.width<0&&(t.width=0),t.height<0&&(t.height=0),t.width2=e.axis_rotated?t.margin.left-t.rotated_padding_left-t.rotated_padding_right:t.width,t.height2=e.axis_rotated?t.height:t.currentHeight-t.margin2.top-t.margin2.bottom,t.width2<0&&(t.width2=0),t.height2<0&&(t.height2=0),t.arcWidth=t.width-(t.isLegendRight?r+10:0),t.arcHeight=t.height-(t.isLegendRight?0:10),t.hasType("gauge")&&!e.gauge_fullCircle&&(t.arcHeight+=t.height-t.getGaugeLabelHeight()),t.updateRadius&&t.updateRadius(),t.isLegendRight&&c&&(t.margin3.left=t.arcWidth/2+1.1*t.radiusExpanded)},t.prototype.updateTargets=function(t){var e=this,n=e.config;e.updateTargetsForText(t),e.updateTargetsForBar(t),e.updateTargetsForLine(t),e.hasArcType()&&e.updateTargetsForArc&&e.updateTargetsForArc(t),n.subchart_show&&e.updateTargetsForSubchart&&e.updateTargetsForSubchart(t),e.showTargets()},t.prototype.showTargets=function(){var t=this;t.svg.selectAll("."+O.target).filter((function(e){return t.isTargetToShow(e.id)})).transition().duration(t.config.transition_duration).style("opacity",1)},t.prototype.redraw=function(t,e){var n,r,o,c,l,h,f,_,x,y,m,S,w,v,T,A,P,C,L,V,G,E,I,R,k,D,i,F,X,M,z,H=this,main=H.main,N=H.d3,B=H.config,Y=H.getShapeIndices(H.isAreaType),j=H.getShapeIndices(H.isBarType),U=H.getShapeIndices(H.isLineType),W=H.hasArcType(),Q=H.filterTargetsToShow(H.data.targets),Z=H.xv.bind(H);if(n=d(t=t||{},"withY",!0),r=d(t,"withSubchart",!0),o=d(t,"withTransition",!0),h=d(t,"withTransform",!1),f=d(t,"withUpdateXDomain",!1),_=d(t,"withUpdateOrgXDomain",!1),x=d(t,"withTrimXDomain",!0),w=d(t,"withUpdateXAxis",f),y=d(t,"withLegend",!1),m=d(t,"withEventRect",!0),S=d(t,"withDimension",!0),c=d(t,"withTransitionForExit",o),l=d(t,"withTransitionForAxis",o),L=o?B.transition_duration:0,V=c?L:0,G=l?L:0,e=e||H.axis.generateTransitions(G),y&&B.legend_show?H.updateLegend(H.mapToIds(H.data.targets),t,e):S&&H.updateDimension(!0),H.isCategorized()&&0===Q.length&&H.x.domain([0,H.axes.x.selectAll(".tick").size()]),Q.length?(H.updateXDomain(Q,f,_,x),B.axis_x_tick_values||(D=H.axis.updateXAxisTickValues(Q))):(H.xAxis.tickValues([]),H.subXAxis.tickValues([])),B.zoom_rescale&&!t.flow&&(X=H.x.orgDomain()),H.y.domain(H.getYDomain(Q,"y",X)),H.y2.domain(H.getYDomain(Q,"y2",X)),!B.axis_y_tick_values&&B.axis_y_tick_count&&H.yAxis.tickValues(H.axis.generateTickValues(H.y.domain(),B.axis_y_tick_count)),!B.axis_y2_tick_values&&B.axis_y2_tick_count&&H.y2Axis.tickValues(H.axis.generateTickValues(H.y2.domain(),B.axis_y2_tick_count)),H.axis.redraw(G,W),H.axis.updateLabels(o),(f||w)&&Q.length)if(B.axis_x_tick_culling&&D){for(i=1;i<D.length;i++)if(D.length/i<B.axis_x_tick_culling_max){F=i;break}H.svg.selectAll("."+O.axisX+" .tick text").each((function(t){var e=D.indexOf(t);e>=0&&N.select(this).style("display",e%F?"none":"block")}))}else H.svg.selectAll("."+O.axisX+" .tick text").style("display","block");v=H.generateDrawArea?H.generateDrawArea(Y,!1):void 0,T=H.generateDrawBar?H.generateDrawBar(j):void 0,A=H.generateDrawLine?H.generateDrawLine(U,!1):void 0,P=H.generateXYForText(Y,j,U,!0),C=H.generateXYForText(Y,j,U,!1),H.updateCircleY(),M=(H.config.axis_rotated?H.circleY:H.circleX).bind(H),z=(H.config.axis_rotated?H.circleX:H.circleY).bind(H),n&&(H.subY.domain(H.getYDomain(Q,"y")),H.subY2.domain(H.getYDomain(Q,"y2"))),H.updateXgridFocus(),main.select("text."+O.text+"."+O.empty).attr("x",H.width/2).attr("y",H.height/2).text(B.data_empty_label_text).transition().style("opacity",Q.length?0:1),m&&H.redrawEventRect(),H.updateGrid(L),H.updateStanfordElements(L),H.updateRegion(L),H.updateBar(V),H.updateLine(V),H.updateArea(V),H.updateCircle(M,z),H.hasDataLabel()&&H.updateText(P,C,V),H.redrawTitle&&H.redrawTitle(),H.redrawArc&&H.redrawArc(L,V,h),B.subchart_show&&H.redrawSubchart&&H.redrawSubchart(r,e,L,V,Y,j,U),H.isStanfordGraphType()&&H.drawColorScale(),main.selectAll("."+O.selectedCircles).filter(H.isBarType.bind(H)).selectAll("circle").remove(),t.flow&&(R=H.generateFlow({targets:Q,flow:t.flow,duration:t.flow.duration,drawBar:T,drawLine:A,drawArea:v,cx:M,cy:z,xv:Z,xForText:P,yForText:C})),L&&H.isTabVisible()?(k=N.transition().duration(L),E=[],[H.redrawBar(T,!0,k),H.redrawLine(A,!0,k),H.redrawArea(v,!0,k),H.redrawCircle(M,z,!0,k),H.redrawText(P,C,t.flow,!0,k),H.redrawRegion(!0,k),H.redrawGrid(!0,k)].forEach((function(t){t.forEach((function(t){E.push(t)}))})),I=H.generateWait(),E.forEach((function(t){I.add(t)})),I((function(){R&&R(),B.onrendered&&B.onrendered.call(H)}))):(H.redrawBar(T),H.redrawLine(A),H.redrawArea(v),H.redrawCircle(M,z),H.redrawText(P,C,t.flow),H.redrawRegion(),H.redrawGrid(),R&&R(),B.onrendered&&B.onrendered.call(H)),H.mapToIds(H.data.targets).forEach((function(t){H.withoutFadeIn[t]=!0}))},t.prototype.updateAndRedraw=function(t){var e,n=this,r=n.config;(t=t||{}).withTransition=d(t,"withTransition",!0),t.withTransform=d(t,"withTransform",!1),t.withLegend=d(t,"withLegend",!1),t.withUpdateXDomain=d(t,"withUpdateXDomain",!0),t.withUpdateOrgXDomain=d(t,"withUpdateOrgXDomain",!0),t.withTransitionForExit=!1,t.withTransitionForTransform=d(t,"withTransitionForTransform",t.withTransition),n.updateSizes(),t.withLegend&&r.legend_show||(e=n.axis.generateTransitions(t.withTransitionForAxis?r.transition_duration:0),n.updateScales(),n.updateSvgSize(),n.transformAll(t.withTransitionForTransform,e)),n.redraw(t,e)},t.prototype.redrawWithoutRescale=function(){this.redraw({withY:!1,withSubchart:!1,withEventRect:!1,withTransitionForAxis:!1})},t.prototype.isTimeSeries=function(){return"timeseries"===this.config.axis_x_type},t.prototype.isCategorized=function(){return this.config.axis_x_type.indexOf("categor")>=0},t.prototype.isCustomX=function(){var t=this,e=t.config;return!t.isTimeSeries()&&(e.data_x||A(e.data_xs))},t.prototype.isTimeSeriesY=function(){return"timeseries"===this.config.axis_y_type},t.prototype.getTranslate=function(t){var e,n,o=this,c=o.config;return"main"===t?(e=r(o.margin.left),n=r(o.margin.top)):"context"===t?(e=r(o.margin2.left),n=r(o.margin2.top)):"legend"===t?(e=o.margin3.left,n=o.margin3.top):"x"===t?(e=0,n=c.axis_rotated?0:o.height):"y"===t?(e=0,n=c.axis_rotated?o.height:0):"y2"===t?(e=c.axis_rotated?0:o.width,n=c.axis_rotated?1:0):"subx"===t?(e=0,n=c.axis_rotated?0:o.height2):"arc"===t&&(e=o.arcWidth/2,n=o.arcHeight/2-(o.hasType("gauge")?6:0)),"translate("+e+","+n+")"},t.prototype.initialOpacity=function(t){return null!==t.value&&this.withoutFadeIn[t.id]?1:0},t.prototype.initialOpacityForCircle=function(t){return null!==t.value&&this.withoutFadeIn[t.id]?this.opacityForCircle(t):0},t.prototype.opacityForCircle=function(t){var e=(m(this.config.point_show)?this.config.point_show(t):this.config.point_show)||this.isStanfordType(t)?1:0;return T(t.value)?this.isScatterType(t)?.5:e:0},t.prototype.opacityForText=function(){return this.hasDataLabel()?1:0},t.prototype.xx=function(t){return t?this.x(t.x):null},t.prototype.xvCustom=function(t,e){var n=this,r=e?t[e]:t.value;return n.isTimeSeries()?r=n.parseDate(t.value):n.isCategorized()&&"string"==typeof t.value&&(r=n.config.axis_x_categories.indexOf(t.value)),Math.ceil(n.x(r))},t.prototype.yvCustom=function(t,e){var n=this,r=t.axis&&"y2"===t.axis?n.y2:n.y,o=e?t[e]:t.value;return Math.ceil(r(o))},t.prototype.xv=function(t){var e=this,n=t.value;return e.isTimeSeries()?n=e.parseDate(t.value):e.isCategorized()&&"string"==typeof t.value&&(n=e.config.axis_x_categories.indexOf(t.value)),Math.ceil(e.x(n))},t.prototype.yv=function(t){var e=this,n=t.axis&&"y2"===t.axis?e.y2:e.y;return Math.ceil(n(t.value))},t.prototype.subxx=function(t){return t?this.subX(t.x):null},t.prototype.transformMain=function(t,e){var n,r,o,c=this;e&&e.axisX?n=e.axisX:(n=c.main.select("."+O.axisX),t&&(n=n.transition())),e&&e.axisY?r=e.axisY:(r=c.main.select("."+O.axisY),t&&(r=r.transition())),e&&e.axisY2?o=e.axisY2:(o=c.main.select("."+O.axisY2),t&&(o=o.transition())),(t?c.main.transition():c.main).attr("transform",c.getTranslate("main")),n.attr("transform",c.getTranslate("x")),r.attr("transform",c.getTranslate("y")),o.attr("transform",c.getTranslate("y2")),c.main.select("."+O.chartArcs).attr("transform",c.getTranslate("arc"))},t.prototype.transformAll=function(t,e){var n=this;n.transformMain(t,e),n.config.subchart_show&&n.transformContext(t,e),n.legend&&n.transformLegend(t)},t.prototype.updateSvgSize=function(){var t=this,e=t.svg.select("."+O.brush+" .overlay");t.svg.attr("width",t.currentWidth).attr("height",t.currentHeight),t.svg.selectAll(["#"+t.clipId,"#"+t.clipIdForGrid]).select("rect").attr("width",t.width).attr("height",t.height),t.svg.select("#"+t.clipIdForXAxis).select("rect").attr("x",t.getXAxisClipX.bind(t)).attr("y",t.getXAxisClipY.bind(t)).attr("width",t.getXAxisClipWidth.bind(t)).attr("height",t.getXAxisClipHeight.bind(t)),t.svg.select("#"+t.clipIdForYAxis).select("rect").attr("x",t.getYAxisClipX.bind(t)).attr("y",t.getYAxisClipY.bind(t)).attr("width",t.getYAxisClipWidth.bind(t)).attr("height",t.getYAxisClipHeight.bind(t)),t.svg.select("#"+t.clipIdForSubchart).select("rect").attr("width",t.width).attr("height",e.size()&&e.attr("height")||0),t.selectChart.style("max-height",t.currentHeight+"px")},t.prototype.updateDimension=function(t){var e=this;t||(e.config.axis_rotated?(e.axes.x.call(e.xAxis),e.axes.subx.call(e.subXAxis)):(e.axes.y.call(e.yAxis),e.axes.y2.call(e.y2Axis))),e.updateSizes(),e.updateScales(),e.updateSvgSize(),e.transformAll(!1)},t.prototype.observeInserted=function(t){var e,n=this;"undefined"!=typeof MutationObserver?(e=new MutationObserver((function(r){r.forEach((function(r){"childList"===r.type&&r.previousSibling&&(e.disconnect(),n.intervalForObserveInserted=window.setInterval((function(){t.node().parentNode&&(window.clearInterval(n.intervalForObserveInserted),n.updateDimension(),n.brush&&n.brush.update(),n.config.oninit.call(n),n.redraw({withTransform:!0,withUpdateXDomain:!0,withUpdateOrgXDomain:!0,withTransition:!1,withTransitionForTransform:!1,withLegend:!0}),t.transition().style("opacity",1))}),10))}))}))).observe(t.node(),{attributes:!0,childList:!0,characterData:!0}):window.console.error("MutationObserver not defined.")},t.prototype.bindResize=function(){var t=this,e=t.config;t.resizeFunction=t.generateResize(),t.resizeFunction.add((function(){e.onresize.call(t)})),e.resize_auto&&t.resizeFunction.add((function(){void 0!==t.resizeTimeout&&window.clearTimeout(t.resizeTimeout),t.resizeTimeout=window.setTimeout((function(){delete t.resizeTimeout,t.updateAndRedraw({withUpdateXDomain:!1,withUpdateOrgXDomain:!1,withTransition:!1,withTransitionForTransform:!1,withLegend:!0}),t.brush&&t.brush.update()}),100)})),t.resizeFunction.add((function(){e.onresized.call(t)})),t.resizeIfElementDisplayed=function(){null!=t.api&&t.api.element.offsetParent&&t.resizeFunction()},window.addEventListener("resize",t.resizeIfElementDisplayed,!1)},t.prototype.bindWindowFocus=function(){var t=this;this.windowFocusHandler||(this.windowFocusHandler=function(){t.redraw()},window.addEventListener("focus",this.windowFocusHandler))},t.prototype.unbindWindowFocus=function(){window.removeEventListener("focus",this.windowFocusHandler),delete this.windowFocusHandler},t.prototype.generateResize=function(){var t=[];function e(){t.forEach((function(t){t()}))}return e.add=function(e){t.push(e)},e.remove=function(e){for(var i=0;i<t.length;i++)if(t[i]===e){t.splice(i,1);break}},e},t.prototype.endall=function(t,e){var n=0;t.each((function(){++n})).on("end",(function(){--n||e.apply(this,arguments)}))},t.prototype.generateWait=function(){var t=this,e=[],n=function(n){var r=setInterval((function(){if(t.isTabVisible()){var o=0;e.forEach((function(t){if(t.empty())o+=1;else try{t.transition()}catch(t){o+=1}})),o===e.length&&(clearInterval(r),n&&n())}}),50)};return n.add=function(t){e.push(t)},n},t.prototype.parseDate=function(t){var e;return t instanceof Date?e=t:"string"==typeof t?e=this.dataTimeParse(t):"object"==typeof t?e=new Date(+t):"number"!=typeof t||isNaN(t)||(e=new Date(+t)),e&&!isNaN(+e)||window.console.error("Failed to parse x '"+t+"' to Date object"),e},t.prototype.isTabVisible=function(){return!document.hidden},t.prototype.getPathBox=l,t.prototype.CLASS=O,"SVGPathSeg"in window||(window.SVGPathSeg=function(t,e,n){this.pathSegType=t,this.pathSegTypeAsLetter=e,this._owningPathSegList=n},window.SVGPathSeg.prototype.classname="SVGPathSeg",window.SVGPathSeg.PATHSEG_UNKNOWN=0,window.SVGPathSeg.PATHSEG_CLOSEPATH=1,window.SVGPathSeg.PATHSEG_MOVETO_ABS=2,window.SVGPathSeg.PATHSEG_MOVETO_REL=3,window.SVGPathSeg.PATHSEG_LINETO_ABS=4,window.SVGPathSeg.PATHSEG_LINETO_REL=5,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS=6,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL=7,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS=8,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL=9,window.SVGPathSeg.PATHSEG_ARC_ABS=10,window.SVGPathSeg.PATHSEG_ARC_REL=11,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS=12,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL=13,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS=14,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL=15,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS=16,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL=17,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS=18,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL=19,window.SVGPathSeg.prototype._segmentChanged=function(){this._owningPathSegList&&this._owningPathSegList.segmentChanged(this)},window.SVGPathSegClosePath=function(t){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CLOSEPATH,"z",t)},window.SVGPathSegClosePath.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegClosePath.prototype.toString=function(){return"[object SVGPathSegClosePath]"},window.SVGPathSegClosePath.prototype._asPathString=function(){return this.pathSegTypeAsLetter},window.SVGPathSegClosePath.prototype.clone=function(){return new window.SVGPathSegClosePath(void 0)},window.SVGPathSegMovetoAbs=function(t,e,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_ABS,"M",t),this._x=e,this._y=n},window.SVGPathSegMovetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoAbs.prototype.toString=function(){return"[object SVGPathSegMovetoAbs]"},window.SVGPathSegMovetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegMovetoAbs.prototype.clone=function(){return new window.SVGPathSegMovetoAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegMovetoRel=function(t,e,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_MOVETO_REL,"m",t),this._x=e,this._y=n},window.SVGPathSegMovetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegMovetoRel.prototype.toString=function(){return"[object SVGPathSegMovetoRel]"},window.SVGPathSegMovetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegMovetoRel.prototype.clone=function(){return new window.SVGPathSegMovetoRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegMovetoRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoAbs=function(t,e,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_ABS,"L",t),this._x=e,this._y=n},window.SVGPathSegLinetoAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoAbs.prototype.toString=function(){return"[object SVGPathSegLinetoAbs]"},window.SVGPathSegLinetoAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegLinetoAbs.prototype.clone=function(){return new window.SVGPathSegLinetoAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoRel=function(t,e,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_REL,"l",t),this._x=e,this._y=n},window.SVGPathSegLinetoRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoRel.prototype.toString=function(){return"[object SVGPathSegLinetoRel]"},window.SVGPathSegLinetoRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegLinetoRel.prototype.clone=function(){return new window.SVGPathSegLinetoRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegLinetoRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicAbs=function(t,e,n,r,o,c,d){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS,"C",t),this._x=e,this._y=n,this._x1=r,this._y1=o,this._x2=c,this._y2=d},window.SVGPathSegCurvetoCubicAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicAbs]"},window.SVGPathSegCurvetoCubicAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicAbs(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicAbs.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicRel=function(t,e,n,r,o,c,d){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL,"c",t),this._x=e,this._y=n,this._x1=r,this._y1=o,this._x2=c,this._y2=d},window.SVGPathSegCurvetoCubicRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicRel]"},window.SVGPathSegCurvetoCubicRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicRel(void 0,this._x,this._y,this._x1,this._y1,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicRel.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticAbs=function(t,e,n,r,o){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS,"Q",t),this._x=e,this._y=n,this._x1=r,this._y1=o},window.SVGPathSegCurvetoQuadraticAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticAbs]"},window.SVGPathSegCurvetoQuadraticAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticAbs(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticAbs.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticRel=function(t,e,n,r,o){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL,"q",t),this._x=e,this._y=n,this._x1=r,this._y1=o},window.SVGPathSegCurvetoQuadraticRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticRel]"},window.SVGPathSegCurvetoQuadraticRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x1+" "+this._y1+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticRel(void 0,this._x,this._y,this._x1,this._y1)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"x1",{get:function(){return this._x1},set:function(t){this._x1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticRel.prototype,"y1",{get:function(){return this._y1},set:function(t){this._y1=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcAbs=function(t,e,n,r,o,c,d,l){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_ABS,"A",t),this._x=e,this._y=n,this._r1=r,this._r2=o,this._angle=c,this._largeArcFlag=d,this._sweepFlag=l},window.SVGPathSegArcAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcAbs.prototype.toString=function(){return"[object SVGPathSegArcAbs]"},window.SVGPathSegArcAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},window.SVGPathSegArcAbs.prototype.clone=function(){return new window.SVGPathSegArcAbs(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r1",{get:function(){return this._r1},set:function(t){this._r1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"r2",{get:function(){return this._r2},set:function(t){this._r2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"angle",{get:function(){return this._angle},set:function(t){this._angle=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(t){this._largeArcFlag=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcAbs.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(t){this._sweepFlag=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegArcRel=function(t,e,n,r,o,c,d,l){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_ARC_REL,"a",t),this._x=e,this._y=n,this._r1=r,this._r2=o,this._angle=c,this._largeArcFlag=d,this._sweepFlag=l},window.SVGPathSegArcRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegArcRel.prototype.toString=function(){return"[object SVGPathSegArcRel]"},window.SVGPathSegArcRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._r1+" "+this._r2+" "+this._angle+" "+(this._largeArcFlag?"1":"0")+" "+(this._sweepFlag?"1":"0")+" "+this._x+" "+this._y},window.SVGPathSegArcRel.prototype.clone=function(){return new window.SVGPathSegArcRel(void 0,this._x,this._y,this._r1,this._r2,this._angle,this._largeArcFlag,this._sweepFlag)},Object.defineProperty(window.SVGPathSegArcRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r1",{get:function(){return this._r1},set:function(t){this._r1=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"r2",{get:function(){return this._r2},set:function(t){this._r2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"angle",{get:function(){return this._angle},set:function(t){this._angle=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"largeArcFlag",{get:function(){return this._largeArcFlag},set:function(t){this._largeArcFlag=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegArcRel.prototype,"sweepFlag",{get:function(){return this._sweepFlag},set:function(t){this._sweepFlag=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalAbs=function(t,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS,"H",t),this._x=e},window.SVGPathSegLinetoHorizontalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalAbs]"},window.SVGPathSegLinetoHorizontalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},window.SVGPathSegLinetoHorizontalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalAbs(void 0,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoHorizontalRel=function(t,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL,"h",t),this._x=e},window.SVGPathSegLinetoHorizontalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoHorizontalRel.prototype.toString=function(){return"[object SVGPathSegLinetoHorizontalRel]"},window.SVGPathSegLinetoHorizontalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x},window.SVGPathSegLinetoHorizontalRel.prototype.clone=function(){return new window.SVGPathSegLinetoHorizontalRel(void 0,this._x)},Object.defineProperty(window.SVGPathSegLinetoHorizontalRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalAbs=function(t,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS,"V",t),this._y=e},window.SVGPathSegLinetoVerticalAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalAbs.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalAbs]"},window.SVGPathSegLinetoVerticalAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},window.SVGPathSegLinetoVerticalAbs.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalAbs(void 0,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegLinetoVerticalRel=function(t,e){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL,"v",t),this._y=e},window.SVGPathSegLinetoVerticalRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegLinetoVerticalRel.prototype.toString=function(){return"[object SVGPathSegLinetoVerticalRel]"},window.SVGPathSegLinetoVerticalRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._y},window.SVGPathSegLinetoVerticalRel.prototype.clone=function(){return new window.SVGPathSegLinetoVerticalRel(void 0,this._y)},Object.defineProperty(window.SVGPathSegLinetoVerticalRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothAbs=function(t,e,n,r,o){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS,"S",t),this._x=e,this._y=n,this._x2=r,this._y2=o},window.SVGPathSegCurvetoCubicSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothAbs]"},window.SVGPathSegCurvetoCubicSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothAbs(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothAbs.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoCubicSmoothRel=function(t,e,n,r,o){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL,"s",t),this._x=e,this._y=n,this._x2=r,this._y2=o},window.SVGPathSegCurvetoCubicSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoCubicSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoCubicSmoothRel]"},window.SVGPathSegCurvetoCubicSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x2+" "+this._y2+" "+this._x+" "+this._y},window.SVGPathSegCurvetoCubicSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoCubicSmoothRel(void 0,this._x,this._y,this._x2,this._y2)},Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"x2",{get:function(){return this._x2},set:function(t){this._x2=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoCubicSmoothRel.prototype,"y2",{get:function(){return this._y2},set:function(t){this._y2=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothAbs=function(t,e,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS,"T",t),this._x=e,this._y=n},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothAbs]"},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothAbs.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathSegCurvetoQuadraticSmoothRel=function(t,e,n){window.SVGPathSeg.call(this,window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL,"t",t),this._x=e,this._y=n},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype=Object.create(window.SVGPathSeg.prototype),window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.toString=function(){return"[object SVGPathSegCurvetoQuadraticSmoothRel]"},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype._asPathString=function(){return this.pathSegTypeAsLetter+" "+this._x+" "+this._y},window.SVGPathSegCurvetoQuadraticSmoothRel.prototype.clone=function(){return new window.SVGPathSegCurvetoQuadraticSmoothRel(void 0,this._x,this._y)},Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"x",{get:function(){return this._x},set:function(t){this._x=t,this._segmentChanged()},enumerable:!0}),Object.defineProperty(window.SVGPathSegCurvetoQuadraticSmoothRel.prototype,"y",{get:function(){return this._y},set:function(t){this._y=t,this._segmentChanged()},enumerable:!0}),window.SVGPathElement.prototype.createSVGPathSegClosePath=function(){return new window.SVGPathSegClosePath(void 0)},window.SVGPathElement.prototype.createSVGPathSegMovetoAbs=function(t,e){return new window.SVGPathSegMovetoAbs(void 0,t,e)},window.SVGPathElement.prototype.createSVGPathSegMovetoRel=function(t,e){return new window.SVGPathSegMovetoRel(void 0,t,e)},window.SVGPathElement.prototype.createSVGPathSegLinetoAbs=function(t,e){return new window.SVGPathSegLinetoAbs(void 0,t,e)},window.SVGPathElement.prototype.createSVGPathSegLinetoRel=function(t,e){return new window.SVGPathSegLinetoRel(void 0,t,e)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicAbs=function(t,e,n,r,o,c){return new window.SVGPathSegCurvetoCubicAbs(void 0,t,e,n,r,o,c)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicRel=function(t,e,n,r,o,c){return new window.SVGPathSegCurvetoCubicRel(void 0,t,e,n,r,o,c)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticAbs=function(t,e,n,r){return new window.SVGPathSegCurvetoQuadraticAbs(void 0,t,e,n,r)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticRel=function(t,e,n,r){return new window.SVGPathSegCurvetoQuadraticRel(void 0,t,e,n,r)},window.SVGPathElement.prototype.createSVGPathSegArcAbs=function(t,e,n,r,o,c,d){return new window.SVGPathSegArcAbs(void 0,t,e,n,r,o,c,d)},window.SVGPathElement.prototype.createSVGPathSegArcRel=function(t,e,n,r,o,c,d){return new window.SVGPathSegArcRel(void 0,t,e,n,r,o,c,d)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalAbs=function(t){return new window.SVGPathSegLinetoHorizontalAbs(void 0,t)},window.SVGPathElement.prototype.createSVGPathSegLinetoHorizontalRel=function(t){return new window.SVGPathSegLinetoHorizontalRel(void 0,t)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalAbs=function(t){return new window.SVGPathSegLinetoVerticalAbs(void 0,t)},window.SVGPathElement.prototype.createSVGPathSegLinetoVerticalRel=function(t){return new window.SVGPathSegLinetoVerticalRel(void 0,t)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothAbs=function(t,e,n,r){return new window.SVGPathSegCurvetoCubicSmoothAbs(void 0,t,e,n,r)},window.SVGPathElement.prototype.createSVGPathSegCurvetoCubicSmoothRel=function(t,e,n,r){return new window.SVGPathSegCurvetoCubicSmoothRel(void 0,t,e,n,r)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothAbs=function(t,e){return new window.SVGPathSegCurvetoQuadraticSmoothAbs(void 0,t,e)},window.SVGPathElement.prototype.createSVGPathSegCurvetoQuadraticSmoothRel=function(t,e){return new window.SVGPathSegCurvetoQuadraticSmoothRel(void 0,t,e)},"getPathSegAtLength"in window.SVGPathElement.prototype||(window.SVGPathElement.prototype.getPathSegAtLength=function(t){if(void 0===t||!isFinite(t))throw"Invalid arguments.";var e=document.createElementNS("http://www.w3.org/2000/svg","path");e.setAttribute("d",this.getAttribute("d"));var n=e.pathSegList.numberOfItems-1;if(n<=0)return 0;do{if(e.pathSegList.removeItem(n),t>e.getTotalLength())break;n--}while(n>0);return n})),"SVGPathSegList"in window||(window.SVGPathSegList=function(t){this._pathElement=t,this._list=this._parsePath(this._pathElement.getAttribute("d")),this._mutationObserverConfig={attributes:!0,attributeFilter:["d"]},this._pathElementMutationObserver=new MutationObserver(this._updateListFromPathMutations.bind(this)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.classname="SVGPathSegList",Object.defineProperty(window.SVGPathSegList.prototype,"numberOfItems",{get:function(){return this._checkPathSynchronizedToList(),this._list.length},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"pathSegList",{get:function(){return this._pathSegList||(this._pathSegList=new window.SVGPathSegList(this)),this._pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"normalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),Object.defineProperty(window.SVGPathElement.prototype,"animatedNormalizedPathSegList",{get:function(){return this.pathSegList},enumerable:!0}),window.SVGPathSegList.prototype._checkPathSynchronizedToList=function(){this._updateListFromPathMutations(this._pathElementMutationObserver.takeRecords())},window.SVGPathSegList.prototype._updateListFromPathMutations=function(t){if(this._pathElement){var e=!1;t.forEach((function(t){"d"==t.attributeName&&(e=!0)})),e&&(this._list=this._parsePath(this._pathElement.getAttribute("d")))}},window.SVGPathSegList.prototype._writeListToPath=function(){this._pathElementMutationObserver.disconnect(),this._pathElement.setAttribute("d",window.SVGPathSegList._pathSegArrayAsString(this._list)),this._pathElementMutationObserver.observe(this._pathElement,this._mutationObserverConfig)},window.SVGPathSegList.prototype.segmentChanged=function(t){this._writeListToPath()},window.SVGPathSegList.prototype.clear=function(){this._checkPathSynchronizedToList(),this._list.forEach((function(t){t._owningPathSegList=null})),this._list=[],this._writeListToPath()},window.SVGPathSegList.prototype.initialize=function(t){return this._checkPathSynchronizedToList(),this._list=[t],t._owningPathSegList=this,this._writeListToPath(),t},window.SVGPathSegList.prototype._checkValidIndex=function(t){if(isNaN(t)||t<0||t>=this.numberOfItems)throw"INDEX_SIZE_ERR"},window.SVGPathSegList.prototype.getItem=function(t){return this._checkPathSynchronizedToList(),this._checkValidIndex(t),this._list[t]},window.SVGPathSegList.prototype.insertItemBefore=function(t,e){return this._checkPathSynchronizedToList(),e>this.numberOfItems&&(e=this.numberOfItems),t._owningPathSegList&&(t=t.clone()),this._list.splice(e,0,t),t._owningPathSegList=this,this._writeListToPath(),t},window.SVGPathSegList.prototype.replaceItem=function(t,e){return this._checkPathSynchronizedToList(),t._owningPathSegList&&(t=t.clone()),this._checkValidIndex(e),this._list[e]=t,t._owningPathSegList=this,this._writeListToPath(),t},window.SVGPathSegList.prototype.removeItem=function(t){this._checkPathSynchronizedToList(),this._checkValidIndex(t);var e=this._list[t];return this._list.splice(t,1),this._writeListToPath(),e},window.SVGPathSegList.prototype.appendItem=function(t){return this._checkPathSynchronizedToList(),t._owningPathSegList&&(t=t.clone()),this._list.push(t),t._owningPathSegList=this,this._writeListToPath(),t},window.SVGPathSegList._pathSegArrayAsString=function(t){var e="",n=!0;return t.forEach((function(t){n?(n=!1,e+=t._asPathString()):e+=" "+t._asPathString()})),e},window.SVGPathSegList.prototype._parsePath=function(t){if(!t||0==t.length)return[];var e=this,n=function(){this.pathSegList=[]};n.prototype.appendSegment=function(t){this.pathSegList.push(t)};var r=function(t){this._string=t,this._currentIndex=0,this._endIndex=this._string.length,this._previousCommand=window.SVGPathSeg.PATHSEG_UNKNOWN,this._skipOptionalSpaces()};r.prototype._isCurrentSpace=function(){var t=this._string[this._currentIndex];return t<=" "&&(" "==t||"\n"==t||"\t"==t||"\r"==t||"\f"==t)},r.prototype._skipOptionalSpaces=function(){for(;this._currentIndex<this._endIndex&&this._isCurrentSpace();)this._currentIndex++;return this._currentIndex<this._endIndex},r.prototype._skipOptionalSpacesOrDelimiter=function(){return!(this._currentIndex<this._endIndex&&!this._isCurrentSpace()&&","!=this._string.charAt(this._currentIndex))&&(this._skipOptionalSpaces()&&this._currentIndex<this._endIndex&&","==this._string.charAt(this._currentIndex)&&(this._currentIndex++,this._skipOptionalSpaces()),this._currentIndex<this._endIndex)},r.prototype.hasMoreData=function(){return this._currentIndex<this._endIndex},r.prototype.peekSegmentType=function(){var t=this._string[this._currentIndex];return this._pathSegTypeFromChar(t)},r.prototype._pathSegTypeFromChar=function(t){switch(t){case"Z":case"z":return window.SVGPathSeg.PATHSEG_CLOSEPATH;case"M":return window.SVGPathSeg.PATHSEG_MOVETO_ABS;case"m":return window.SVGPathSeg.PATHSEG_MOVETO_REL;case"L":return window.SVGPathSeg.PATHSEG_LINETO_ABS;case"l":return window.SVGPathSeg.PATHSEG_LINETO_REL;case"C":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS;case"c":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL;case"Q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS;case"q":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL;case"A":return window.SVGPathSeg.PATHSEG_ARC_ABS;case"a":return window.SVGPathSeg.PATHSEG_ARC_REL;case"H":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS;case"h":return window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL;case"V":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS;case"v":return window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL;case"S":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS;case"s":return window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL;case"T":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS;case"t":return window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL;default:return window.SVGPathSeg.PATHSEG_UNKNOWN}},r.prototype._nextCommandHelper=function(t,e){return("+"==t||"-"==t||"."==t||t>="0"&&t<="9")&&e!=window.SVGPathSeg.PATHSEG_CLOSEPATH?e==window.SVGPathSeg.PATHSEG_MOVETO_ABS?window.SVGPathSeg.PATHSEG_LINETO_ABS:e==window.SVGPathSeg.PATHSEG_MOVETO_REL?window.SVGPathSeg.PATHSEG_LINETO_REL:e:window.SVGPathSeg.PATHSEG_UNKNOWN},r.prototype.initialCommandIsMoveTo=function(){if(!this.hasMoreData())return!0;var t=this.peekSegmentType();return t==window.SVGPathSeg.PATHSEG_MOVETO_ABS||t==window.SVGPathSeg.PATHSEG_MOVETO_REL},r.prototype._parseNumber=function(){var t=0,e=0,n=1,r=0,o=1,c=1,d=this._currentIndex;if(this._skipOptionalSpaces(),this._currentIndex<this._endIndex&&"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:this._currentIndex<this._endIndex&&"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,o=-1),!(this._currentIndex==this._endIndex||(this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")&&"."!=this._string.charAt(this._currentIndex))){for(var l=this._currentIndex;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)this._currentIndex++;if(this._currentIndex!=l)for(var h=this._currentIndex-1,f=1;h>=l;)e+=f*(this._string.charAt(h--)-"0"),f*=10;if(this._currentIndex<this._endIndex&&"."==this._string.charAt(this._currentIndex)){if(this._currentIndex++,this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)n*=10,r+=(this._string.charAt(this._currentIndex)-"0")/n,this._currentIndex+=1}if(this._currentIndex!=d&&this._currentIndex+1<this._endIndex&&("e"==this._string.charAt(this._currentIndex)||"E"==this._string.charAt(this._currentIndex))&&"x"!=this._string.charAt(this._currentIndex+1)&&"m"!=this._string.charAt(this._currentIndex+1)){if(this._currentIndex++,"+"==this._string.charAt(this._currentIndex)?this._currentIndex++:"-"==this._string.charAt(this._currentIndex)&&(this._currentIndex++,c=-1),this._currentIndex>=this._endIndex||this._string.charAt(this._currentIndex)<"0"||this._string.charAt(this._currentIndex)>"9")return;for(;this._currentIndex<this._endIndex&&this._string.charAt(this._currentIndex)>="0"&&this._string.charAt(this._currentIndex)<="9";)t*=10,t+=this._string.charAt(this._currentIndex)-"0",this._currentIndex++}var _=e+r;if(_*=o,t&&(_*=Math.pow(10,c*t)),d!=this._currentIndex)return this._skipOptionalSpacesOrDelimiter(),_}},r.prototype._parseArcFlag=function(){if(!(this._currentIndex>=this._endIndex)){var t=!1,e=this._string.charAt(this._currentIndex++);if("0"==e)t=!1;else{if("1"!=e)return;t=!0}return this._skipOptionalSpacesOrDelimiter(),t}},r.prototype.parseSegment=function(){var t=this._string[this._currentIndex],n=this._pathSegTypeFromChar(t);if(n==window.SVGPathSeg.PATHSEG_UNKNOWN){if(this._previousCommand==window.SVGPathSeg.PATHSEG_UNKNOWN)return null;if((n=this._nextCommandHelper(t,this._previousCommand))==window.SVGPathSeg.PATHSEG_UNKNOWN)return null}else this._currentIndex++;switch(this._previousCommand=n,n){case window.SVGPathSeg.PATHSEG_MOVETO_REL:return new window.SVGPathSegMovetoRel(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_MOVETO_ABS:return new window.SVGPathSegMovetoAbs(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_REL:return new window.SVGPathSegLinetoRel(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_ABS:return new window.SVGPathSegLinetoAbs(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_REL:return new window.SVGPathSegLinetoHorizontalRel(e,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_HORIZONTAL_ABS:return new window.SVGPathSegLinetoHorizontalAbs(e,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_REL:return new window.SVGPathSegLinetoVerticalRel(e,this._parseNumber());case window.SVGPathSeg.PATHSEG_LINETO_VERTICAL_ABS:return new window.SVGPathSegLinetoVerticalAbs(e,this._parseNumber());case window.SVGPathSeg.PATHSEG_CLOSEPATH:return this._skipOptionalSpaces(),new window.SVGPathSegClosePath(e);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_REL:var r={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()};return new window.SVGPathSegCurvetoCubicRel(e,r.x,r.y,r.x1,r.y1,r.x2,r.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_ABS:return r={x1:this._parseNumber(),y1:this._parseNumber(),x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicAbs(e,r.x,r.y,r.x1,r.y1,r.x2,r.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_REL:return r={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicSmoothRel(e,r.x,r.y,r.x2,r.y2);case window.SVGPathSeg.PATHSEG_CURVETO_CUBIC_SMOOTH_ABS:return r={x2:this._parseNumber(),y2:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoCubicSmoothAbs(e,r.x,r.y,r.x2,r.y2);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_REL:return r={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoQuadraticRel(e,r.x,r.y,r.x1,r.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_ABS:return r={x1:this._parseNumber(),y1:this._parseNumber(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegCurvetoQuadraticAbs(e,r.x,r.y,r.x1,r.y1);case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_REL:return new window.SVGPathSegCurvetoQuadraticSmoothRel(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_CURVETO_QUADRATIC_SMOOTH_ABS:return new window.SVGPathSegCurvetoQuadraticSmoothAbs(e,this._parseNumber(),this._parseNumber());case window.SVGPathSeg.PATHSEG_ARC_REL:return r={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegArcRel(e,r.x,r.y,r.x1,r.y1,r.arcAngle,r.arcLarge,r.arcSweep);case window.SVGPathSeg.PATHSEG_ARC_ABS:return r={x1:this._parseNumber(),y1:this._parseNumber(),arcAngle:this._parseNumber(),arcLarge:this._parseArcFlag(),arcSweep:this._parseArcFlag(),x:this._parseNumber(),y:this._parseNumber()},new window.SVGPathSegArcAbs(e,r.x,r.y,r.x1,r.y1,r.arcAngle,r.arcLarge,r.arcSweep);default:throw"Unknown path seg type."}};var o=new n,source=new r(t);if(!source.initialCommandIsMoveTo())return[];for(;source.hasMoreData();){var c=source.parseSegment();if(!c)return[];o.appendSegment(c)}return o.pathSegList}),String.prototype.padEnd||(String.prototype.padEnd=function(t,e){return t>>=0,e=String(void 0!==e?e:" "),this.length>t?String(this):((t-=this.length)>e.length&&(e+=e.repeat(t/e.length)),String(this)+e.slice(0,t))}),"function"!=typeof Object.assign&&Object.defineProperty(Object,"assign",{value:function(t,e){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),r=1;r<arguments.length;r++){var o=arguments[r];if(null!=o)for(var c in o)Object.prototype.hasOwnProperty.call(o,c)&&(n[c]=o[c])}return n},writable:!0,configurable:!0}),e.prototype.axis=function(){},e.prototype.axis.labels=function(t){var e=this.internal;arguments.length&&(Object.keys(t).forEach((function(n){e.axis.setLabelText(n,t[n])})),e.axis.updateLabels())},e.prototype.axis.max=function(t){var e=this.internal,n=e.config;if(!arguments.length)return{x:n.axis_x_max,y:n.axis_y_max,y2:n.axis_y2_max};"object"==typeof t?(T(t.x)&&(n.axis_x_max=t.x),T(t.y)&&(n.axis_y_max=t.y),T(t.y2)&&(n.axis_y2_max=t.y2)):n.axis_y_max=n.axis_y2_max=t,e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})},e.prototype.axis.min=function(t){var e=this.internal,n=e.config;if(!arguments.length)return{x:n.axis_x_min,y:n.axis_y_min,y2:n.axis_y2_min};"object"==typeof t?(T(t.x)&&(n.axis_x_min=t.x),T(t.y)&&(n.axis_y_min=t.y),T(t.y2)&&(n.axis_y2_min=t.y2)):n.axis_y_min=n.axis_y2_min=t,e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})},e.prototype.axis.range=function(t){if(!arguments.length)return{max:this.axis.max(),min:this.axis.min()};x(t.max)&&this.axis.max(t.max),x(t.min)&&this.axis.min(t.min)},e.prototype.axis.types=function(t){var e=this.internal;if(void 0===t)return{y:e.config.axis_y_type,y2:e.config.axis_y2_type};x(t.y)&&(e.config.axis_y_type=t.y),x(t.y2)&&(e.config.axis_y2_type=t.y2),e.updateScales(),e.redraw()},e.prototype.category=function(i,t){var e=this.internal,n=e.config;return arguments.length>1&&(n.axis_x_categories[i]=t,e.redraw()),n.axis_x_categories[i]},e.prototype.categories=function(t){var e=this.internal,n=e.config;return arguments.length?(n.axis_x_categories=t,e.redraw(),n.axis_x_categories):n.axis_x_categories},e.prototype.resize=function(t){var e=this.internal.config;e.size_width=t?t.width:null,e.size_height=t?t.height:null,this.flush()},e.prototype.flush=function(){this.internal.updateAndRedraw({withLegend:!0,withTransition:!1,withTransitionForTransform:!1})},e.prototype.destroy=function(){var t=this.internal;return window.clearInterval(t.intervalForObserveInserted),void 0!==t.resizeTimeout&&window.clearTimeout(t.resizeTimeout),window.removeEventListener("resize",t.resizeIfElementDisplayed),t.resizeFunction.remove(),t.unbindWindowFocus(),t.selectChart.classed("c3",!1).html(""),Object.keys(t).forEach((function(e){t[e]=null})),null},e.prototype.color=function(t){return this.internal.color(t)},e.prototype.data=function(t){var e=this.internal.data.targets;return void 0===t?e:e.filter((function(e){return[].concat(t).indexOf(e.id)>=0}))},e.prototype.data.shown=function(t){return this.internal.filterTargetsToShow(this.data(t))},e.prototype.data.values=function(t,e){void 0===e&&(e=!0);var n=null;if(t){var r=this.data(t);r&&_(r)&&(n=r.reduce((function(t,n){var r=n.values.map((function(t){return t.value}));return e?t=t.concat(r):t.push(r),t}),[]))}return n},e.prototype.data.names=function(t){return this.internal.clearLegendItemTextBoxCache(),this.internal.updateDataAttributes("names",t)},e.prototype.data.colors=function(t){return this.internal.updateDataAttributes("colors",t)},e.prototype.data.axes=function(t){return this.internal.updateDataAttributes("axes",t)},e.prototype.data.stackNormalized=function(t){if(void 0===t)return this.internal.isStackNormalized();this.internal.config.data_stack_normalize=!!t,this.internal.redraw()},e.prototype.donut=function(){},e.prototype.donut.padAngle=function(t){if(void 0===t)return this.internal.config.donut_padAngle;this.internal.config.donut_padAngle=t,this.flush()},e.prototype.flow=function(t){var e,data,n,r,o,c,d,l=this.internal,h=[],f=l.getMaxDataCount(),_=0,y=0;if(t.json)data=l.convertJsonToData(t.json,t.keys);else if(t.rows)data=l.convertRowsToData(t.rows);else{if(!t.columns)return;data=l.convertColumnsToData(t.columns)}e=l.convertDataToTargets(data,!0),l.data.targets.forEach((function(t){var i,n,r=!1;for(i=0;i<e.length;i++)if(t.id===e[i].id){for(r=!0,t.values[t.values.length-1]&&(y=t.values[t.values.length-1].index+1),_=e[i].values.length,n=0;n<_;n++)e[i].values[n].index=y+n,l.isTimeSeries()||(e[i].values[n].x=y+n);t.values=t.values.concat(e[i].values),e.splice(i,1);break}r||h.push(t.id)})),l.data.targets.forEach((function(t){var i,e;for(i=0;i<h.length;i++)if(t.id===h[i])for(y=t.values[t.values.length-1].index+1,e=0;e<_;e++)t.values.push({id:t.id,index:y+e,x:l.isTimeSeries()?l.getOtherTargetX(y+e):y+e,value:null})})),l.data.targets.length&&e.forEach((function(t){var i,e=[];for(i=l.data.targets[0].values[0].index;i<y;i++)e.push({id:t.id,index:i,x:l.isTimeSeries()?l.getOtherTargetX(i):i,value:null});t.values.forEach((function(t){t.index+=y,l.isTimeSeries()||(t.x+=y)})),t.values=e.concat(t.values)})),l.data.targets=l.data.targets.concat(e),l.getMaxDataCount(),o=(r=l.data.targets[0]).values[0],x(t.to)?(_=0,d=l.isTimeSeries()?l.parseDate(t.to):t.to,r.values.forEach((function(t){t.x<d&&_++}))):x(t.length)&&(_=t.length),f?1===f&&l.isTimeSeries()&&(c=(r.values[r.values.length-1].x-o.x)/2,n=[new Date(+o.x-c),new Date(+o.x+c)],l.updateXDomain(null,!0,!0,!1,n)):(c=l.isTimeSeries()?r.values.length>1?r.values[r.values.length-1].x-o.x:o.x-l.getXDomain(l.data.targets)[0]:1,n=[o.x-c,o.x],l.updateXDomain(null,!0,!0,!1,n)),l.updateTargets(l.data.targets),l.redraw({flow:{index:o.index,length:_,duration:T(t.duration)?t.duration:l.config.transition_duration,done:t.done,orgDataCount:f},withLegend:!0,withTransition:f>1,withTrimXDomain:!1,withUpdateXAxis:!0})},t.prototype.generateFlow=function(t){var e=this,n=e.config,r=e.d3;return function(){var o,d,l,h,f,_,x,y,m,S,w,v=t.targets,T=t.flow,A=t.drawBar,P=t.drawLine,C=t.drawArea,L=t.cx,V=t.cy,G=t.xv,E=t.xForText,I=t.yForText,R=t.duration,k=T.index,D=T.length,F=e.getValueOnIndex(e.data.targets[0].values,k),X=e.getValueOnIndex(e.data.targets[0].values,k+D),M=e.x.domain(),z=T.duration||R,H=T.done||function(){},N=e.generateWait();e.flowing=!0,e.data.targets.forEach((function(t){t.values.splice(0,D)})),l=e.updateXDomain(v,!0,!0),e.updateXGrid&&e.updateXGrid(!0),h=e.xgrid||r.selectAll([]),f=e.xgridLines||r.selectAll([]),_=e.mainRegion||r.selectAll([]),x=e.mainText||r.selectAll([]),y=e.mainBar||r.selectAll([]),m=e.mainLine||r.selectAll([]),S=e.mainArea||r.selectAll([]),w=e.mainCircle||r.selectAll([]),T.orgDataCount?o=1===T.orgDataCount||(F&&F.x)===(X&&X.x)||e.isTimeSeries()?e.x(M[0])-e.x(l[0]):e.x(F.x)-e.x(X.x):1!==e.data.targets[0].values.length?o=e.x(M[0])-e.x(l[0]):e.isTimeSeries()?(F=e.getValueOnIndex(e.data.targets[0].values,0),X=e.getValueOnIndex(e.data.targets[0].values,e.data.targets[0].values.length-1),o=e.x(F.x)-e.x(X.x)):o=c(l)/2,d="translate("+o+",0) scale("+c(M)/c(l)+",1)",e.hideXGridFocus();var B=r.transition().ease(r.easeLinear).duration(z);N.add(e.xAxis(e.axes.x,B)),N.add(y.transition(B).attr("transform",d)),N.add(m.transition(B).attr("transform",d)),N.add(S.transition(B).attr("transform",d)),N.add(w.transition(B).attr("transform",d)),N.add(x.transition(B).attr("transform",d)),N.add(_.filter(e.isRegionOnX).transition(B).attr("transform",d)),N.add(h.transition(B).attr("transform",d)),N.add(f.transition(B).attr("transform",d)),N((function(){var i,t=[],r=[];if(D){for(i=0;i<D;i++)t.push("."+O.shape+"-"+(k+i)),r.push("."+O.text+"-"+(k+i));e.svg.selectAll("."+O.shapes).selectAll(t).remove(),e.svg.selectAll("."+O.texts).selectAll(r).remove(),e.svg.select("."+O.xgrid).remove()}h.attr("transform",null).attr("x1",e.xgridAttr.x1).attr("x2",e.xgridAttr.x2).attr("y1",e.xgridAttr.y1).attr("y2",e.xgridAttr.y2).style("opacity",e.xgridAttr.opacity),f.attr("transform",null),f.select("line").attr("x1",n.axis_rotated?0:G).attr("x2",n.axis_rotated?e.width:G),f.select("text").attr("x",n.axis_rotated?e.width:0).attr("y",G),y.attr("transform",null).attr("d",A),m.attr("transform",null).attr("d",P),S.attr("transform",null).attr("d",C),w.attr("transform",null).attr("cx",L).attr("cy",V),x.attr("transform",null).attr("x",E).attr("y",I).style("fill-opacity",e.opacityForText.bind(e)),_.attr("transform",null),_.filter(e.isRegionOnX).attr("x",e.regionX.bind(e)).attr("width",e.regionWidth.bind(e)),H(),e.flowing=!1}))}},e.prototype.focus=function(t){var e,n=this.internal;t=n.mapToTargetIds(t),e=n.svg.selectAll(n.selectorTargets(t.filter(n.isTargetToShow,n))),this.revert(),this.defocus(),e.classed(O.focused,!0).classed(O.defocused,!1),n.hasArcType()&&n.expandArc(t),n.toggleFocusLegend(t,!0),n.focusedTargetIds=t,n.defocusedTargetIds=n.defocusedTargetIds.filter((function(e){return t.indexOf(e)<0}))},e.prototype.defocus=function(t){var e=this.internal;t=e.mapToTargetIds(t),e.svg.selectAll(e.selectorTargets(t.filter(e.isTargetToShow,e))).classed(O.focused,!1).classed(O.defocused,!0),e.hasArcType()&&e.unexpandArc(t),e.toggleFocusLegend(t,!1),e.focusedTargetIds=e.focusedTargetIds.filter((function(e){return t.indexOf(e)<0})),e.defocusedTargetIds=t},e.prototype.revert=function(t){var e=this.internal;t=e.mapToTargetIds(t),e.svg.selectAll(e.selectorTargets(t)).classed(O.focused,!1).classed(O.defocused,!1),e.hasArcType()&&e.unexpandArc(t),e.config.legend_show&&(e.showLegend(t.filter(e.isLegendToShow.bind(e))),e.legend.selectAll(e.selectorLegends(t)).filter((function(){return e.d3.select(this).classed(O.legendItemFocused)})).classed(O.legendItemFocused,!1)),e.focusedTargetIds=[],e.defocusedTargetIds=[]},e.prototype.xgrids=function(t){var e=this.internal,n=e.config;return t?(n.grid_x_lines=t,e.redrawWithoutRescale(),n.grid_x_lines):n.grid_x_lines},e.prototype.xgrids.add=function(t){var e=this.internal;return this.xgrids(e.config.grid_x_lines.concat(t||[]))},e.prototype.xgrids.remove=function(t){this.internal.removeGridLines(t,!0)},e.prototype.ygrids=function(t){var e=this.internal,n=e.config;return t?(n.grid_y_lines=t,e.redrawWithoutRescale(),n.grid_y_lines):n.grid_y_lines},e.prototype.ygrids.add=function(t){var e=this.internal;return this.ygrids(e.config.grid_y_lines.concat(t||[]))},e.prototype.ygrids.remove=function(t){this.internal.removeGridLines(t,!1)},e.prototype.groups=function(t){var e=this.internal,n=e.config;return v(t)||(n.data_groups=t,e.redraw()),n.data_groups},e.prototype.legend=function(){},e.prototype.legend.show=function(t){var e=this.internal;e.showLegend(e.mapToTargetIds(t)),e.updateAndRedraw({withLegend:!0})},e.prototype.legend.hide=function(t){var e=this.internal;e.hideLegend(e.mapToTargetIds(t)),e.updateAndRedraw({withLegend:!1})},e.prototype.load=function(t){var n=this.internal,r=n.config;t.xs&&n.addXs(t.xs),"names"in t&&e.prototype.data.names.bind(this)(t.names),"classes"in t&&Object.keys(t.classes).forEach((function(e){r.data_classes[e]=t.classes[e]})),"categories"in t&&n.isCategorized()&&(r.axis_x_categories=t.categories),"axes"in t&&Object.keys(t.axes).forEach((function(e){r.data_axes[e]=t.axes[e]})),"colors"in t&&Object.keys(t.colors).forEach((function(e){r.data_colors[e]=t.colors[e]})),"cacheIds"in t&&n.hasCaches(t.cacheIds)?n.load(n.getCaches(t.cacheIds),t.done):t.unload?n.unload(n.mapToTargetIds(!0===t.unload?null:t.unload),(function(){n.loadFromArgs(t)})):n.loadFromArgs(t)},e.prototype.unload=function(t){var e=this.internal;(t=t||{})instanceof Array?t={ids:t}:"string"==typeof t&&(t={ids:[t]}),e.unload(e.mapToTargetIds(t.ids),(function(){e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),t.done&&t.done()}))},e.prototype.pie=function(){},e.prototype.pie.padAngle=function(t){if(void 0===t)return this.internal.config.pie_padAngle;this.internal.config.pie_padAngle=t,this.flush()},e.prototype.regions=function(t){var e=this.internal,n=e.config;return t?(n.regions=t,e.redrawWithoutRescale(),n.regions):n.regions},e.prototype.regions.add=function(t){var e=this.internal,n=e.config;return t?(n.regions=n.regions.concat(t),e.redrawWithoutRescale(),n.regions):n.regions},e.prototype.regions.remove=function(t){var e,n,r,o=this.internal,c=o.config;return e=d(t=t||{},"duration",c.transition_duration),n=d(t,"classes",[O.region]),r=o.main.select("."+O.regions).selectAll(n.map((function(t){return"."+t}))),(e?r.transition().duration(e):r).style("opacity",0).remove(),c.regions=c.regions.filter((function(t){var e=!1;return!t.class||(t.class.split(" ").forEach((function(t){n.indexOf(t)>=0&&(e=!0)})),!e)})),c.regions},e.prototype.selected=function(t){var e=this.internal,n=e.d3;return e.main.selectAll("."+O.shapes+e.getTargetSelectorSuffix(t)).selectAll("."+O.shape).filter((function(){return n.select(this).classed(O.SELECTED)})).nodes().map((function(t){var data=t.__data__;return data.data?data.data:data}))},e.prototype.select=function(t,e,n){var r=this.internal,o=r.d3,c=r.config;c.data_selection_enabled&&r.main.selectAll("."+O.shapes).selectAll("."+O.shape).each((function(d,i){var l=o.select(this),h=d.data?d.data.id:d.id,f=r.getToggle(this,d).bind(r),_=c.data_selection_grouped||!t||t.indexOf(h)>=0,y=!e||e.indexOf(i)>=0,m=l.classed(O.SELECTED);l.classed(O.line)||l.classed(O.area)||(_&&y?c.data_selection_isselectable(d)&&!m&&f(!0,l.classed(O.SELECTED,!0),d,i):x(n)&&n&&m&&f(!1,l.classed(O.SELECTED,!1),d,i))}))},e.prototype.unselect=function(t,e){var n=this.internal,r=n.d3,o=n.config;o.data_selection_enabled&&n.main.selectAll("."+O.shapes).selectAll("."+O.shape).each((function(c,i){var d=r.select(this),l=c.data?c.data.id:c.id,h=n.getToggle(this,c).bind(n),f=o.data_selection_grouped||!t||t.indexOf(l)>=0,_=!e||e.indexOf(i)>=0,x=d.classed(O.SELECTED);d.classed(O.line)||d.classed(O.area)||f&&_&&o.data_selection_isselectable(c)&&x&&h(!1,d.classed(O.SELECTED,!1),c,i)}))},e.prototype.show=function(t,e){var n,r=this.internal;t=r.mapToTargetIds(t),e=e||{},r.removeHiddenTargetIds(t),(n=r.svg.selectAll(r.selectorTargets(t))).transition().style("display",G()?"block":"initial","important").style("opacity",1,"important").call(r.endall,(function(){n.style("opacity",null).style("opacity",1)})),e.withLegend&&r.showLegend(t),r.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},e.prototype.hide=function(t,e){var n,r=this.internal;t=r.mapToTargetIds(t),e=e||{},r.addHiddenTargetIds(t),(n=r.svg.selectAll(r.selectorTargets(t))).transition().style("opacity",0,"important").call(r.endall,(function(){n.style("opacity",null).style("opacity",0),n.style("display","none")})),e.withLegend&&r.hideLegend(t),r.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0})},e.prototype.toggle=function(t,e){var n=this,r=this.internal;r.mapToTargetIds(t).forEach((function(t){r.isTargetToShow(t)?n.hide(t,e):n.show(t,e)}))},e.prototype.subchart=function(){},e.prototype.subchart.isShown=function(){return this.internal.config.subchart_show},e.prototype.subchart.show=function(){var t=this.internal;t.config.subchart_show||(t.config.subchart_show=!0,t.initSubchart(),t.updateDimension(),t.initSubchartBrush(),t.updateTargetsForSubchart(t.getTargets()),t.mapToIds(t.data.targets).forEach((function(e){t.withoutFadeIn[e]=!1})),t.updateAndRedraw(),t.showTargets())},e.prototype.subchart.hide=function(){var t=this.internal;t.config.subchart_show&&(t.config.subchart_show=!1,t.removeSubchart(),t.redraw())},e.prototype.tooltip=function(){},e.prototype.tooltip.show=function(t){var e,data,n=this.internal,r={};t.mouse?r=t.mouse:(t.data?data=t.data:void 0!==t.x&&(e=t.id?n.data.targets.filter((function(e){return e.id===t.id})):n.data.targets,data=n.filterByX(e,t.x).slice(0,1)[0]),r=data?n.getMousePosition(data):null),n.dispatchEvent("mousemove",r),n.config.tooltip_onshow.call(n,data)},e.prototype.tooltip.hide=function(){this.internal.dispatchEvent("mouseout",0),this.internal.config.tooltip_onhide.call(this)},e.prototype.transform=function(t,e){var n=this.internal,r=["pie","donut"].indexOf(t)>=0?{withTransform:!0}:null;n.transformTo(e,t,r)},t.prototype.transformTo=function(t,e,n){var r=this,o=!r.hasArcType(),c=n||{withTransitionForAxis:o};c.withTransitionForTransform=!1,r.transiting=!1,r.setTargetType(t,e),r.updateTargets(r.data.targets),r.updateAndRedraw(c)},e.prototype.x=function(t){var e=this.internal;return arguments.length&&(e.updateTargetX(e.data.targets,t),e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),e.data.xs},e.prototype.xs=function(t){var e=this.internal;return arguments.length&&(e.updateTargetXs(e.data.targets,t),e.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0})),e.data.xs},e.prototype.zoom=function(t){var e=this.internal;return t?(e.isTimeSeries()&&(t=t.map((function(t){return e.parseDate(t)}))),e.config.subchart_show?e.brush.selectionAsValue(t,!0):(e.updateXDomain(null,!0,!1,!1,t),e.redraw({withY:e.config.zoom_rescale,withSubchart:!1})),e.config.zoom_onzoom.call(this,e.x.orgDomain()),t):e.x.domain()},e.prototype.zoom.enable=function(t){var e=this.internal;e.config.zoom_enabled=t,e.updateAndRedraw()},e.prototype.unzoom=function(){var t=this.internal;t.config.subchart_show?t.brush.clear():(t.updateXDomain(null,!0,!1,!1,t.subX.domain()),t.redraw({withY:t.config.zoom_rescale,withSubchart:!1}))},e.prototype.zoom.max=function(t){var e=this.internal,n=e.config,r=e.d3;if(0!==t&&!t)return n.zoom_x_max;n.zoom_x_max=r.max([e.orgXDomain[1],t])},e.prototype.zoom.min=function(t){var e=this.internal,n=e.config,r=e.d3;if(0!==t&&!t)return n.zoom_x_min;n.zoom_x_min=r.min([e.orgXDomain[0],t])},e.prototype.zoom.range=function(t){if(!arguments.length)return{max:this.domain.max(),min:this.domain.min()};x(t.max)&&this.domain.max(t.max),x(t.min)&&this.domain.min(t.min)},t.prototype.initPie=function(){var t=this,e=t.d3;t.pie=e.pie().padAngle(this.getPadAngle.bind(this)).value((function(t){return t.values.reduce((function(a,b){return a+b.value}),0)}));var n=t.getOrderFunction();if(n&&(t.isOrderAsc()||t.isOrderDesc())){var r=n;n=function(t,e){return-1*r(t,e)}}t.pie.sort(n||null)},t.prototype.updateRadius=function(){var t=this,e=t.config,n=e.gauge_width||e.donut_width,r=t.filterTargetsToShow(t.data.targets).length*t.config.gauge_arcs_minWidth;t.radiusExpanded=Math.min(t.arcWidth,t.arcHeight)/2*(t.hasType("gauge")?.85:1),t.radius=.95*t.radiusExpanded,t.innerRadiusRatio=n?(t.radius-n)/t.radius:.6,t.innerRadius=t.hasType("donut")||t.hasType("gauge")?t.radius*t.innerRadiusRatio:0,t.gaugeArcWidth=n||(r<=t.radius-t.innerRadius?t.radius-t.innerRadius:r<=t.radius?r:t.radius)},t.prototype.getPadAngle=function(){return this.hasType("pie")?this.config.pie_padAngle||0:this.hasType("donut")&&this.config.donut_padAngle||0},t.prototype.updateArc=function(){var t=this;t.svgArc=t.getSvgArc(),t.svgArcExpanded=t.getSvgArcExpanded(),t.svgArcExpandedSub=t.getSvgArcExpanded(.98)},t.prototype.updateAngle=function(t){var e,n,r,o,c=this,d=c.config,l=!1,h=0;return d?(c.pie(c.filterTargetsToShow(c.data.targets)).forEach((function(e){l||e.data.id!==t.data.id||(l=!0,(t=e).index=h),h++})),isNaN(t.startAngle)&&(t.startAngle=0),isNaN(t.endAngle)&&(t.endAngle=t.startAngle),c.isGaugeType(t.data)&&(e=d.gauge_min,n=d.gauge_max,r=Math.PI*(d.gauge_fullCircle?2:1)/(n-e),o=t.value<e?0:t.value<n?t.value-e:n-e,t.startAngle=d.gauge_startingAngle,t.endAngle=t.startAngle+r*o),l?t:null):null},t.prototype.getSvgArc=function(){var t=this,e=t.hasType("gauge"),n=t.gaugeArcWidth/t.filterTargetsToShow(t.data.targets).length,r=t.d3.arc().outerRadius((function(r){return e?t.radius-n*r.index:t.radius})).innerRadius((function(r){return e?t.radius-n*(r.index+1):t.innerRadius})),o=function(e,n){var o;return n?r(e):(o=t.updateAngle(e))?r(o):"M 0 0"};return o.centroid=r.centroid,o},t.prototype.getSvgArcExpanded=function(t){t=t||1;var e=this,n=e.hasType("gauge"),r=e.gaugeArcWidth/e.filterTargetsToShow(e.data.targets).length,o=Math.min(e.radiusExpanded*t-e.radius,.8*r-100*(1-t)),c=e.d3.arc().outerRadius((function(c){return n?e.radius-r*c.index+o:e.radiusExpanded*t})).innerRadius((function(t){return n?e.radius-r*(t.index+1):e.innerRadius}));return function(t){var n=e.updateAngle(t);return n?c(n):"M 0 0"}},t.prototype.getArc=function(t,e,n){return n||this.isArcType(t.data)?this.svgArc(t,e):"M 0 0"},t.prototype.transformForArcLabel=function(t){var e,n,r,o,c,d=this,l=d.config,h=d.updateAngle(t),f="",_=d.hasType("gauge");if(h&&!_)e=this.svgArc.centroid(h),n=isNaN(e[0])?0:e[0],r=isNaN(e[1])?0:e[1],o=Math.sqrt(n*n+r*r),f="translate("+n*(c=d.hasType("donut")&&l.donut_label_ratio?m(l.donut_label_ratio)?l.donut_label_ratio(t,d.radius,o):l.donut_label_ratio:d.hasType("pie")&&l.pie_label_ratio?m(l.pie_label_ratio)?l.pie_label_ratio(t,d.radius,o):l.pie_label_ratio:d.radius&&o?(36/d.radius>.375?1.175-36/d.radius:.8)*d.radius/o:0)+","+r*c+")";else if(h&&_&&d.filterTargetsToShow(d.data.targets).length>1){var x=Math.sin(h.endAngle-Math.PI/2);f="translate("+(n=Math.cos(h.endAngle-Math.PI/2)*(d.radiusExpanded+25))+","+(r=x*(d.radiusExpanded+15-Math.abs(10*x))+3)+")"}return f},t.prototype.getArcRatio=function(t){return this.getRatio("arc",t)},t.prototype.convertToArcData=function(t){return this.addName({id:t.data.id,value:t.value,ratio:this.getRatio("arc",t),index:t.index})},t.prototype.textForArcLabel=function(t){var e,n,r,o,c,d=this;return d.shouldShowArcLabel()?(n=(e=d.updateAngle(t))?e.value:null,r=d.getRatio("arc",e),o=t.data.id,d.hasType("gauge")||d.meetsArcLabelThreshold(r)?(c=d.getArcLabelFormat())?c(n,r,o):d.defaultArcValueFormat(n,r):""):""},t.prototype.textForGaugeMinMax=function(t,e){var n=this.getGaugeLabelExtents();return n?n(t,e):t},t.prototype.expandArc=function(t){var e,n=this;n.transiting?e=window.setInterval((function(){n.transiting||(window.clearInterval(e),n.legend.selectAll(".c3-legend-item-focused").size()>0&&n.expandArc(t))}),10):(t=n.mapToTargetIds(t),n.svg.selectAll(n.selectorTargets(t,"."+O.chartArc)).each((function(t){n.shouldExpand(t.data.id)&&n.d3.select(this).selectAll("path").transition().duration(n.expandDuration(t.data.id)).attr("d",n.svgArcExpanded).transition().duration(2*n.expandDuration(t.data.id)).attr("d",n.svgArcExpandedSub).each((function(t){n.isDonutType(t.data)}))})))},t.prototype.unexpandArc=function(t){var e=this;e.transiting||(t=e.mapToTargetIds(t),e.svg.selectAll(e.selectorTargets(t,"."+O.chartArc)).selectAll("path").transition().duration((function(t){return e.expandDuration(t.data.id)})).attr("d",e.svgArc),e.svg.selectAll("."+O.arc))},t.prototype.expandDuration=function(t){var e=this,n=e.config;return e.isDonutType(t)?n.donut_expand_duration:e.isGaugeType(t)?n.gauge_expand_duration:e.isPieType(t)?n.pie_expand_duration:50},t.prototype.shouldExpand=function(t){var e=this,n=e.config;return e.isDonutType(t)&&n.donut_expand||e.isGaugeType(t)&&n.gauge_expand||e.isPieType(t)&&n.pie_expand},t.prototype.shouldShowArcLabel=function(){var t=this,e=t.config,n=!0;return t.hasType("donut")?n=e.donut_label_show:t.hasType("pie")&&(n=e.pie_label_show),n},t.prototype.meetsArcLabelThreshold=function(t){var e=this,n=e.config;return t>=(e.hasType("donut")?n.donut_label_threshold:n.pie_label_threshold)},t.prototype.getArcLabelFormat=function(){var t=this,e=t.config,n=e.pie_label_format;return t.hasType("gauge")?n=e.gauge_label_format:t.hasType("donut")&&(n=e.donut_label_format),n},t.prototype.getGaugeLabelExtents=function(){return this.config.gauge_label_extents},t.prototype.getArcTitle=function(){var t=this;return t.hasType("donut")?t.config.donut_title:""},t.prototype.updateTargetsForArc=function(t){var e,n=this,main=n.main,r=n.classChartArc.bind(n),o=n.classArcs.bind(n),c=n.classFocus.bind(n);(e=main.select("."+O.chartArcs).selectAll("."+O.chartArc).data(n.pie(t)).attr("class",(function(t){return r(t)+c(t.data)})).enter().append("g").attr("class",r)).append("g").attr("class",o),e.append("text").attr("dy",n.hasType("gauge")?"-.1em":".35em").style("opacity",0).style("text-anchor","middle").style("pointer-events","none")},t.prototype.initArc=function(){var t=this;t.arcs=t.main.select("."+O.chart).append("g").attr("class",O.chartArcs).attr("transform",t.getTranslate("arc")),t.arcs.append("text").attr("class",O.chartArcsTitle).style("text-anchor","middle").text(t.getArcTitle())},t.prototype.redrawArc=function(t,e,n){var r,o,c,d,l=this,h=l.d3,f=l.config,main=l.main,_=l.hasType("gauge");if(o=(r=main.selectAll("."+O.arcs).selectAll("."+O.arc).data(l.arcData.bind(l))).enter().append("path").attr("class",l.classArc.bind(l)).style("fill",(function(t){return l.color(t.data)})).style("cursor",(function(t){return f.interaction_enabled&&f.data_selection_isselectable(t)?"pointer":null})).each((function(t){l.isGaugeType(t.data)&&(t.startAngle=t.endAngle=f.gauge_startingAngle),this._current=t})).merge(r),_&&(d=(c=main.selectAll("."+O.arcs).selectAll("."+O.arcLabelLine).data(l.arcData.bind(l))).enter().append("rect").attr("class",(function(t){return O.arcLabelLine+" "+O.target+" "+O.target+"-"+t.data.id})).merge(c),1===l.filterTargetsToShow(l.data.targets).length?d.style("display","none"):d.style("fill",(function(t){return l.levelColor?l.levelColor(t.data.values.reduce((function(t,e){return t+e.value}),0)):l.color(t.data)})).style("display",f.gauge_labelLine_show?"":"none").each((function(t){var e=0,n=2,r=0,o=0,c="";if(l.hiddenTargetIds.indexOf(t.data.id)<0){var d=l.updateAngle(t),f=l.gaugeArcWidth/l.filterTargetsToShow(l.data.targets).length*(d.index+1),_=d.endAngle-Math.PI/2,x=l.radius-f,y=_-(0===x?0:1/x);e=l.radiusExpanded-l.radius+f,r=Math.cos(y)*x,o=Math.sin(y)*x,c="rotate("+180*_/Math.PI+", "+r+", "+o+")"}h.select(this).attr("x",r).attr("y",o).attr("width",e).attr("height",n).attr("transform",c).style("stroke-dasharray","0, "+(e+n)+", 0")}))),o.attr("transform",(function(t){return!l.isGaugeType(t.data)&&n?"scale(0)":""})).on("mouseover",f.interaction_enabled?function(t){var e,n;l.transiting||(e=l.updateAngle(t))&&(n=l.convertToArcData(e),l.expandArc(e.data.id),l.api.focus(e.data.id),l.toggleFocusLegend(e.data.id,!0),l.config.data_onmouseover(n,this))}:null).on("mousemove",f.interaction_enabled?function(t){var e,n=l.updateAngle(t);n&&(e=[l.convertToArcData(n)],l.showTooltip(e,this))}:null).on("mouseout",f.interaction_enabled?function(t){var e,n;l.transiting||(e=l.updateAngle(t))&&(n=l.convertToArcData(e),l.unexpandArc(e.data.id),l.api.revert(),l.revertLegend(),l.hideTooltip(),l.config.data_onmouseout(n,this))}:null).on("click",f.interaction_enabled?function(t,i){var e,n=l.updateAngle(t);n&&(e=l.convertToArcData(n),l.toggleShape&&l.toggleShape(this,e,i),l.config.data_onclick.call(l.api,e,this))}:null).each((function(){l.transiting=!0})).transition().duration(t).attrTween("d",(function(t){var e,n=l.updateAngle(t);return n?(isNaN(this._current.startAngle)&&(this._current.startAngle=0),isNaN(this._current.endAngle)&&(this._current.endAngle=this._current.startAngle),e=h.interpolate(this._current,n),this._current=e(0),function(n){if(null===l.config)return"M 0 0";var r=e(n);return r.data=t.data,l.getArc(r,!0)}):function(){return"M 0 0"}})).attr("transform",n?"scale(1)":"").style("fill",(function(t){return l.levelColor?l.levelColor(t.data.values.reduce((function(t,e){return t+e.value}),0)):l.color(t.data.id)})).call(l.endall,(function(){l.transiting=!1})),r.exit().transition().duration(e).style("opacity",0).remove(),main.selectAll("."+O.chartArc).select("text").style("opacity",0).attr("class",(function(t){return l.isGaugeType(t.data)?O.gaugeValue:""})).text(l.textForArcLabel.bind(l)).attr("transform",l.transformForArcLabel.bind(l)).style("font-size",(function(t){return l.isGaugeType(t.data)&&1===l.filterTargetsToShow(l.data.targets).length?Math.round(l.radius/5)+"px":""})).transition().duration(t).style("opacity",(function(t){return l.isTargetToShow(t.data.id)&&l.isArcType(t.data)?1:0})),main.select("."+O.chartArcsTitle).style("opacity",l.hasType("donut")||_?1:0),_){var x=0,y=l.arcs.select("g."+O.chartArcsBackground).selectAll("path."+O.chartArcsBackground).data(l.data.targets);y.enter().append("path").attr("class",(function(t,i){return O.chartArcsBackground+" "+O.chartArcsBackground+"-"+i})).merge(y).attr("d",(function(t){if(l.hiddenTargetIds.indexOf(t.id)>=0)return"M 0 0";var e={data:[{value:f.gauge_max}],startAngle:f.gauge_startingAngle,endAngle:-1*f.gauge_startingAngle*(f.gauge_fullCircle?Math.PI:1),index:x++};return l.getArc(e,!0,!0)})),y.exit().remove(),l.arcs.select("."+O.chartArcsGaugeUnit).attr("dy",".75em").text(f.gauge_label_show?f.gauge_units:""),l.arcs.select("."+O.chartArcsGaugeMin).attr("dx",-1*(l.innerRadius+(l.radius-l.innerRadius)/(f.gauge_fullCircle?1:2))+"px").attr("dy","1.2em").text(f.gauge_label_show?l.textForGaugeMinMax(f.gauge_min,!1):""),l.arcs.select("."+O.chartArcsGaugeMax).attr("dx",l.innerRadius+(l.radius-l.innerRadius)/(f.gauge_fullCircle?1:2)+"px").attr("dy","1.2em").text(f.gauge_label_show?l.textForGaugeMinMax(f.gauge_max,!0):"")}},t.prototype.initGauge=function(){var t=this.arcs;this.hasType("gauge")&&(t.append("g").attr("class",O.chartArcsBackground),t.append("text").attr("class",O.chartArcsGaugeUnit).style("text-anchor","middle").style("pointer-events","none"),t.append("text").attr("class",O.chartArcsGaugeMin).style("text-anchor","middle").style("pointer-events","none"),t.append("text").attr("class",O.chartArcsGaugeMax).style("text-anchor","middle").style("pointer-events","none"))},t.prototype.getGaugeLabelHeight=function(){return this.config.gauge_label_show?20:0},t.prototype.addToCache=function(t,e){this.cache["$"+t]=e},t.prototype.getFromCache=function(t){return this.cache["$"+t]},t.prototype.resetCache=function(){var t=this;Object.keys(this.cache).filter((function(t){return/^\$/.test(t)})).forEach((function(e){delete t.cache[e]}))},t.prototype.hasCaches=function(t){for(var i=0;i<t.length;i++)if(!(t[i]in this.cache))return!1;return!0},t.prototype.addCache=function(t,e){this.cache[t]=this.cloneTarget(e)},t.prototype.getCaches=function(t){var i,e=[];for(i=0;i<t.length;i++)t[i]in this.cache&&e.push(this.cloneTarget(this.cache[t[i]]));return e},t.prototype.categoryName=function(i){var t=this.config;return i<t.axis_x_categories.length?t.axis_x_categories[i]:i},t.prototype.generateTargetClass=function(t){return t||0===t?("-"+t).replace(/\s/g,"-"):""},t.prototype.generateClass=function(t,e){return" "+t+" "+t+this.generateTargetClass(e)},t.prototype.classText=function(t){return this.generateClass(O.text,t.index)},t.prototype.classTexts=function(t){return this.generateClass(O.texts,t.id)},t.prototype.classShape=function(t){return this.generateClass(O.shape,t.index)},t.prototype.classShapes=function(t){return this.generateClass(O.shapes,t.id)},t.prototype.classLine=function(t){return this.classShape(t)+this.generateClass(O.line,t.id)},t.prototype.classLines=function(t){return this.classShapes(t)+this.generateClass(O.lines,t.id)},t.prototype.classCircle=function(t){return this.classShape(t)+this.generateClass(O.circle,t.index)},t.prototype.classCircles=function(t){return this.classShapes(t)+this.generateClass(O.circles,t.id)},t.prototype.classBar=function(t){return this.classShape(t)+this.generateClass(O.bar,t.index)},t.prototype.classBars=function(t){return this.classShapes(t)+this.generateClass(O.bars,t.id)},t.prototype.classArc=function(t){return this.classShape(t.data)+this.generateClass(O.arc,t.data.id)},t.prototype.classArcs=function(t){return this.classShapes(t.data)+this.generateClass(O.arcs,t.data.id)},t.prototype.classArea=function(t){return this.classShape(t)+this.generateClass(O.area,t.id)},t.prototype.classAreas=function(t){return this.classShapes(t)+this.generateClass(O.areas,t.id)},t.prototype.classRegion=function(t,i){return this.generateClass(O.region,i)+" "+("class"in t?t.class:"")},t.prototype.classEvent=function(t){return this.generateClass(O.eventRect,t.index)},t.prototype.classTarget=function(t){var e=this,n=e.config.data_classes[t],r="";return n&&(r=" "+O.target+"-"+n),e.generateClass(O.target,t)+r},t.prototype.classFocus=function(t){return this.classFocused(t)+this.classDefocused(t)},t.prototype.classFocused=function(t){return" "+(this.focusedTargetIds.indexOf(t.id)>=0?O.focused:"")},t.prototype.classDefocused=function(t){return" "+(this.defocusedTargetIds.indexOf(t.id)>=0?O.defocused:"")},t.prototype.classChartText=function(t){return O.chartText+this.classTarget(t.id)},t.prototype.classChartLine=function(t){return O.chartLine+this.classTarget(t.id)},t.prototype.classChartBar=function(t){return O.chartBar+this.classTarget(t.id)},t.prototype.classChartArc=function(t){return O.chartArc+this.classTarget(t.data.id)},t.prototype.getTargetSelectorSuffix=function(t){var e=this.generateTargetClass(t);return window.CSS&&window.CSS.escape?window.CSS.escape(e):e.replace(/([?!@#$%^&*()=+,.<>'":;\[\]\/|~`{}\\])/g,"\\$1")},t.prototype.selectorTarget=function(t,e){return(e||"")+"."+O.target+this.getTargetSelectorSuffix(t)},t.prototype.selectorTargets=function(t,e){var n=this;return(t=t||[]).length?t.map((function(t){return n.selectorTarget(t,e)})):null},t.prototype.selectorLegend=function(t){return"."+O.legendItem+this.getTargetSelectorSuffix(t)},t.prototype.selectorLegends=function(t){var e=this;return t&&t.length?t.map((function(t){return e.selectorLegend(t)})):null},t.prototype.getClipPath=function(t){return"url("+(G(9)?"":document.URL.split("#")[0])+"#"+t+")"},t.prototype.appendClip=function(t,e){return t.append("clipPath").attr("id",e).append("rect")},t.prototype.getAxisClipX=function(t){var e=Math.max(30,this.margin.left);return t?-(1+e):-(e-1)},t.prototype.getAxisClipY=function(t){return t?-20:-this.margin.top},t.prototype.getXAxisClipX=function(){var t=this;return t.getAxisClipX(!t.config.axis_rotated)},t.prototype.getXAxisClipY=function(){var t=this;return t.getAxisClipY(!t.config.axis_rotated)},t.prototype.getYAxisClipX=function(){var t=this;return t.config.axis_y_inner?-1:t.getAxisClipX(t.config.axis_rotated)},t.prototype.getYAxisClipY=function(){var t=this;return t.getAxisClipY(t.config.axis_rotated)},t.prototype.getAxisClipWidth=function(t){var e=this,n=Math.max(30,e.margin.left),r=Math.max(30,e.margin.right);return t?e.width+2+n+r:e.margin.left+20},t.prototype.getAxisClipHeight=function(t){return(t?this.margin.bottom:this.margin.top+this.height)+20},t.prototype.getXAxisClipWidth=function(){var t=this;return t.getAxisClipWidth(!t.config.axis_rotated)},t.prototype.getXAxisClipHeight=function(){var t=this;return t.getAxisClipHeight(!t.config.axis_rotated)},t.prototype.getYAxisClipWidth=function(){var t=this;return t.getAxisClipWidth(t.config.axis_rotated)+(t.config.axis_y_inner?20:0)},t.prototype.getYAxisClipHeight=function(){var t=this;return t.getAxisClipHeight(t.config.axis_rotated)},t.prototype.generateColor=function(){var t=this,e=t.config,n=t.d3,r=e.data_colors,pattern=A(e.color_pattern)?e.color_pattern:n.schemeCategory10,o=e.data_color,c=[];return function(t){var e,n=t.id||t.data&&t.data.id||t;return r[n]instanceof Function?e=r[n](t):r[n]?e=r[n]:(c.indexOf(n)<0&&c.push(n),e=pattern[c.indexOf(n)%pattern.length],r[n]=e),o instanceof Function?o(e,t):e}},t.prototype.generateLevelColor=function(){var t=this.config,e=t.color_pattern,n=t.color_threshold,r="value"===n.unit,o=n.values&&n.values.length?n.values:[],c=n.max||100;return A(n)&&A(e)?function(t){var i,n=e[e.length-1];for(i=0;i<o.length;i++)if((r?t:100*t/c)<o[i]){n=e[i];break}return n}:null},t.prototype.getDefaultConfig=function(){var t={bindto:"#chart",svg_classname:void 0,size_width:void 0,size_height:void 0,padding_left:void 0,padding_right:void 0,padding_top:void 0,padding_bottom:void 0,resize_auto:!0,zoom_enabled:!1,zoom_initialRange:void 0,zoom_type:"scroll",zoom_disableDefaultBehavior:!1,zoom_privileged:!1,zoom_rescale:!1,zoom_onzoom:function(){},zoom_onzoomstart:function(){},zoom_onzoomend:function(){},zoom_x_min:void 0,zoom_x_max:void 0,interaction_brighten:!0,interaction_enabled:!0,onmouseover:function(){},onmouseout:function(){},onresize:function(){},onresized:function(){},oninit:function(){},onrendered:function(){},transition_duration:350,data_epochs:"epochs",data_x:void 0,data_xs:{},data_xFormat:"%Y-%m-%d",data_xLocaltime:!0,data_xSort:!0,data_idConverter:function(t){return t},data_names:{},data_classes:{},data_groups:[],data_axes:{},data_type:void 0,data_types:{},data_labels:{},data_order:"desc",data_regions:{},data_color:void 0,data_colors:{},data_hide:!1,data_filter:void 0,data_selection_enabled:!1,data_selection_grouped:!1,data_selection_isselectable:function(){return!0},data_selection_multiple:!0,data_selection_draggable:!1,data_stack_normalize:!1,data_onclick:function(){},data_onmouseover:function(){},data_onmouseout:function(){},data_onselected:function(){},data_onunselected:function(){},data_url:void 0,data_headers:void 0,data_json:void 0,data_rows:void 0,data_columns:void 0,data_mimeType:void 0,data_keys:void 0,data_empty_label_text:"",subchart_show:!1,subchart_size_height:60,subchart_axis_x_show:!0,subchart_onbrush:function(){},color_pattern:[],color_threshold:{},legend_show:!0,legend_hide:!1,legend_position:"bottom",legend_inset_anchor:"top-left",legend_inset_x:10,legend_inset_y:0,legend_inset_step:void 0,legend_item_onclick:void 0,legend_item_onmouseover:void 0,legend_item_onmouseout:void 0,legend_equally:!1,legend_padding:0,legend_item_tile_width:10,legend_item_tile_height:10,axis_rotated:!1,axis_x_show:!0,axis_x_type:"indexed",axis_x_localtime:!0,axis_x_categories:[],axis_x_tick_centered:!1,axis_x_tick_format:void 0,axis_x_tick_culling:{},axis_x_tick_culling_max:10,axis_x_tick_count:void 0,axis_x_tick_fit:!0,axis_x_tick_values:null,axis_x_tick_rotate:0,axis_x_tick_outer:!0,axis_x_tick_multiline:!0,axis_x_tick_multilineMax:0,axis_x_tick_width:null,axis_x_max:void 0,axis_x_min:void 0,axis_x_padding:{},axis_x_height:void 0,axis_x_selection:void 0,axis_x_label:{},axis_x_inner:void 0,axis_y_show:!0,axis_y_type:"linear",axis_y_max:void 0,axis_y_min:void 0,axis_y_inverted:!1,axis_y_center:void 0,axis_y_inner:void 0,axis_y_label:{},axis_y_tick_format:void 0,axis_y_tick_outer:!0,axis_y_tick_values:null,axis_y_tick_rotate:0,axis_y_tick_count:void 0,axis_y_tick_time_type:void 0,axis_y_tick_time_interval:void 0,axis_y_padding:{},axis_y_default:void 0,axis_y2_show:!1,axis_y2_type:"linear",axis_y2_max:void 0,axis_y2_min:void 0,axis_y2_inverted:!1,axis_y2_center:void 0,axis_y2_inner:void 0,axis_y2_label:{},axis_y2_tick_format:void 0,axis_y2_tick_outer:!0,axis_y2_tick_values:null,axis_y2_tick_count:void 0,axis_y2_padding:{},axis_y2_default:void 0,grid_x_show:!1,grid_x_type:"tick",grid_x_lines:[],grid_y_show:!1,grid_y_lines:[],grid_y_ticks:10,grid_focus_show:!0,grid_lines_front:!0,point_show:!0,point_r:2.5,point_sensitivity:10,point_focus_expand_enabled:!0,point_focus_expand_r:void 0,point_select_r:void 0,line_connectNull:!1,line_step_type:"step",bar_width:void 0,bar_width_ratio:.6,bar_width_max:void 0,bar_zerobased:!0,bar_space:0,area_zerobased:!0,area_above:!1,pie_label_show:!0,pie_label_format:void 0,pie_label_threshold:.05,pie_label_ratio:void 0,pie_expand:{},pie_expand_duration:50,pie_padAngle:0,gauge_fullCircle:!1,gauge_label_show:!0,gauge_labelLine_show:!0,gauge_label_format:void 0,gauge_min:0,gauge_max:100,gauge_startingAngle:-1*Math.PI/2,gauge_label_extents:void 0,gauge_units:void 0,gauge_width:void 0,gauge_arcs_minWidth:5,gauge_expand:{},gauge_expand_duration:50,donut_label_show:!0,donut_label_format:void 0,donut_label_threshold:.05,donut_label_ratio:void 0,donut_width:void 0,donut_title:"",donut_expand:{},donut_expand_duration:50,donut_padAngle:0,spline_interpolation_type:"cardinal",stanford_lines:[],stanford_regions:[],stanford_texts:[],stanford_scaleMin:void 0,stanford_scaleMax:void 0,stanford_scaleWidth:void 0,stanford_scaleFormat:void 0,stanford_scaleValues:void 0,stanford_colors:void 0,stanford_padding:{top:0,right:0,bottom:0,left:0},regions:[],tooltip_show:!0,tooltip_grouped:!0,tooltip_order:void 0,tooltip_format_title:void 0,tooltip_format_name:void 0,tooltip_format_value:void 0,tooltip_horizontal:void 0,tooltip_position:void 0,tooltip_contents:function(t,e,n,r){return this.getTooltipContent?this.getTooltipContent(t,e,n,r):""},tooltip_init_show:!1,tooltip_init_x:0,tooltip_init_position:{top:"0px",left:"50px"},tooltip_onshow:function(){},tooltip_onhide:function(){},title_text:void 0,title_padding:{top:0,right:0,bottom:0,left:0},title_position:"top-center"};return Object.keys(this.additionalConfig).forEach((function(e){t[e]=this.additionalConfig[e]}),this),t},t.prototype.additionalConfig={},t.prototype.loadConfig=function(t){var e,n,r,o=this.config;function c(){var t=n.shift();return t&&e&&"object"==typeof e&&t in e?(e=e[t],c()):t?void 0:e}Object.keys(o).forEach((function(d){e=t,n=d.split("_"),r=c(),x(r)&&(o[d]=r)}))},t.prototype.convertUrlToData=function(t,e,n,r,o){var c,d,l=this,h=e||"csv";"json"===h?(c=l.d3.json,d=l.convertJsonToData):"tsv"===h?(c=l.d3.tsv,d=l.convertXsvToData):(c=l.d3.csv,d=l.convertXsvToData),c(t,n).then((function(data){o.call(l,d.call(l,data,r))})).catch((function(t){throw t}))},t.prototype.convertXsvToData=function(t){var e=t.columns;return 0===t.length?{keys:e,rows:[e.reduce((function(t,e){var n;return Object.assign(t,((n={})[e]=null,n))}),{})]}:{keys:e,rows:[].concat(t)}},t.prototype.convertJsonToData=function(t,e){var n,data,r=this,o=[];return e?(e.x?(n=e.value.concat(e.x),r.config.data_x=e.x):n=e.value,o.push(n),t.forEach((function(t){var e=[];n.forEach((function(n){var o=r.findValueInJson(t,n);v(o)&&(o=null),e.push(o)})),o.push(e)})),data=r.convertRowsToData(o)):(Object.keys(t).forEach((function(e){o.push([e].concat(t[e]))})),data=r.convertColumnsToData(o)),data},t.prototype.findValueInJson=function(object,path){if(path in object)return object[path];for(var t=(path=(path=path.replace(/\[(\w+)\]/g,".$1")).replace(/^\./,"")).split("."),i=0;i<t.length;++i){var e=t[i];if(!(e in object))return;object=object[e]}return object},t.prototype.convertRowsToData=function(t){for(var e=[],n=t[0],i=1;i<t.length;i++){for(var r={},o=0;o<t[i].length;o++){if(v(t[i][o]))throw new Error("Source data is missing a component at ("+i+","+o+")!");r[n[o]]=t[i][o]}e.push(r)}return{keys:n,rows:e}},t.prototype.convertColumnsToData=function(t){for(var e=[],n=[],i=0;i<t.length;i++){for(var r=t[i][0],o=1;o<t[i].length;o++){if(v(e[o-1])&&(e[o-1]={}),v(t[i][o]))throw new Error("Source data is missing a component at ("+i+","+o+")!");e[o-1][r]=t[i][o]}n.push(r)}return{keys:n,rows:e}},t.prototype.convertDataToTargets=function(data,t){var e,n,r,o,c,d=this,l=d.config;if(_(data)?o=Object.keys(data[0]):(o=data.keys,data=data.rows),r=o.filter(d.isX,d),d.isStanfordGraphType()){if(c=o.filter(d.isEpochs,d),n=o.filter(d.isNotXAndNotEpochs,d),1!==r.length||1!==c.length||1!==n.length)throw new Error("You must define the 'x' key name and the 'epochs' for Stanford Diagrams")}else n=o.filter(d.isNotX,d);return n.forEach((function(e){var n=d.getXKey(e);d.isCustomX()||d.isTimeSeries()?r.indexOf(n)>=0?d.data.xs[e]=(t&&d.data.xs[e]?d.data.xs[e]:[]).concat(data.map((function(t){return t[n]})).filter(T).map((function(t,i){return d.generateTargetX(t,e,i)}))):l.data_x?d.data.xs[e]=d.getOtherTargetXs():A(l.data_xs)&&(d.data.xs[e]=d.getXValuesOfXKey(n,d.data.targets)):d.data.xs[e]=data.map((function(t,i){return i}))})),n.forEach((function(t){if(!d.data.xs[t])throw new Error('x is not defined for id = "'+t+'".')})),(e=n.map((function(t,e){var n=l.data_idConverter(t);return{id:n,id_org:t,values:data.map((function(r,i){var o,h,f=r[d.getXKey(t)],_=null===r[t]||isNaN(r[t])?null:+r[t];return d.isCustomX()&&d.isCategorized()&&!v(f)?(0===e&&0===i&&(l.axis_x_categories=[]),-1===(o=l.axis_x_categories.indexOf(f))&&(o=l.axis_x_categories.length,l.axis_x_categories.push(f))):o=d.generateTargetX(f,t,i),(v(r[t])||d.data.xs[t].length<=i)&&(o=void 0),h={x:o,value:_,id:n},d.isStanfordGraphType()&&(h.epochs=r[c]),h})).filter((function(t){return x(t.x)}))}}))).forEach((function(t){var i;l.data_xSort&&(t.values=t.values.sort((function(t,e){return(t.x||0===t.x?t.x:1/0)-(e.x||0===e.x?e.x:1/0)}))),i=0,t.values.forEach((function(t){t.index=i++})),d.data.xs[t.id].sort((function(t,e){return t-e}))})),d.hasNegativeValue=d.hasNegativeValueInTargets(e),d.hasPositiveValue=d.hasPositiveValueInTargets(e),l.data_type&&d.setTargetType(d.mapToIds(e).filter((function(t){return!(t in l.data_types)})),l.data_type),e.forEach((function(t){d.addCache(t.id_org,t)})),e},t.prototype.isEpochs=function(t){var e=this.config;return e.data_epochs&&t===e.data_epochs},t.prototype.isX=function(t){var e=this.config;return e.data_x&&t===e.data_x||A(e.data_xs)&&f(e.data_xs,t)},t.prototype.isNotX=function(t){return!this.isX(t)},t.prototype.isNotXAndNotEpochs=function(t){return!this.isX(t)&&!this.isEpochs(t)},t.prototype.isStackNormalized=function(){return this.config.data_stack_normalize&&this.config.data_groups.length>0},t.prototype.isAxisNormalized=function(t){var e=this;return!!e.isStackNormalized()&&e.data.targets.filter((function(n){return e.axis.getId(n.id)===t})).some((function(t){return e.isTargetNormalized(t.id)}))},t.prototype.isTargetNormalized=function(t){var e=this;return e.isStackNormalized()&&e.config.data_groups.some((function(e){return e.includes(t)}))},t.prototype.getXKey=function(t){var e=this.config;return e.data_x?e.data_x:A(e.data_xs)?e.data_xs[t]:null},t.prototype.getTotalPerIndex=function(t){var e=this;if(!e.isStackNormalized())return null;var n=e.getFromCache("getTotalPerIndex");if(void 0!==n)return n[t];var r={y:[],y2:[]};return e.data.targets.filter((function(t){return e.isTargetNormalized(t.id)})).filter((function(t){return e.isTargetToShow(t.id)})).forEach((function(t){var n=r[e.axis.getId(t.id)];t.values.forEach((function(t,i){n[i]||(n[i]=0),n[i]+=S(t.value)?t.value:0}))})),e.addToCache("getTotalPerIndex",r),r[t]},t.prototype.getTotalDataSum=function(){var t=this,e=t.getFromCache("getTotalDataSum");if(void 0!==e)return e;var n=C(t.data.targets.filter((function(e){return t.isTargetToShow(e.id)})).map((function(t){return t.values}))).map((function(t){return t.value})).reduce((function(p,t){return p+t}),0);return t.addToCache("getTotalDataSum",n),n},t.prototype.getXValuesOfXKey=function(t,e){var n,r=this;return(e&&A(e)?r.mapToIds(e):[]).forEach((function(e){r.getXKey(e)===t&&(n=r.data.xs[e])})),n},t.prototype.getXValue=function(t,i){var e=this;return t in e.data.xs&&e.data.xs[t]&&T(e.data.xs[t][i])?e.data.xs[t][i]:i},t.prototype.getOtherTargetXs=function(){var t=this,e=Object.keys(t.data.xs);return e.length?t.data.xs[e[0]]:null},t.prototype.getOtherTargetX=function(t){var e=this.getOtherTargetXs();return e&&t<e.length?e[t]:null},t.prototype.addXs=function(t){var e=this;Object.keys(t).forEach((function(n){e.config.data_xs[n]=t[n]}))},t.prototype.addName=function(data){var t;return data&&(t=this.config.data_names[data.id],data.name=void 0!==t?t:data.id),data},t.prototype.getValueOnIndex=function(t,e){var n=t.filter((function(t){return t.index===e}));return n.length?n[0]:null},t.prototype.updateTargetX=function(t,e){var n=this;t.forEach((function(t){t.values.forEach((function(r,i){r.x=n.generateTargetX(e[i],t.id,i)})),n.data.xs[t.id]=e}))},t.prototype.updateTargetXs=function(t,e){var n=this;t.forEach((function(t){e[t.id]&&n.updateTargetX([t],e[t.id])}))},t.prototype.generateTargetX=function(t,e,n){var r=this;return r.isTimeSeries()?t?r.parseDate(t):r.parseDate(r.getXValue(e,n)):r.isCustomX()&&!r.isCategorized()?T(t)?+t:r.getXValue(e,n):n},t.prototype.cloneTarget=function(t){return{id:t.id,id_org:t.id_org,values:t.values.map((function(t){return{x:t.x,value:t.value,id:t.id}}))}},t.prototype.getMaxDataCount=function(){var t=this;return t.d3.max(t.data.targets,(function(t){return t.values.length}))},t.prototype.mapToIds=function(t){return t.map((function(t){return t.id}))},t.prototype.mapToTargetIds=function(t){var e=this;return t?[].concat(t):e.mapToIds(e.data.targets)},t.prototype.hasTarget=function(t,e){var i,n=this.mapToIds(t);for(i=0;i<n.length;i++)if(n[i]===e)return!0;return!1},t.prototype.isTargetToShow=function(t){return this.hiddenTargetIds.indexOf(t)<0},t.prototype.isLegendToShow=function(t){return this.hiddenLegendIds.indexOf(t)<0},t.prototype.getTargetsToShow=function(){var t=this;return t.filterTargetsToShow(t.data.targets)},t.prototype.filterTargetsToShow=function(t){var e=this;return t.filter((function(t){return e.isTargetToShow(t.id)}))},t.prototype.getTargets=function(){return this.data.targets},t.prototype.mapTargetsToUniqueXs=function(t){var e=this,n=e.d3.set(e.d3.merge(t.map((function(t){return t.values.map((function(t){return+t.x}))})))).values();return(n=e.isTimeSeries()?n.map((function(t){return new Date(+t)})):n.map((function(t){return+t}))).sort((function(a,b){return a<b?-1:a>b?1:a>=b?0:NaN}))},t.prototype.addHiddenTargetIds=function(t){t=t instanceof Array?t:new Array(t);for(var i=0;i<t.length;i++)this.hiddenTargetIds.indexOf(t[i])<0&&(this.hiddenTargetIds=this.hiddenTargetIds.concat(t[i]));this.resetCache()},t.prototype.removeHiddenTargetIds=function(t){this.hiddenTargetIds=this.hiddenTargetIds.filter((function(e){return t.indexOf(e)<0})),this.resetCache()},t.prototype.addHiddenLegendIds=function(t){t=t instanceof Array?t:new Array(t);for(var i=0;i<t.length;i++)this.hiddenLegendIds.indexOf(t[i])<0&&(this.hiddenLegendIds=this.hiddenLegendIds.concat(t[i]))},t.prototype.removeHiddenLegendIds=function(t){this.hiddenLegendIds=this.hiddenLegendIds.filter((function(e){return t.indexOf(e)<0}))},t.prototype.getValuesAsIdKeyed=function(t){var e={};return t.forEach((function(t){e[t.id]=[],t.values.forEach((function(n){e[t.id].push(n.value)}))})),e},t.prototype.checkValueInTargets=function(t,e){var i,n,r,o=Object.keys(t);for(i=0;i<o.length;i++)for(r=t[o[i]].values,n=0;n<r.length;n++)if(e(r[n].value))return!0;return!1},t.prototype.hasNegativeValueInTargets=function(t){return this.checkValueInTargets(t,(function(t){return t<0}))},t.prototype.hasPositiveValueInTargets=function(t){return this.checkValueInTargets(t,(function(t){return t>0}))},t.prototype.isOrderDesc=function(){var t=this.config;return"string"==typeof t.data_order&&"desc"===t.data_order.toLowerCase()},t.prototype.isOrderAsc=function(){var t=this.config;return"string"==typeof t.data_order&&"asc"===t.data_order.toLowerCase()},t.prototype.getOrderFunction=function(){var t=this,e=t.config,n=t.isOrderAsc(),r=t.isOrderDesc();if(n||r){var o=function(p,t){return p+Math.abs(t.value)};return function(t,e){var r=t.values.reduce(o,0),c=e.values.reduce(o,0);return n?c-r:r-c}}if(m(e.data_order))return e.data_order;if(_(e.data_order)){var c=e.data_order;return function(t,e){return c.indexOf(t.id)-c.indexOf(e.id)}}},t.prototype.orderTargets=function(t){var e=this.getOrderFunction();return e&&t.sort(e),t},t.prototype.filterByIndex=function(t,e){return this.d3.merge(t.map((function(t){return t.values.filter((function(t){return t.index===e}))})))},t.prototype.filterByX=function(t,e){return this.d3.merge(t.map((function(t){return t.values}))).filter((function(t){return t.x-e==0}))},t.prototype.filterRemoveNull=function(data){return data.filter((function(t){return T(t.value)}))},t.prototype.filterByXDomain=function(t,e){return t.map((function(t){return{id:t.id,id_org:t.id_org,values:t.values.filter((function(t){return e[0]<=t.x&&t.x<=e[1]}))}}))},t.prototype.hasDataLabel=function(){var t=this.config;return!("boolean"!=typeof t.data_labels||!t.data_labels)||!("object"!=typeof t.data_labels||!A(t.data_labels))},t.prototype.getDataLabelLength=function(t,e,n){var r=this,o=[0,0],c=1.3;return r.selectChart.select("svg").selectAll(".dummy").data([t,e]).enter().append("text").text((function(t){return r.dataLabelFormat(t.id)(t)})).each((function(t,i){o[i]=h(this)[n]*c})).remove(),o},t.prototype.isNoneArc=function(t){return this.hasTarget(this.data.targets,t.id)},t.prototype.isArc=function(t){return"data"in t&&this.hasTarget(this.data.targets,t.data.id)},t.prototype.findClosestFromTargets=function(t,e){var n=this,r=t.map((function(t){return n.findClosest(t.values,e,n.config.tooltip_horizontal?n.horizontalDistance.bind(n):n.dist.bind(n),n.config.point_sensitivity)})).filter((function(t){return t}));return 0===r.length?void 0:1===r.length?r[0]:n.findClosest(r,e,n.dist.bind(n))},t.prototype.findClosestFromTargetsByX=function(t,e){var n,r;return t.forEach((function(t){t.values.forEach((function(t){var o=Math.abs(e-t.x);(void 0===r||o<r)&&(n=t,r=o)}))})),n},t.prototype.findClosest=function(t,e,n,r){void 0===r&&(r=1/0);var o,c=this;return t.filter((function(t){return t&&c.isBarType(t.id)})).forEach((function(t){if(!o){var n=c.main.select("."+O.bars+c.getTargetSelectorSuffix(t.id)+" ."+O.bar+"-"+t.index).node();c.isWithinBar(e,n)&&(o=t)}})),t.filter((function(t){return t&&!c.isBarType(t.id)})).forEach((function(t){var c=n(t,e);c<r&&(r=c,o=t)})),o},t.prototype.dist=function(data,t){var e=this,n=e.config,r=n.axis_rotated?1:0,o=n.axis_rotated?0:1,c=e.circleY(data,data.index),d=e.x(data.x);return Math.sqrt(Math.pow(d-t[r],2)+Math.pow(c-t[o],2))},t.prototype.horizontalDistance=function(data,t){var e=this,n=e.config.axis_rotated?1:0,r=e.x(data.x);return Math.abs(r-t[n])},t.prototype.convertValuesToStep=function(t){var i,e=[].concat(t);if(!this.isCategorized())return t;for(i=t.length+1;0<i;i--)e[i]=e[i-1];return e[0]={x:e[0].x-1,value:e[0].value,id:e[0].id},e[t.length+1]={x:e[t.length].x+1,value:e[t.length].value,id:e[t.length].id},e},t.prototype.getRatio=function(t,e,n){void 0===n&&(n=!1);var r=this,o=r.api,c=0;if(e&&o.data.shown.call(o).length)if(c=e.ratio||e.value,"arc"===t)if(r.hasType("gauge"))c=(e.endAngle-e.startAngle)/(Math.PI*(r.config.gauge_fullCircle?2:1));else{var d=r.getTotalDataSum();c=e.value/d}else"index"===t&&(d=r.getTotalPerIndex(r.axis.getId(e.id)),e.ratio=S(e.value)&&d&&d[e.index]>0?e.value/d[e.index]:0,c=e.ratio);return n&&c?100*c:c},t.prototype.updateDataAttributes=function(t,e){var n=this,r=n.config["data_"+t];return void 0===e||(Object.keys(e).forEach((function(t){r[t]=e[t]})),n.redraw({withLegend:!0})),r},t.prototype.load=function(t,e){var n=this;t&&(e.filter&&(t=t.filter(e.filter)),(e.type||e.types)&&t.forEach((function(t){var r=e.types&&e.types[t.id]?e.types[t.id]:e.type;n.setTargetType(t.id,r)})),n.data.targets.forEach((function(e){for(var i=0;i<t.length;i++)if(e.id===t[i].id){e.values=t[i].values,t.splice(i,1);break}})),n.data.targets=n.data.targets.concat(t)),n.updateTargets(n.data.targets),n.redraw({withUpdateOrgXDomain:!0,withUpdateXDomain:!0,withLegend:!0}),e.done&&e.done()},t.prototype.loadFromArgs=function(t){var e=this;e.resetCache(),t.data?e.load(e.convertDataToTargets(t.data),t):t.url?e.convertUrlToData(t.url,t.mimeType,t.headers,t.keys,(function(data){e.load(e.convertDataToTargets(data),t)})):t.json?e.load(e.convertDataToTargets(e.convertJsonToData(t.json,t.keys)),t):t.rows?e.load(e.convertDataToTargets(e.convertRowsToData(t.rows)),t):t.columns?e.load(e.convertDataToTargets(e.convertColumnsToData(t.columns)),t):e.load(null,t)},t.prototype.unload=function(t,e){var n=this;n.resetCache(),e||(e=function(){}),(t=t.filter((function(t){return n.hasTarget(n.data.targets,t)})))&&0!==t.length?(n.svg.selectAll(t.map((function(t){return n.selectorTarget(t)}))).transition().style("opacity",0).remove().call(n.endall,e),t.forEach((function(t){n.withoutFadeIn[t]=!1,n.legend&&n.legend.selectAll("."+O.legendItem+n.getTargetSelectorSuffix(t)).remove(),n.data.targets=n.data.targets.filter((function(e){return e.id!==t}))}))):e()},t.prototype.getYDomainMin=function(t){var e,n,r,o,c,d,l=this,h=l.config,f=l.mapToIds(t),_=l.getValuesAsIdKeyed(t);if(h.data_groups.length>0)for(d=l.hasNegativeValueInTargets(t),e=0;e<h.data_groups.length;e++)if(o=h.data_groups[e].filter((function(t){return f.indexOf(t)>=0})),0!==o.length)for(r=o[0],d&&_[r]&&_[r].forEach((function(t,i){_[r][i]=t<0?t:0})),n=1;n<o.length;n++)c=o[n],_[c]&&_[c].forEach((function(t,i){l.axis.getId(c)!==l.axis.getId(r)||!_[r]||d&&+t>0||(_[r][i]+=+t)}));return l.d3.min(Object.keys(_).map((function(t){return l.d3.min(_[t])})))},t.prototype.getYDomainMax=function(t){var e,n,r,o,c,d,l=this,h=l.config,f=l.mapToIds(t),_=l.getValuesAsIdKeyed(t);if(h.data_groups.length>0)for(d=l.hasPositiveValueInTargets(t),e=0;e<h.data_groups.length;e++)if(o=h.data_groups[e].filter((function(t){return f.indexOf(t)>=0})),0!==o.length)for(r=o[0],d&&_[r]&&_[r].forEach((function(t,i){_[r][i]=t>0?t:0})),n=1;n<o.length;n++)c=o[n],_[c]&&_[c].forEach((function(t,i){l.axis.getId(c)!==l.axis.getId(r)||!_[r]||d&&+t<0||(_[r][i]+=+t)}));return l.d3.max(Object.keys(_).map((function(t){return l.d3.max(_[t])})))},t.prototype.getYDomain=function(t,e,n){var r=this,o=r.config;if(r.isAxisNormalized(e))return[0,100];var d,l,h,f,_,x,y,m,S,w,v=t.filter((function(t){return r.axis.getId(t.id)===e})),P=n?r.filterByXDomain(v,n):v,C="y2"===e?o.axis_y2_min:o.axis_y_min,L="y2"===e?o.axis_y2_max:o.axis_y_max,V=r.getYDomainMin(P),G=r.getYDomainMax(P),E="y2"===e?o.axis_y2_center:o.axis_y_center,O=r.hasType("bar",P)&&o.bar_zerobased||r.hasType("area",P)&&o.area_zerobased,I="y2"===e?o.axis_y2_inverted:o.axis_y_inverted,R=r.hasDataLabel()&&o.axis_rotated,k=r.hasDataLabel()&&!o.axis_rotated;if(V=T(C)?C:T(L)?V<L?V:L-10:V,G=T(L)?L:T(C)?C<G?G:C+10:G,0===P.length)return"y2"===e?r.y2.domain():r.y.domain();if(isNaN(V)&&(V=0),isNaN(G)&&(G=V),V===G&&(V<0?G=0:V=0),S=V>=0&&G>=0,w=V<=0&&G<=0,(T(C)&&S||T(L)&&w)&&(O=!1),O&&(S&&(V=0),w&&(G=0)),h=f=.1*(l=Math.abs(G-V)),void 0!==E&&(G=E+(_=Math.max(Math.abs(V),Math.abs(G))),V=E-_),R)x=r.getDataLabelLength(V,G,"width"),y=c(r.y.range()),h+=l*((m=[x[0]/y,x[1]/y])[1]/(1-m[0]-m[1])),f+=l*(m[0]/(1-m[0]-m[1]));else if(k){x=r.getDataLabelLength(V,G,"height");var D=r.getY(o["axis_"+e+"_type"],[0,o.axis_rotated?r.width:r.height],[0,l]);h+=D(x[1]),f+=D(x[0])}return"y"===e&&A(o.axis_y_padding)&&(h=r.axis.getPadding(o.axis_y_padding,"top",h,l),f=r.axis.getPadding(o.axis_y_padding,"bottom",f,l)),"y2"===e&&A(o.axis_y2_padding)&&(h=r.axis.getPadding(o.axis_y2_padding,"top",h,l),f=r.axis.getPadding(o.axis_y2_padding,"bottom",f,l)),O&&(S&&(f=V),w&&(h=-G)),d=[V-f,G+h],I?d.reverse():d},t.prototype.getXDomainMin=function(t){var e=this,n=e.config;return x(n.axis_x_min)?e.isTimeSeries()?this.parseDate(n.axis_x_min):n.axis_x_min:e.d3.min(t,(function(t){return e.d3.min(t.values,(function(t){return t.x}))}))},t.prototype.getXDomainMax=function(t){var e=this,n=e.config;return x(n.axis_x_max)?e.isTimeSeries()?this.parseDate(n.axis_x_max):n.axis_x_max:e.d3.max(t,(function(t){return e.d3.max(t.values,(function(t){return t.x}))}))},t.prototype.getXDomainPadding=function(t){var e,n,r,o,c=this,d=c.config,l=t[1]-t[0];return n=c.isCategorized()?0:c.hasType("bar")?(e=c.getMaxDataCount())>1?l/(e-1)/2:.5:.01*l,"object"==typeof d.axis_x_padding&&A(d.axis_x_padding)?(r=T(d.axis_x_padding.left)?d.axis_x_padding.left:n,o=T(d.axis_x_padding.right)?d.axis_x_padding.right:n):r=o="number"==typeof d.axis_x_padding?d.axis_x_padding:n,{left:r,right:o}},t.prototype.getXDomain=function(t){var e=this,n=[e.getXDomainMin(t),e.getXDomainMax(t)],r=n[0],o=n[1],c=e.getXDomainPadding(n),d=0,l=0;return r-o!=0||e.isCategorized()||(e.isTimeSeries()?(r=new Date(.5*r.getTime()),o=new Date(1.5*o.getTime())):(r=0===r?1:.5*r,o=0===o?-1:1.5*o)),(r||0===r)&&(d=e.isTimeSeries()?new Date(r.getTime()-c.left):r-c.left),(o||0===o)&&(l=e.isTimeSeries()?new Date(o.getTime()+c.right):o+c.right),[d,l]},t.prototype.updateXDomain=function(t,e,n,r,o){var c=this,d=c.config;return n&&(c.x.domain(o||c.d3.extent(c.getXDomain(t))),c.orgXDomain=c.x.domain(),d.zoom_enabled&&c.zoom.update(),c.subX.domain(c.x.domain()),c.brush&&c.brush.updateScale(c.subX)),e&&c.x.domain(o||(!c.brush||c.brush.empty()?c.orgXDomain:c.brush.selectionAsValue())),r&&c.x.domain(c.trimXDomain(c.x.orgDomain())),c.x.domain()},t.prototype.trimXDomain=function(t){var e=this.getZoomDomain(),n=e[0],r=e[1];return t[0]<=n&&(t[1]=+t[1]+(n-t[0]),t[0]=n),r<=t[1]&&(t[0]=+t[0]-(t[1]-r),t[1]=r),t},t.prototype.drag=function(t){var e,n,r,o,c,d,h,f,_=this,x=_.config,main=_.main,y=_.d3;_.hasArcType()||x.data_selection_enabled&&x.data_selection_multiple&&(e=_.dragStart[0],n=_.dragStart[1],r=t[0],o=t[1],c=Math.min(e,r),d=Math.max(e,r),h=x.data_selection_grouped?_.margin.top:Math.min(n,o),f=x.data_selection_grouped?_.height:Math.max(n,o),main.select("."+O.dragarea).attr("x",c).attr("y",h).attr("width",d-c).attr("height",f-h),main.selectAll("."+O.shapes).selectAll("."+O.shape).each((function(t,i){if(x.data_selection_isselectable(t)){var e,n,r,o,m,S,w=y.select(this),v=w.classed(O.SELECTED),T=w.classed(O.INCLUDED),A=!1;if(w.classed(O.circle))e=1*w.attr("cx"),n=1*w.attr("cy"),m=_.togglePoint,A=c<e&&e<d&&h<n&&n<f;else{if(!w.classed(O.bar))return;e=(S=l(this)).x,n=S.y,r=S.width,o=S.height,m=_.togglePath,A=!(d<e||e+r<c||f<n||n+o<h)}A^T&&(w.classed(O.INCLUDED,!T),w.classed(O.SELECTED,!v),m.call(_,!v,w,t,i))}})))},t.prototype.dragstart=function(t){var e=this,n=e.config;e.hasArcType()||n.data_selection_enabled&&(e.dragStart=t,e.main.select("."+O.chart).append("rect").attr("class",O.dragarea).style("opacity",.1),e.dragging=!0)},t.prototype.dragend=function(){var t=this,e=t.config;t.hasArcType()||e.data_selection_enabled&&(t.main.select("."+O.dragarea).transition().duration(100).style("opacity",0).remove(),t.main.selectAll("."+O.shape).classed(O.INCLUDED,!1),t.dragging=!1)},t.prototype.getYFormat=function(t){var e=this,n=t&&!e.hasType("gauge")?e.defaultArcValueFormat:e.yFormat,r=t&&!e.hasType("gauge")?e.defaultArcValueFormat:e.y2Format;return function(t,o,c){return("y2"===e.axis.getId(c)?r:n).call(e,t,o)}},t.prototype.yFormat=function(t){var e=this,n=e.config;return(n.axis_y_tick_format?n.axis_y_tick_format:e.defaultValueFormat)(t)},t.prototype.y2Format=function(t){var e=this,n=e.config;return(n.axis_y2_tick_format?n.axis_y2_tick_format:e.defaultValueFormat)(t)},t.prototype.defaultValueFormat=function(t){return T(t)?+t:""},t.prototype.defaultArcValueFormat=function(t,e){return(100*e).toFixed(1)+"%"},t.prototype.dataLabelFormat=function(t){var e=this.config.data_labels,n=function(t){return T(t)?+t:""};return"function"==typeof e.format?e.format:"object"==typeof e.format?e.format[t]?!0===e.format[t]?n:e.format[t]:function(){return""}:n},t.prototype.initGrid=function(){var t=this,e=t.config,n=t.d3;t.grid=t.main.append("g").attr("clip-path",t.clipPathForGrid).attr("class",O.grid),e.grid_x_show&&t.grid.append("g").attr("class",O.xgrids),e.grid_y_show&&t.grid.append("g").attr("class",O.ygrids),e.grid_focus_show&&t.grid.append("g").attr("class",O.xgridFocus).append("line").attr("class",O.xgridFocus),t.xgrid=n.selectAll([]),e.grid_lines_front||t.initGridLines()},t.prototype.initGridLines=function(){var t=this,e=t.d3;t.gridLines=t.main.append("g").attr("clip-path",t.clipPathForGrid).attr("class",O.grid+" "+O.gridLines),t.gridLines.append("g").attr("class",O.xgridLines),t.gridLines.append("g").attr("class",O.ygridLines),t.xgridLines=e.selectAll([])},t.prototype.updateXGrid=function(t){var e=this,n=e.config,r=e.d3,o=e.generateGridData(n.grid_x_type,e.x),c=e.isCategorized()?e.xAxis.tickOffset():0;e.xgridAttr=n.axis_rotated?{x1:0,x2:e.width,y1:function(t){return e.x(t)-c},y2:function(t){return e.x(t)-c}}:{x1:function(t){return e.x(t)+c},x2:function(t){return e.x(t)+c},y1:0,y2:e.height},e.xgridAttr.opacity=function(){return+r.select(this).attr(n.axis_rotated?"y1":"x1")===(n.axis_rotated?e.height:0)?0:1};var d=e.main.select("."+O.xgrids).selectAll("."+O.xgrid).data(o),l=d.enter().append("line").attr("class",O.xgrid).attr("x1",e.xgridAttr.x1).attr("x2",e.xgridAttr.x2).attr("y1",e.xgridAttr.y1).attr("y2",e.xgridAttr.y2).style("opacity",0);e.xgrid=l.merge(d),t||e.xgrid.attr("x1",e.xgridAttr.x1).attr("x2",e.xgridAttr.x2).attr("y1",e.xgridAttr.y1).attr("y2",e.xgridAttr.y2).style("opacity",e.xgridAttr.opacity),d.exit().remove()},t.prototype.updateYGrid=function(){var t=this,e=t.config,n=t.yAxis.tickValues()||t.y.ticks(e.grid_y_ticks),r=t.main.select("."+O.ygrids).selectAll("."+O.ygrid).data(n),o=r.enter().append("line").attr("class",O.ygrid);t.ygrid=o.merge(r),t.ygrid.attr("x1",e.axis_rotated?t.y:0).attr("x2",e.axis_rotated?t.y:t.width).attr("y1",e.axis_rotated?0:t.y).attr("y2",e.axis_rotated?t.height:t.y),r.exit().remove(),t.smoothLines(t.ygrid,"grid")},t.prototype.gridTextAnchor=function(t){return t.position?t.position:"end"},t.prototype.gridTextDx=function(t){return"start"===t.position?4:"middle"===t.position?0:-4},t.prototype.xGridTextX=function(t){return"start"===t.position?-this.height:"middle"===t.position?-this.height/2:0},t.prototype.yGridTextX=function(t){return"start"===t.position?0:"middle"===t.position?this.width/2:this.width},t.prototype.updateGrid=function(t){var e,n,r,o,c=this,main=c.main,d=c.config,l=c.xv.bind(c),h=c.yv.bind(c),f=c.xGridTextX.bind(c),_=c.yGridTextX.bind(c);c.grid.style("visibility",c.hasArcType()?"hidden":"visible"),main.select("line."+O.xgridFocus).style("visibility","hidden"),d.grid_x_show&&c.updateXGrid(),(n=(e=main.select("."+O.xgridLines).selectAll("."+O.xgridLine).data(d.grid_x_lines)).enter().append("g").attr("class",(function(t){return O.xgridLine+(t.class?" "+t.class:"")}))).append("line").attr("x1",d.axis_rotated?0:l).attr("x2",d.axis_rotated?c.width:l).attr("y1",d.axis_rotated?l:0).attr("y2",d.axis_rotated?l:c.height).style("opacity",0),n.append("text").attr("text-anchor",c.gridTextAnchor).attr("transform",d.axis_rotated?"":"rotate(-90)").attr("x",d.axis_rotated?_:f).attr("y",l).attr("dx",c.gridTextDx).attr("dy",-5).style("opacity",0),c.xgridLines=n.merge(e),e.exit().transition().duration(t).style("opacity",0).remove(),d.grid_y_show&&c.updateYGrid(),(o=(r=main.select("."+O.ygridLines).selectAll("."+O.ygridLine).data(d.grid_y_lines)).enter().append("g").attr("class",(function(t){return O.ygridLine+(t.class?" "+t.class:"")}))).append("line").attr("x1",d.axis_rotated?h:0).attr("x2",d.axis_rotated?h:c.width).attr("y1",d.axis_rotated?0:h).attr("y2",d.axis_rotated?c.height:h).style("opacity",0),o.append("text").attr("text-anchor",c.gridTextAnchor).attr("transform",d.axis_rotated?"rotate(-90)":"").attr("x",d.axis_rotated?f:_).attr("y",h).attr("dx",c.gridTextDx).attr("dy",-5).style("opacity",0),c.ygridLines=o.merge(r),c.ygridLines.select("line").transition().duration(t).attr("x1",d.axis_rotated?h:0).attr("x2",d.axis_rotated?h:c.width).attr("y1",d.axis_rotated?0:h).attr("y2",d.axis_rotated?c.height:h).style("opacity",1),c.ygridLines.select("text").transition().duration(t).attr("x",d.axis_rotated?c.xGridTextX.bind(c):c.yGridTextX.bind(c)).attr("y",h).text((function(t){return t.text})).style("opacity",1),r.exit().transition().duration(t).style("opacity",0).remove()},t.prototype.redrawGrid=function(t,e){var n=this,r=n.config,o=n.xv.bind(n),c=n.xgridLines.select("line"),d=n.xgridLines.select("text");return[(t?c.transition(e):c).attr("x1",r.axis_rotated?0:o).attr("x2",r.axis_rotated?n.width:o).attr("y1",r.axis_rotated?o:0).attr("y2",r.axis_rotated?o:n.height).style("opacity",1),(t?d.transition(e):d).attr("x",r.axis_rotated?n.yGridTextX.bind(n):n.xGridTextX.bind(n)).attr("y",o).text((function(t){return t.text})).style("opacity",1)]},t.prototype.showXGridFocus=function(t){var e=this,n=e.config,r=t.filter((function(t){return t&&T(t.value)})),o=e.main.selectAll("line."+O.xgridFocus),c=e.xx.bind(e);n.tooltip_show&&(e.hasType("stanford")||e.hasArcType()||(o.style("visibility","visible").data([r[0]]).attr(n.axis_rotated?"y1":"x1",c).attr(n.axis_rotated?"y2":"x2",c),e.smoothLines(o,"grid")))},t.prototype.hideXGridFocus=function(){this.main.select("line."+O.xgridFocus).style("visibility","hidden")},t.prototype.updateXgridFocus=function(){var t=this,e=t.config;t.main.select("line."+O.xgridFocus).attr("x1",e.axis_rotated?0:-10).attr("x2",e.axis_rotated?t.width:-10).attr("y1",e.axis_rotated?-10:0).attr("y2",e.axis_rotated?-10:t.height)},t.prototype.generateGridData=function(t,e){var n,r,o,i,c=this,d=[],l=c.main.select("."+O.axisX).selectAll(".tick").size();if("year"===t)for(r=(n=c.getXDomain())[0].getFullYear(),o=n[1].getFullYear(),i=r;i<=o;i++)d.push(new Date(i+"-01-01 00:00:00"));else(d=e.ticks(10)).length>l&&(d=d.filter((function(t){return(""+t).indexOf(".")<0})));return d},t.prototype.getGridFilterToRemove=function(t){return t?function(line){var e=!1;return[].concat(t).forEach((function(param){("value"in param&&line.value===param.value||"class"in param&&line.class===param.class)&&(e=!0)})),e}:function(){return!0}},t.prototype.removeGridLines=function(t,e){var n=this,r=n.config,o=n.getGridFilterToRemove(t),c=function(line){return!o(line)},d=e?O.xgridLines:O.ygridLines,l=e?O.xgridLine:O.ygridLine;n.main.select("."+d).selectAll("."+l).filter(o).transition().duration(r.transition_duration).style("opacity",0).remove(),e?r.grid_x_lines=r.grid_x_lines.filter(c):r.grid_y_lines=r.grid_y_lines.filter(c)},t.prototype.initEventRect=function(){var t=this,e=t.config;t.main.select("."+O.chart).append("g").attr("class",O.eventRects).style("fill-opacity",0),t.eventRect=t.main.select("."+O.eventRects).append("rect").attr("class",O.eventRect),e.zoom_enabled&&t.zoom&&(t.eventRect.call(t.zoom).on("dblclick.zoom",null),e.zoom_initialRange&&t.eventRect.transition().duration(0).call(t.zoom.transform,t.zoomTransform(e.zoom_initialRange)))},t.prototype.redrawEventRect=function(){var t=this,e=t.d3,n=t.config;function r(){t.svg.select("."+O.eventRect).style("cursor",null),t.hideXGridFocus(),t.hideTooltip(),t.unexpandCircles(),t.unexpandBars()}var o=function(e,r){return r&&(t.isBarType(r.id)||t.dist(r,e)<n.point_sensitivity)},c=function(e){return e?t.addName(Object.assign({},e)):null};t.main.select("."+O.eventRects).style("cursor",n.zoom_enabled?n.axis_rotated?"ns-resize":"ew-resize":null),t.eventRect.attr("x",0).attr("y",0).attr("width",t.width).attr("height",t.height).on("mouseout",n.interaction_enabled?function(){n&&(t.hasArcType()||(t.mouseover&&(n.data_onmouseout.call(t.api,t.mouseover),t.mouseover=void 0),r()))}:null).on("mousemove",n.interaction_enabled?function(){if(!t.dragging){var d=t.getTargetsToShow();if(!t.hasArcType(d)){var l,h=e.mouse(this),f=c(t.findClosestFromTargets(d,h)),_=o(h,f);if(!t.mouseover||f&&f.id===t.mouseover.id&&f.index===t.mouseover.index||(n.data_onmouseout.call(t.api,t.mouseover),t.mouseover=void 0),f&&!t.mouseover&&(n.data_onmouseover.call(t.api,f),t.mouseover=f),t.svg.select("."+O.eventRect).style("cursor",_?"pointer":null),!n.tooltip_grouped||t.hasType("stanford",d))f&&(l=[f]);else{var x=void 0;if(f)x=f;else{var y=n.axis_rotated?h[1]:h[0];x=t.findClosestFromTargetsByX(d,t.x.invert(y))}x&&(l=t.filterByX(d,x.x))}if(!l||0===l.length)return r();l=l.map(c),t.showTooltip(l,this),n.point_focus_expand_enabled&&(t.unexpandCircles(),l.forEach((function(e){t.expandCircles(e.index,e.id,!1)}))),t.unexpandBars(),l.forEach((function(e){t.expandBars(e.index,e.id,!1)})),t.showXGridFocus(l)}}}:null).on("click",n.interaction_enabled?function(){var r=t.getTargetsToShow();if(!t.hasArcType(r)){var d=e.mouse(this),l=c(t.findClosestFromTargets(r,d));if(o(d,l)&&((!n.data_selection_grouped||t.isStanfordType(l)?[l]:t.filterByX(r,l.x)).forEach((function(e){t.main.selectAll("."+O.shapes+t.getTargetSelectorSuffix(e.id)).selectAll("."+O.shape+"-"+e.index).each((function(){(n.data_selection_grouped||t.isWithinShape(this,e))&&t.toggleShape(this,e,e.index)}))})),l)){var h=t.main.selectAll("."+O.shapes+t.getTargetSelectorSuffix(l.id)).select("."+O.shape+"-"+l.index);n.data_onclick.call(t.api,l,h.node())}}}:null).call(n.interaction_enabled&&n.data_selection_draggable&&t.drag?e.drag().on("drag",(function(){t.drag(e.mouse(this))})).on("start",(function(){t.dragstart(e.mouse(this))})).on("end",(function(){t.dragend()})):function(){})},t.prototype.getMousePosition=function(data){var t=this;return[t.x(data.x),t.getYScale(data.id)(data.value)]},t.prototype.dispatchEvent=function(t,e){var n=this,r="."+O.eventRect,o=n.main.select(r).node(),c=o.getBoundingClientRect(),d=c.left+(e?e[0]:0),l=c.top+(e?e[1]:0),h=document.createEvent("MouseEvents");h.initMouseEvent(t,!0,!0,window,0,d,l,d,l,!1,!1,!1,!1,0,null),o.dispatchEvent(h)},t.prototype.initLegend=function(){var t=this;if(t.legendItemTextBox={},t.legendHasRendered=!1,t.legend=t.svg.append("g").attr("transform",t.getTranslate("legend")),!t.config.legend_show)return t.legend.style("visibility","hidden"),void(t.hiddenLegendIds=t.mapToIds(t.data.targets));t.updateLegendWithDefaults()},t.prototype.updateLegendWithDefaults=function(){var t=this;t.updateLegend(t.mapToIds(t.data.targets),{withTransform:!1,withTransitionForTransform:!1,withTransition:!1})},t.prototype.updateSizeForLegend=function(t,e){var n=this,r=n.config,o={top:n.isLegendTop?n.getCurrentPaddingTop()+r.legend_inset_y+5.5:n.currentHeight-t-n.getCurrentPaddingBottom()-r.legend_inset_y,left:n.isLegendLeft?n.getCurrentPaddingLeft()+r.legend_inset_x+.5:n.currentWidth-e-n.getCurrentPaddingRight()-r.legend_inset_x+.5};n.margin3={top:n.isLegendRight?0:n.isLegendInset?o.top:n.currentHeight-t,right:NaN,bottom:0,left:n.isLegendRight?n.currentWidth-e:n.isLegendInset?o.left:0}},t.prototype.transformLegend=function(t){var e=this;(t?e.legend.transition():e.legend).attr("transform",e.getTranslate("legend"))},t.prototype.updateLegendStep=function(t){this.legendStep=t},t.prototype.updateLegendItemWidth=function(t){this.legendItemWidth=t},t.prototype.updateLegendItemHeight=function(t){this.legendItemHeight=t},t.prototype.getLegendWidth=function(){var t=this;return t.config.legend_show?t.isLegendRight||t.isLegendInset?t.legendItemWidth*(t.legendStep+1):t.currentWidth:0},t.prototype.getLegendHeight=function(){var t=this,e=0;return t.config.legend_show&&(e=t.isLegendRight?t.currentHeight:Math.max(20,t.legendItemHeight)*(t.legendStep+1)),e},t.prototype.opacityForLegend=function(t){return t.classed(O.legendItemHidden)?null:1},t.prototype.opacityForUnfocusedLegend=function(t){return t.classed(O.legendItemHidden)?null:.3},t.prototype.toggleFocusLegend=function(t,e){var n=this;t=n.mapToTargetIds(t),n.legend.selectAll("."+O.legendItem).filter((function(e){return t.indexOf(e)>=0})).classed(O.legendItemFocused,e).transition().duration(100).style("opacity",(function(){return(e?n.opacityForLegend:n.opacityForUnfocusedLegend).call(n,n.d3.select(this))}))},t.prototype.revertLegend=function(){var t=this,e=t.d3;t.legend.selectAll("."+O.legendItem).classed(O.legendItemFocused,!1).transition().duration(100).style("opacity",(function(){return t.opacityForLegend(e.select(this))}))},t.prototype.showLegend=function(t){var e=this,n=e.config;n.legend_show||(n.legend_show=!0,e.legend.style("visibility","visible"),e.legendHasRendered||e.updateLegendWithDefaults()),e.removeHiddenLegendIds(t),e.legend.selectAll(e.selectorLegends(t)).style("visibility","visible").transition().style("opacity",(function(){return e.opacityForLegend(e.d3.select(this))}))},t.prototype.hideLegend=function(t){var e=this,n=e.config;n.legend_show&&y(t)&&(n.legend_show=!1,e.legend.style("visibility","hidden")),e.addHiddenLegendIds(t),e.legend.selectAll(e.selectorLegends(t)).style("opacity",0).style("visibility","hidden")},t.prototype.clearLegendItemTextBoxCache=function(){this.legendItemTextBox={}},t.prototype.updateLegend=function(t,e,n){var r,o,c,l,h,f,_,y,m,S,w,v,T,A,P,C,L=this,V=L.config,G=4,E=10,I=0,R=0,k=10,D=V.legend_item_tile_width+5,F=0,X={},M={},z={},H=[0],N={},B=0;function Y(t,e){return L.legendItemTextBox[e]||(L.legendItemTextBox[e]=L.getTextRect(t.textContent,O.legendItem,t)),L.legendItemTextBox[e]}function j(e,n,r){var o,c,d=0===r,l=r===t.length-1,h=Y(e,n),f=h.width+D+(!l||L.isLegendRight||L.isLegendInset?E:0)+V.legend_padding,_=h.height+G,x=L.isLegendRight||L.isLegendInset?_:f,y=L.isLegendRight||L.isLegendInset?L.getLegendHeight():L.getLegendWidth();function m(t,e){e||(o=(y-F-x)/2)<k&&(o=(y-x)/2,F=0,B++),N[t]=B,H[B]=L.isLegendInset?10:o,X[t]=F,F+=x}d&&(F=0,B=0,I=0,R=0),!V.legend_show||L.isLegendToShow(n)?(M[n]=f,z[n]=_,(!I||f>=I)&&(I=f),(!R||_>=R)&&(R=_),c=L.isLegendRight||L.isLegendInset?R:I,V.legend_equally?(Object.keys(M).forEach((function(t){M[t]=I})),Object.keys(z).forEach((function(t){z[t]=R})),(o=(y-c*t.length)/2)<k?(F=0,B=0,t.forEach((function(t){m(t)}))):m(n,!0)):m(n)):M[n]=z[n]=N[n]=X[n]=0}t=t.filter((function(t){return!x(V.data_names[t])||null!==V.data_names[t]})),w=d(e=e||{},"withTransition",!0),v=d(e,"withTransitionForTransform",!0),L.isLegendInset&&(B=V.legend_inset_step?V.legend_inset_step:t.length,L.updateLegendStep(B)),L.isLegendRight?(r=function(t){return I*N[t]},l=function(t){return H[N[t]]+X[t]}):L.isLegendInset?(r=function(t){return I*N[t]+10},l=function(t){return H[N[t]]+X[t]}):(r=function(t){return H[N[t]]+X[t]},l=function(t){return R*N[t]}),o=function(t,i){return r(t,i)+4+V.legend_item_tile_width},h=function(t,i){return l(t,i)+9},c=function(t,i){return r(t,i)},f=function(t,i){return l(t,i)-5},_=function(t,i){return r(t,i)-2},y=function(t,i){return r(t,i)-2+V.legend_item_tile_width},m=function(t,i){return l(t,i)+4},(S=L.legend.selectAll("."+O.legendItem).data(t).enter().append("g").attr("class",(function(t){return L.generateClass(O.legendItem,t)})).style("visibility",(function(t){return L.isLegendToShow(t)?"visible":"hidden"})).style("cursor",(function(){return V.interaction_enabled?"pointer":"auto"})).on("click",V.interaction_enabled?function(t){V.legend_item_onclick?V.legend_item_onclick.call(L,t):L.d3.event.altKey?(L.api.hide(),L.api.show(t)):(L.api.toggle(t),L.isTargetToShow(t)?L.api.focus(t):L.api.revert())}:null).on("mouseover",V.interaction_enabled?function(t){V.legend_item_onmouseover?V.legend_item_onmouseover.call(L,t):(L.d3.select(this).classed(O.legendItemFocused,!0),!L.transiting&&L.isTargetToShow(t)&&L.api.focus(t))}:null).on("mouseout",V.interaction_enabled?function(t){V.legend_item_onmouseout?V.legend_item_onmouseout.call(L,t):(L.d3.select(this).classed(O.legendItemFocused,!1),L.api.revert())}:null)).append("text").text((function(t){return x(V.data_names[t])?V.data_names[t]:t})).each((function(t,i){j(this,t,i)})).style("pointer-events","none").attr("x",L.isLegendRight||L.isLegendInset?o:-200).attr("y",L.isLegendRight||L.isLegendInset?-200:h),S.append("rect").attr("class",O.legendItemEvent).style("fill-opacity",0).attr("x",L.isLegendRight||L.isLegendInset?c:-200).attr("y",L.isLegendRight||L.isLegendInset?-200:f),S.append("line").attr("class",O.legendItemTile).style("stroke",L.color).style("pointer-events","none").attr("x1",L.isLegendRight||L.isLegendInset?_:-200).attr("y1",L.isLegendRight||L.isLegendInset?-200:m).attr("x2",L.isLegendRight||L.isLegendInset?y:-200).attr("y2",L.isLegendRight||L.isLegendInset?-200:m).attr("stroke-width",V.legend_item_tile_height),C=L.legend.select("."+O.legendBackground+" rect"),L.isLegendInset&&I>0&&0===C.size()&&(C=L.legend.insert("g","."+O.legendItem).attr("class",O.legendBackground).append("rect")),T=L.legend.selectAll("text").data(t).text((function(t){return x(V.data_names[t])?V.data_names[t]:t})).each((function(t,i){j(this,t,i)})),(w?T.transition():T).attr("x",o).attr("y",h),A=L.legend.selectAll("rect."+O.legendItemEvent).data(t),(w?A.transition():A).attr("width",(function(t){return M[t]})).attr("height",(function(t){return z[t]})).attr("x",c).attr("y",f),P=L.legend.selectAll("line."+O.legendItemTile).data(t),(w?P.transition():P).style("stroke",L.levelColor?function(t){return L.levelColor(L.cache[t].values.reduce((function(t,e){return t+e.value}),0))}:L.color).attr("x1",_).attr("y1",m).attr("x2",y).attr("y2",m),C&&(w?C.transition():C).attr("height",L.getLegendHeight()-12).attr("width",I*(B+1)+10),L.legend.selectAll("."+O.legendItem).classed(O.legendItemHidden,(function(t){return!L.isTargetToShow(t)})),L.updateLegendItemWidth(I),L.updateLegendItemHeight(R),L.updateLegendStep(B),L.updateSizes(),L.updateScales(),L.updateSvgSize(),L.transformAll(v,n),L.legendHasRendered=!0},t.prototype.initRegion=function(){var t=this;t.region=t.main.append("g").attr("clip-path",t.clipPath).attr("class",O.regions)},t.prototype.updateRegion=function(t){var e=this,n=e.config;e.region.style("visibility",e.hasArcType()?"hidden":"visible");var r=e.main.select("."+O.regions).selectAll("."+O.region).data(n.regions),g=r.enter().append("g");g.append("rect").attr("x",e.regionX.bind(e)).attr("y",e.regionY.bind(e)).attr("width",e.regionWidth.bind(e)).attr("height",e.regionHeight.bind(e)).style("fill-opacity",(function(t){return T(t.opacity)?t.opacity:.1})),g.append("text").text(e.labelRegion.bind(e)),e.mainRegion=g.merge(r).attr("class",e.classRegion.bind(e)),r.exit().transition().duration(t).style("opacity",0).remove()},t.prototype.redrawRegion=function(t,e){var n=this,r=n.mainRegion,o=n.mainRegion.selectAll("text");return[(t?r.transition(e):r).attr("x",n.regionX.bind(n)).attr("y",n.regionY.bind(n)).attr("width",n.regionWidth.bind(n)).attr("height",n.regionHeight.bind(n)).style("fill-opacity",(function(t){return T(t.opacity)?t.opacity:.1})),(t?o.transition(e):o).attr("x",n.labelOffsetX.bind(n)).attr("y",n.labelOffsetY.bind(n)).attr("transform",n.labelTransform.bind(n)).attr("style","text-anchor: left;")]},t.prototype.regionX=function(t){var e=this,n=e.config,r="y"===t.axis?e.y:e.y2;return"y"===t.axis||"y2"===t.axis?n.axis_rotated&&"start"in t?r(t.start):0:n.axis_rotated?0:"start"in t?e.x(e.isTimeSeries()?e.parseDate(t.start):t.start):0},t.prototype.regionY=function(t){var e=this,n=e.config,r="y"===t.axis?e.y:e.y2;return"y"===t.axis||"y2"===t.axis?n.axis_rotated?0:"end"in t?r(t.end):0:n.axis_rotated&&"start"in t?e.x(e.isTimeSeries()?e.parseDate(t.start):t.start):0},t.prototype.regionWidth=function(t){var e,n=this,r=n.config,o=n.regionX(t),c="y"===t.axis?n.y:n.y2;return(e="y"===t.axis||"y2"===t.axis?r.axis_rotated&&"end"in t?c(t.end):n.width:r.axis_rotated?n.width:"end"in t?n.x(n.isTimeSeries()?n.parseDate(t.end):t.end):n.width)<o?0:e-o},t.prototype.regionHeight=function(t){var e,n=this,r=n.config,o=this.regionY(t),c="y"===t.axis?n.y:n.y2;return(e="y"===t.axis||"y2"===t.axis?r.axis_rotated?n.height:"start"in t?c(t.start):n.height:r.axis_rotated&&"end"in t?n.x(n.isTimeSeries()?n.parseDate(t.end):t.end):n.height)<o?0:e-o},t.prototype.isRegionOnX=function(t){return!t.axis||"x"===t.axis},t.prototype.labelRegion=function(t){return"label"in t?t.label:""},t.prototype.labelTransform=function(t){return"vertical"in t&&t.vertical?"rotate(90)":""},t.prototype.labelOffsetX=function(t){var e="paddingX"in t?t.paddingX:3,n="paddingY"in t?t.paddingY:3;return"vertical"in t&&t.vertical?this.regionY(t)+n:this.regionX(t)+e},t.prototype.labelOffsetY=function(t){var e="paddingX"in t?t.paddingX:3,n="paddingY"in t?t.paddingY:3;return"vertical"in t&&t.vertical?-(this.regionX(t)+e):this.regionY(t)+10+n},t.prototype.getScale=function(t,e,n){return(n?this.d3.scaleTime():this.d3.scaleLinear()).range([t,e])},t.prototype.getX=function(t,e,n,r){var o,c=this,d=c.getScale(t,e,c.isTimeSeries()),l=n?d.domain(n):d;for(o in c.isCategorized()?(r=r||function(){return 0},d=function(t,e){var n=l(t)+r(t);return e?n:Math.ceil(n)}):d=function(t,e){var n=l(t);return e?n:Math.ceil(n)},l)d[o]=l[o];return d.orgDomain=function(){return l.domain()},c.isCategorized()&&(d.domain=function(t){return arguments.length?(l.domain(t),d):[(t=this.orgDomain())[0],t[1]+1]}),d},t.prototype.getY=function(t,e,n){var r;if("timeseries"===t||"time"===t)r=this.d3.scaleTime();else if("log"===t)r=D(this.d3);else{if("linear"!==t&&void 0!==t)throw new Error('Invalid Y axis type: "'+t+'"');r=this.d3.scaleLinear()}return e&&r.domain(e),n&&r.range(n),r},t.prototype.getYScale=function(t){return"y2"===this.axis.getId(t)?this.y2:this.y},t.prototype.getSubYScale=function(t){return"y2"===this.axis.getId(t)?this.subY2:this.subY},t.prototype.updateScales=function(){var t=this,e=t.config,n=!t.x;t.xMin=e.axis_rotated?1:0,t.xMax=e.axis_rotated?t.height:t.width,t.yMin=e.axis_rotated?0:t.height,t.yMax=e.axis_rotated?t.width:1,t.subXMin=t.xMin,t.subXMax=t.xMax,t.subYMin=e.axis_rotated?0:t.height2,t.subYMax=e.axis_rotated?t.width2:1,t.x=t.getX(t.xMin,t.xMax,n?void 0:t.x.orgDomain(),(function(){return t.xAxis.tickOffset()})),t.y=t.getY(e.axis_y_type,n?e.axis_y_default:t.y.domain(),[t.yMin,t.yMax]),t.y2=t.getY(e.axis_y2_type,n?e.axis_y2_default:t.y2.domain(),[t.yMin,t.yMax]),t.subX=t.getX(t.xMin,t.xMax,t.orgXDomain,(function(e){return e%1?0:t.subXAxis.tickOffset()})),t.subY=t.getY(e.axis_y_type,n?e.axis_y_default:t.subY.domain(),[t.subYMin,t.subYMax]),t.subY2=t.getY(e.axis_y2_type,n?e.axis_y2_default:t.subY2.domain(),[t.subYMin,t.subYMax]),t.xAxisTickFormat=t.axis.getXAxisTickFormat(),t.xAxisTickValues=t.axis.getXAxisTickValues(),t.yAxisTickValues=t.axis.getYAxisTickValues(),t.y2AxisTickValues=t.axis.getY2AxisTickValues(),t.xAxis=t.axis.getXAxis(t.x,t.xOrient,t.xAxisTickFormat,t.xAxisTickValues,e.axis_x_tick_outer),t.subXAxis=t.axis.getXAxis(t.subX,t.subXOrient,t.xAxisTickFormat,t.xAxisTickValues,e.axis_x_tick_outer),t.yAxis=t.axis.getYAxis("y",t.y,t.yOrient,t.yAxisTickValues,e.axis_y_tick_outer),t.y2Axis=t.axis.getYAxis("y2",t.y2,t.y2Orient,t.y2AxisTickValues,e.axis_y2_tick_outer),n||t.brush&&t.brush.updateScale(t.subX),t.updateArc&&t.updateArc()},t.prototype.selectPoint=function(t,e,i){var n=this,r=n.config,o=(r.axis_rotated?n.circleY:n.circleX).bind(n),c=(r.axis_rotated?n.circleX:n.circleY).bind(n),d=n.pointSelectR.bind(n);r.data_onselected.call(n.api,e,t.node()),n.main.select("."+O.selectedCircles+n.getTargetSelectorSuffix(e.id)).selectAll("."+O.selectedCircle+"-"+i).data([e]).enter().append("circle").attr("class",(function(){return n.generateClass(O.selectedCircle,i)})).attr("cx",o).attr("cy",c).attr("stroke",(function(){return n.color(e)})).attr("r",(function(t){return 1.4*n.pointSelectR(t)})).transition().duration(100).attr("r",d)},t.prototype.unselectPoint=function(t,e,i){var n=this;n.config.data_onunselected.call(n.api,e,t.node()),n.main.select("."+O.selectedCircles+n.getTargetSelectorSuffix(e.id)).selectAll("."+O.selectedCircle+"-"+i).transition().duration(100).attr("r",0).remove()},t.prototype.togglePoint=function(t,e,n,i){t?this.selectPoint(e,n,i):this.unselectPoint(e,n,i)},t.prototype.selectPath=function(t,e){var n=this;n.config.data_onselected.call(n,e,t.node()),n.config.interaction_brighten&&t.transition().duration(100).style("fill",(function(){return n.d3.rgb(n.color(e)).brighter(.75)}))},t.prototype.unselectPath=function(t,e){var n=this;n.config.data_onunselected.call(n,e,t.node()),n.config.interaction_brighten&&t.transition().duration(100).style("fill",(function(){return n.color(e)}))},t.prototype.togglePath=function(t,e,n,i){t?this.selectPath(e,n,i):this.unselectPath(e,n,i)},t.prototype.getToggle=function(t,e){var n,r=this;return"circle"===t.nodeName?n=r.isStepType(e)?function(){}:r.togglePoint:"path"===t.nodeName&&(n=r.togglePath),n},t.prototype.toggleShape=function(t,e,i){var n=this,r=n.d3,o=n.config,c=r.select(t),d=c.classed(O.SELECTED),l=n.getToggle(t,e).bind(n);o.data_selection_enabled&&o.data_selection_isselectable(e)&&(o.data_selection_multiple||n.main.selectAll("."+O.shapes+(o.data_selection_grouped?n.getTargetSelectorSuffix(e.id):"")).selectAll("."+O.shape).each((function(t,i){var e=r.select(this);e.classed(O.SELECTED)&&l(!1,e.classed(O.SELECTED,!1),t,i)})),c.classed(O.SELECTED,!d),l(!d,c,e,i))},t.prototype.initBar=function(){this.main.select("."+O.chart).append("g").attr("class",O.chartBars)},t.prototype.updateTargetsForBar=function(t){var e=this,n=e.config,r=e.classChartBar.bind(e),o=e.classBars.bind(e),c=e.classFocus.bind(e);e.main.select("."+O.chartBars).selectAll("."+O.chartBar).data(t).attr("class",(function(t){return r(t)+c(t)})).enter().append("g").attr("class",r).style("pointer-events","none").append("g").attr("class",o).style("cursor",(function(t){return n.data_selection_isselectable(t)?"pointer":null}))},t.prototype.updateBar=function(t){var e=this,n=e.barData.bind(e),r=e.classBar.bind(e),o=e.initialOpacity.bind(e),c=function(t){return e.color(t.id)},d=e.main.selectAll("."+O.bars).selectAll("."+O.bar).data(n),l=d.enter().append("path").attr("class",r).style("stroke",c).style("fill",c);e.mainBar=l.merge(d).style("opacity",o),d.exit().transition().duration(t).style("opacity",0)},t.prototype.redrawBar=function(t,e,n){var r=this;return[(e?this.mainBar.transition(n):this.mainBar).attr("d",t).style("stroke",this.color).style("fill",this.color).style("opacity",(function(t){return r.isTargetToShow(t.id)?1:0}))]},t.prototype.getBarW=function(t,e){var n=this.config,r="number"==typeof n.bar_width?n.bar_width:e?t.tickInterval()*n.bar_width_ratio/e:0;return n.bar_width_max&&r>n.bar_width_max?n.bar_width_max:r},t.prototype.getBars=function(i,t){var e=this;return(t?e.main.selectAll("."+O.bars+e.getTargetSelectorSuffix(t)):e.main).selectAll("."+O.bar+(T(i)?"-"+i:""))},t.prototype.expandBars=function(i,t,e){var n=this;e&&n.unexpandBars(),n.getBars(i,t).classed(O.EXPANDED,!0)},t.prototype.unexpandBars=function(i){this.getBars(i).classed(O.EXPANDED,!1)},t.prototype.generateDrawBar=function(t,e){var n=this,r=n.config,o=n.generateGetBarPoints(t,e);return function(t,i){var e=o(t,i),n=r.axis_rotated?1:0,c=r.axis_rotated?0:1;return"M "+e[0][n]+","+e[0][c]+" L"+e[1][n]+","+e[1][c]+" L"+e[2][n]+","+e[2][c]+" L"+e[3][n]+","+e[3][c]+" z"}},t.prototype.generateGetBarPoints=function(t,e){var n=this,r=e?n.subXAxis:n.xAxis,o=t.__max__+1,c=n.getBarW(r,o),d=n.getShapeX(c,o,t,!!e),l=n.getShapeY(!!e),h=n.getShapeOffset(n.isBarType,t,!!e),f=c*(n.config.bar_space/2),_=e?n.getSubYScale:n.getYScale;return function(t,i){var e=_.call(n,t.id)(0),r=h(t,i)||e,o=d(t),x=l(t);return n.config.axis_rotated&&(0<t.value&&x<e||t.value<0&&e<x)&&(x=e),[[o+f,r],[o+f,x-=e-r],[o+c-f,x],[o+c-f,r]]}},t.prototype.isWithinBar=function(t,e){return L(t,h(e),2)},t.prototype.getShapeIndices=function(t){var e,n,r=this,o=r.config,c={},i=0;return r.filterTargetsToShow(r.data.targets.filter(t,r)).forEach((function(t){for(e=0;e<o.data_groups.length;e++)if(!(o.data_groups[e].indexOf(t.id)<0))for(n=0;n<o.data_groups[e].length;n++)if(o.data_groups[e][n]in c){c[t.id]=c[o.data_groups[e][n]];break}v(c[t.id])&&(c[t.id]=i++)})),c.__max__=i-1,c},t.prototype.getShapeX=function(t,e,n,r){var o=this,c=r?o.subX:o.x;return function(r){var o=r.id in n?n[r.id]:0;return r.x||0===r.x?c(r.x)-t*(e/2-o):0}},t.prototype.getShapeY=function(t){var e=this;return function(n){return(t?e.getSubYScale(n.id):e.getYScale(n.id))(e.isTargetNormalized(n.id)?e.getRatio("index",n,!0):n.value)}},t.prototype.getShapeOffset=function(t,e,n){var r=this,o=r.orderTargets(r.filterTargetsToShow(r.data.targets.filter(t,r))),c=o.map((function(t){return t.id}));return function(t,i){var d=n?r.getSubYScale(t.id):r.getYScale(t.id),l=d(0),h=l;return o.forEach((function(n){var o=r.isStepType(t)?r.convertValuesToStep(n.values):n.values,f=r.isTargetNormalized(t.id),_=o.map((function(t){return f?r.getRatio("index",t,!0):t.value}));n.id!==t.id&&e[n.id]===e[t.id]&&c.indexOf(n.id)<c.indexOf(t.id)&&((v(o[i])||+o[i].x!=+t.x)&&(i=-1,o.forEach((function(e,n){(e.x.constructor===Date?+e.x:e.x)===(t.x.constructor===Date?+t.x:t.x)&&(i=n)}))),i in o&&o[i].value*t.value>=0&&(h+=d(_[i])-l))})),h}},t.prototype.isWithinShape=function(t,e){var n,r=this,o=r.d3.select(t);return r.isTargetToShow(e.id)?"circle"===t.nodeName?n=r.isStepType(e)?r.isWithinStep(t,r.getYScale(e.id)(e.value)):r.isWithinCircle(t,1.5*r.pointSelectR(e)):"path"===t.nodeName&&(n=!o.classed(O.bar)||r.isWithinBar(r.d3.mouse(t),t)):n=!1,n},t.prototype.getInterpolate=function(t){var e=this,n=e.d3,r={linear:n.curveLinear,"linear-closed":n.curveLinearClosed,basis:n.curveBasis,"basis-open":n.curveBasisOpen,"basis-closed":n.curveBasisClosed,bundle:n.curveBundle,cardinal:n.curveCardinal,"cardinal-open":n.curveCardinalOpen,"cardinal-closed":n.curveCardinalClosed,monotone:n.curveMonotoneX,step:n.curveStep,"step-before":n.curveStepBefore,"step-after":n.curveStepAfter};return e.isSplineType(t)?r[e.config.spline_interpolation_type]||r.cardinal:e.isStepType(t)?r[e.config.line_step_type]:r.linear},t.prototype.initLine=function(){this.main.select("."+O.chart).append("g").attr("class",O.chartLines)},t.prototype.updateTargetsForLine=function(t){var e,n=this,r=n.config,o=n.classChartLine.bind(n),c=n.classLines.bind(n),d=n.classAreas.bind(n),l=n.classCircles.bind(n),h=n.classFocus.bind(n);(e=n.main.select("."+O.chartLines).selectAll("."+O.chartLine).data(t).attr("class",(function(t){return o(t)+h(t)})).enter().append("g").attr("class",o).style("opacity",0).style("pointer-events","none")).append("g").attr("class",c),e.append("g").attr("class",d),e.append("g").attr("class",(function(t){return n.generateClass(O.selectedCircles,t.id)})),e.append("g").attr("class",l).style("cursor",(function(t){return r.data_selection_isselectable(t)?"pointer":null})),t.forEach((function(t){n.main.selectAll("."+O.selectedCircles+n.getTargetSelectorSuffix(t.id)).selectAll("."+O.selectedCircle).each((function(e){e.value=t.values[e.index].value}))}))},t.prototype.updateLine=function(t){var e=this,n=e.main.selectAll("."+O.lines).selectAll("."+O.line).data(e.lineData.bind(e)),r=n.enter().append("path").attr("class",e.classLine.bind(e)).style("stroke",e.color);e.mainLine=r.merge(n).style("opacity",e.initialOpacity.bind(e)).style("shape-rendering",(function(t){return e.isStepType(t)?"crispEdges":""})).attr("transform",null),n.exit().transition().duration(t).style("opacity",0)},t.prototype.redrawLine=function(t,e,n){return[(e?this.mainLine.transition(n):this.mainLine).attr("d",t).style("stroke",this.color).style("opacity",1)]},t.prototype.generateDrawLine=function(t,e){var n=this,r=n.config,line=n.d3.line(),o=n.generateGetLinePoints(t,e),c=e?n.getSubYScale:n.getYScale,d=function(t){return(e?n.subxx:n.xx).call(n,t)},l=function(t,i){return r.data_groups.length>0?o(t,i)[0][1]:c.call(n,t.id)(t.value)};return line=r.axis_rotated?line.x(l).y(d):line.x(d).y(l),r.line_connectNull||(line=line.defined((function(t){return null!=t.value}))),function(t){var path,o=r.line_connectNull?n.filterRemoveNull(t.values):t.values,d=e?n.subX:n.x,l=c.call(n,t.id),h=0,f=0;return n.isLineType(t)?r.data_regions[t.id]?path=n.lineWithRegions(o,d,l,r.data_regions[t.id]):(n.isStepType(t)&&(o=n.convertValuesToStep(o)),path=line.curve(n.getInterpolate(t))(o)):(o[0]&&(h=d(o[0].x),f=l(o[0].value)),path=r.axis_rotated?"M "+f+" "+h:"M "+h+" "+f),path||"M 0 0"}},t.prototype.generateGetLinePoints=function(t,e){var n=this,r=n.config,o=t.__max__+1,c=n.getShapeX(0,o,t,!!e),d=n.getShapeY(!!e),l=n.getShapeOffset(n.isLineType,t,!!e),h=e?n.getSubYScale:n.getYScale;return function(t,i){var e=h.call(n,t.id)(0),o=l(t,i)||e,f=c(t),_=d(t);return r.axis_rotated&&(0<t.value&&_<e||t.value<0&&e<_)&&(_=e),[[f,_-(e-o)],[f,_-(e-o)],[f,_-(e-o)],[f,_-(e-o)]]}},t.prototype.lineWithRegions=function(t,e,n,r){var i,o,c,d,l,h,f,_,y,m,S,w=this,T=w.config,s="M",A=w.isCategorized()?.5:0,P=[];function C(t,e){var i;for(i=0;i<e.length;i++)if(e[i].start<t&&t<=e[i].end)return!0;return!1}if(x(r))for(i=0;i<r.length;i++)P[i]={},v(r[i].start)?P[i].start=t[0].x:P[i].start=w.isTimeSeries()?w.parseDate(r[i].start):r[i].start,v(r[i].end)?P[i].end=t[t.length-1].x:P[i].end=w.isTimeSeries()?w.parseDate(r[i].end):r[i].end;function L(t){return"M"+t[0][0]+" "+t[0][1]+" "+t[1][0]+" "+t[1][1]}for(m=T.axis_rotated?function(t){return n(t.value)}:function(t){return e(t.x)},S=T.axis_rotated?function(t){return e(t.x)}:function(t){return n(t.value)},c=w.isTimeSeries()?function(t,r,o,c){var d=t.x.getTime(),h=r.x-t.x,f=new Date(d+h*o),_=new Date(d+h*(o+c));return L(T.axis_rotated?[[n(l(o)),e(f)],[n(l(o+c)),e(_)]]:[[e(f),n(l(o))],[e(_),n(l(o+c))]])}:function(t,r,o,c){return L(T.axis_rotated?[[n(l(o),!0),e(d(o))],[n(l(o+c),!0),e(d(o+c))]]:[[e(d(o),!0),n(l(o))],[e(d(o+c),!0),n(l(o+c))]])},i=0;i<t.length;i++){if(v(P)||!C(t[i].x,P))s+=" "+m(t[i])+" "+S(t[i]);else for(d=w.getScale(t[i-1].x+A,t[i].x+A,w.isTimeSeries()),l=w.getScale(t[i-1].value,t[i].value),h=e(t[i].x)-e(t[i-1].x),f=n(t[i].value)-n(t[i-1].value),y=2*(_=2/Math.sqrt(Math.pow(h,2)+Math.pow(f,2))),o=_;o<=1;o+=y)s+=c(t[i-1],t[i],o,_);t[i].x}return s},t.prototype.updateArea=function(t){var e=this,n=e.d3,r=e.main.selectAll("."+O.areas).selectAll("."+O.area).data(e.lineData.bind(e)),o=r.enter().append("path").attr("class",e.classArea.bind(e)).style("fill",e.color).style("opacity",(function(){return e.orgAreaOpacity=+n.select(this).style("opacity"),0}));e.mainArea=o.merge(r).style("opacity",e.orgAreaOpacity),r.exit().transition().duration(t).style("opacity",0)},t.prototype.redrawArea=function(t,e,n){return[(e?this.mainArea.transition(n):this.mainArea).attr("d",t).style("fill",this.color).style("opacity",this.orgAreaOpacity)]},t.prototype.generateDrawArea=function(t,e){var n=this,r=n.config,area=n.d3.area(),o=n.generateGetAreaPoints(t,e),c=e?n.getSubYScale:n.getYScale,d=function(t){return(e?n.subxx:n.xx).call(n,t)},l=function(t,i){return r.data_groups.length>0?o(t,i)[0][1]:c.call(n,t.id)(n.getAreaBaseValue(t.id))},h=function(t,i){return r.data_groups.length>0?o(t,i)[1][1]:c.call(n,t.id)(t.value)};return area=r.axis_rotated?area.x0(l).x1(h).y(d):area.x(d).y0(r.area_above?0:l).y1(h),r.line_connectNull||(area=area.defined((function(t){return null!==t.value}))),function(t){var path,e=r.line_connectNull?n.filterRemoveNull(t.values):t.values,o=0,c=0;return n.isAreaType(t)?(n.isStepType(t)&&(e=n.convertValuesToStep(e)),path=area.curve(n.getInterpolate(t))(e)):(e[0]&&(o=n.x(e[0].x),c=n.getYScale(t.id)(e[0].value)),path=r.axis_rotated?"M "+c+" "+o:"M "+o+" "+c),path||"M 0 0"}},t.prototype.getAreaBaseValue=function(){return 0},t.prototype.generateGetAreaPoints=function(t,e){var n=this,r=n.config,o=t.__max__+1,c=n.getShapeX(0,o,t,!!e),d=n.getShapeY(!!e),l=n.getShapeOffset(n.isAreaType,t,!!e),h=e?n.getSubYScale:n.getYScale;return function(t,i){var e=h.call(n,t.id)(0),o=l(t,i)||e,f=c(t),_=d(t);return r.axis_rotated&&(0<t.value&&_<e||t.value<0&&e<_)&&(_=e),[[f,o],[f,_-(e-o)],[f,_-(e-o)],[f,o]]}},t.prototype.updateCircle=function(t,e){var n=this,r=n.main.selectAll("."+O.circles).selectAll("."+O.circle).data(n.lineOrScatterOrStanfordData.bind(n)),o=r.enter().append("circle").attr("shape-rendering",n.isStanfordGraphType()?"crispEdges":"").attr("class",n.classCircle.bind(n)).attr("cx",t).attr("cy",e).attr("r",n.pointR.bind(n)).style("color",n.isStanfordGraphType()?n.getStanfordPointColor.bind(n):n.color);n.mainCircle=o.merge(r).style("opacity",n.isStanfordGraphType()?1:n.initialOpacityForCircle.bind(n)),r.exit().style("opacity",0)},t.prototype.redrawCircle=function(t,e,n,r){var o=this,c=o.main.selectAll("."+O.selectedCircle);return[(n?o.mainCircle.transition(r):o.mainCircle).style("opacity",this.opacityForCircle.bind(o)).style("color",o.isStanfordGraphType()?o.getStanfordPointColor.bind(o):o.color).attr("cx",t).attr("cy",e),(n?c.transition(r):c).attr("cx",t).attr("cy",e)]},t.prototype.circleX=function(t){return t.x||0===t.x?this.x(t.x):null},t.prototype.updateCircleY=function(){var t,e,n=this;n.config.data_groups.length>0?(t=n.getShapeIndices(n.isLineType),e=n.generateGetLinePoints(t),n.circleY=function(t,i){return e(t,i)[0][1]}):n.circleY=function(t){return n.getYScale(t.id)(t.value)}},t.prototype.getCircles=function(i,t){var e=this;return(t?e.main.selectAll("."+O.circles+e.getTargetSelectorSuffix(t)):e.main).selectAll("."+O.circle+(T(i)?"-"+i:""))},t.prototype.expandCircles=function(i,t,e){var n=this,r=n.pointExpandedR.bind(n);e&&n.unexpandCircles(),n.getCircles(i,t).classed(O.EXPANDED,!0).attr("r",r)},t.prototype.unexpandCircles=function(i){var t=this,e=t.pointR.bind(t);t.getCircles(i).filter((function(){return t.d3.select(this).classed(O.EXPANDED)})).classed(O.EXPANDED,!1).attr("r",e)},t.prototype.pointR=function(t){var e=this,n=e.config;return e.isStepType(t)?0:m(n.point_r)?n.point_r(t):n.point_r},t.prototype.pointExpandedR=function(t){var e=this,n=e.config;return n.point_focus_expand_enabled?m(n.point_focus_expand_r)?n.point_focus_expand_r(t):n.point_focus_expand_r?n.point_focus_expand_r:1.75*e.pointR(t):e.pointR(t)},t.prototype.pointSelectR=function(t){var e=this,n=e.config;return m(n.point_select_r)?n.point_select_r(t):n.point_select_r?n.point_select_r:4*e.pointR(t)},t.prototype.isWithinCircle=function(t,e){var n=this.d3,r=n.mouse(t),o=n.select(t),c=+o.attr("cx"),d=+o.attr("cy");return Math.sqrt(Math.pow(c-r[0],2)+Math.pow(d-r[1],2))<e},t.prototype.isWithinStep=function(t,e){return Math.abs(e-this.d3.mouse(t)[1])<30},t.prototype.getCurrentWidth=function(){var t=this,e=t.config;return e.size_width?e.size_width:t.getParentWidth()},t.prototype.getCurrentHeight=function(){var t=this,e=t.config,n=e.size_height?e.size_height:t.getParentHeight();return n>0?n:320/(t.hasType("gauge")&&!e.gauge_fullCircle?2:1)},t.prototype.getCurrentPaddingTop=function(){var t=this,e=t.config,n=T(e.padding_top)?e.padding_top:0;return t.title&&t.title.node()&&(n+=t.getTitlePadding()),n},t.prototype.getCurrentPaddingBottom=function(){var t=this.config;return T(t.padding_bottom)?t.padding_bottom:0},t.prototype.getCurrentPaddingLeft=function(t){var e=this,n=e.config;return T(n.padding_left)?n.padding_left:n.axis_rotated?!n.axis_x_show||n.axis_x_inner?1:Math.max(o(e.getAxisWidthByAxisId("x",t)),40):!n.axis_y_show||n.axis_y_inner?e.axis.getYAxisLabelPosition().isOuter?30:1:o(e.getAxisWidthByAxisId("y",t))},t.prototype.getCurrentPaddingRight=function(){var t=this,e=t.config,n=0,r=10,c=t.isLegendRight?t.getLegendWidth()+20:0;return n=T(e.padding_right)?e.padding_right+1:e.axis_rotated?r+c:!e.axis_y2_show||e.axis_y2_inner?2+c+(t.axis.getY2AxisLabelPosition().isOuter?20:0):o(t.getAxisWidthByAxisId("y2"))+c,t.colorScale&&t.colorScale.node()&&(n+=t.getColorScalePadding()),n},t.prototype.getParentRectValue=function(t){for(var e,n=this.selectChart.node();n&&"BODY"!==n.tagName;){try{e=n.getBoundingClientRect()[t]}catch(r){"width"===t&&(e=n.offsetWidth)}if(e)break;n=n.parentNode}return e},t.prototype.getParentWidth=function(){return this.getParentRectValue("width")},t.prototype.getParentHeight=function(){var t=this.selectChart.style("height");return t.indexOf("px")>0?+t.replace("px",""):0},t.prototype.getSvgLeft=function(t){var e=this,n=e.config,r=n.axis_rotated||!n.axis_rotated&&!n.axis_y_inner,o=n.axis_rotated?O.axisX:O.axisY,c=e.main.select("."+o).node(),d=c&&r?c.getBoundingClientRect():{right:0},l=e.selectChart.node().getBoundingClientRect(),h=e.hasArcType(),f=d.right-l.left-(h?0:e.getCurrentPaddingLeft(t));return f>0?f:0},t.prototype.getAxisWidthByAxisId=function(t,e){var n=this,r=n.axis.getLabelPositionById(t);return n.axis.getMaxTickWidth(t,e)+(r.isInner?20:40)},t.prototype.getHorizontalAxisHeight=function(t,e){var n=this,r=n.config,o=30;return"x"!==t||(x(e)&&e?r.subchart_axis_x_show:r.axis_x_show)?"x"===t&&r.axis_x_height?r.axis_x_height:"y"!==t||r.axis_y_show?"y2"!==t||r.axis_y2_show?("x"===t&&!r.axis_rotated&&r.axis_x_tick_rotate&&(o=30+n.axis.getMaxTickWidth(t)*Math.cos(Math.PI*(90-Math.abs(r.axis_x_tick_rotate))/180)),"y"===t&&r.axis_rotated&&r.axis_y_tick_rotate&&(o=30+n.axis.getMaxTickWidth(t)*Math.cos(Math.PI*(90-Math.abs(r.axis_y_tick_rotate))/180)),o+(n.axis.getLabelPositionById(t).isInner?0:10)+("y2"===t?-10:0)):n.rotated_padding_top:!r.legend_show||n.isLegendRight||n.isLegendInset?1:10:8},t.prototype.initBrush=function(t){var e=this,n=e.d3;return e.brush=(e.config.axis_rotated?n.brushY():n.brushX()).on("brush",(function(){var t=n.event.sourceEvent;t&&"zoom"===t.type||e.redrawForBrush()})).on("end",(function(){var t=n.event.sourceEvent;t&&"zoom"===t.type||e.brush.empty()&&t&&"end"!==t.type&&e.brush.clear()})),e.brush.updateExtent=function(){var t,n=this.scale.range();return t=e.config.axis_rotated?[[0,n[0]],[e.width2,n[1]]]:[[n[0],0],[n[1],e.height2]],this.extent(t),this},e.brush.updateScale=function(t){return this.scale=t,this},e.brush.update=function(t){this.updateScale(t||e.subX).updateExtent(),e.context.select("."+O.brush).call(this)},e.brush.clear=function(){e.context.select("."+O.brush).call(e.brush.move,null)},e.brush.selection=function(){return n.brushSelection(e.context.select("."+O.brush).node())},e.brush.selectionAsValue=function(t,n){var r,o;return t?(e.context&&(r=[this.scale(t[0]),this.scale(t[1])],o=e.context.select("."+O.brush),n&&(o=o.transition()),e.brush.move(o,r)),[]):(r=e.brush.selection()||[0,0],[this.scale.invert(r[0]),this.scale.invert(r[1])])},e.brush.empty=function(){var t=e.brush.selection();return!t||t[0]===t[1]},e.brush.updateScale(t)},t.prototype.initSubchart=function(){var t=this,e=t.config,n=t.context=t.svg.append("g").attr("transform",t.getTranslate("context"));n.style("visibility","visible"),n.append("g").attr("clip-path",t.clipPathForSubchart).attr("class",O.chart),n.select("."+O.chart).append("g").attr("class",O.chartBars),n.select("."+O.chart).append("g").attr("class",O.chartLines),n.append("g").attr("clip-path",t.clipPath).attr("class",O.brush),t.axes.subx=n.append("g").attr("class",O.axisX).attr("transform",t.getTranslate("subx")).attr("clip-path",e.axis_rotated?"":t.clipPathForXAxis).style("visibility",e.subchart_axis_x_show?"visible":"hidden")},t.prototype.initSubchartBrush=function(){var t=this;t.initBrush(t.subX).updateExtent(),t.context.select("."+O.brush).call(t.brush)},t.prototype.updateTargetsForSubchart=function(t){var e,n,r,o,c=this,d=c.context,l=c.config,h=c.classChartBar.bind(c),f=c.classBars.bind(c),_=c.classChartLine.bind(c),x=c.classLines.bind(c),y=c.classAreas.bind(c);(r=(o=d.select("."+O.chartBars).selectAll("."+O.chartBar).data(t)).enter().append("g").style("opacity",0)).merge(o).attr("class",h),r.append("g").attr("class",f),(e=(n=d.select("."+O.chartLines).selectAll("."+O.chartLine).data(t)).enter().append("g").style("opacity",0)).merge(n).attr("class",_),e.append("g").attr("class",x),e.append("g").attr("class",y),d.selectAll("."+O.brush+" rect").attr(l.axis_rotated?"width":"height",l.axis_rotated?c.width2:c.height2)},t.prototype.updateBarForSubchart=function(t){var e=this,n=e.context.selectAll("."+O.bars).selectAll("."+O.bar).data(e.barData.bind(e)),r=n.enter().append("path").attr("class",e.classBar.bind(e)).style("stroke","none").style("fill",e.color);n.exit().transition().duration(t).style("opacity",0).remove(),e.contextBar=r.merge(n).style("opacity",e.initialOpacity.bind(e))},t.prototype.redrawBarForSubchart=function(t,e,n){(e?this.contextBar.transition(Math.random().toString()).duration(n):this.contextBar).attr("d",t).style("opacity",1)},t.prototype.updateLineForSubchart=function(t){var e=this,n=e.context.selectAll("."+O.lines).selectAll("."+O.line).data(e.lineData.bind(e)),r=n.enter().append("path").attr("class",e.classLine.bind(e)).style("stroke",e.color);n.exit().transition().duration(t).style("opacity",0).remove(),e.contextLine=r.merge(n).style("opacity",e.initialOpacity.bind(e))},t.prototype.redrawLineForSubchart=function(t,e,n){(e?this.contextLine.transition(Math.random().toString()).duration(n):this.contextLine).attr("d",t).style("opacity",1)},t.prototype.updateAreaForSubchart=function(t){var e=this,n=e.d3,r=e.context.selectAll("."+O.areas).selectAll("."+O.area).data(e.lineData.bind(e)),o=r.enter().append("path").attr("class",e.classArea.bind(e)).style("fill",e.color).style("opacity",(function(){return e.orgAreaOpacity=+n.select(this).style("opacity"),0}));r.exit().transition().duration(t).style("opacity",0).remove(),e.contextArea=o.merge(r).style("opacity",0)},t.prototype.redrawAreaForSubchart=function(t,e,n){(e?this.contextArea.transition(Math.random().toString()).duration(n):this.contextArea).attr("d",t).style("fill",this.color).style("opacity",this.orgAreaOpacity)},t.prototype.redrawSubchart=function(t,e,n,r,o,c,d){var l,h,f,_=this,x=_.d3;x.event&&"zoom"===x.event.type&&_.brush.selectionAsValue(_.x.orgDomain()),t&&(_.brush.empty()||_.brush.selectionAsValue(_.x.orgDomain()),l=_.generateDrawArea(o,!0),h=_.generateDrawBar(c,!0),f=_.generateDrawLine(d,!0),_.updateBarForSubchart(n),_.updateLineForSubchart(n),_.updateAreaForSubchart(n),_.redrawBarForSubchart(h,n,n),_.redrawLineForSubchart(f,n,n),_.redrawAreaForSubchart(l,n,n))},t.prototype.redrawForBrush=function(){var s,t=this,e=t.x,n=t.d3;t.redraw({withTransition:!1,withY:t.config.zoom_rescale,withSubchart:!1,withUpdateXDomain:!0,withEventRect:!1,withDimension:!1}),s=n.event.selection||t.brush.scale.range(),t.main.select("."+O.eventRect).call(t.zoom.transform,n.zoomIdentity.scale(t.width/(s[1]-s[0])).translate(-s[0],0)),t.config.subchart_onbrush.call(t.api,e.orgDomain())},t.prototype.transformContext=function(t,e){var n,r=this;e&&e.axisSubX?n=e.axisSubX:(n=r.context.select("."+O.axisX),t&&(n=n.transition())),r.context.attr("transform",r.getTranslate("context")),n.attr("transform",r.getTranslate("subx"))},t.prototype.getDefaultSelection=function(){var t=this,e=t.config,n=m(e.axis_x_selection)?e.axis_x_selection(t.getXDomain(t.data.targets)):e.axis_x_selection;return t.isTimeSeries()&&(n=[t.parseDate(n[0]),t.parseDate(n[1])]),n},t.prototype.removeSubchart=function(){var t=this;t.brush=null,t.context.remove(),t.context=null},t.prototype.initText=function(){var t=this;t.main.select("."+O.chart).append("g").attr("class",O.chartTexts),t.mainText=t.d3.selectAll([])},t.prototype.updateTargetsForText=function(t){var e=this,n=e.classChartText.bind(e),r=e.classTexts.bind(e),o=e.classFocus.bind(e),c=e.main.select("."+O.chartTexts).selectAll("."+O.chartText).data(t),d=c.enter().append("g").attr("class",n).style("opacity",0).style("pointer-events","none");d.append("g").attr("class",r),d.merge(c).attr("class",(function(t){return n(t)+o(t)}))},t.prototype.updateText=function(t,e,n){var r=this,o=r.config,c=r.barOrLineData.bind(r),d=r.classText.bind(r),l=r.main.selectAll("."+O.texts).selectAll("."+O.text).data(c),h=l.enter().append("text").attr("class",d).attr("text-anchor",(function(t){return o.axis_rotated?t.value<0?"end":"start":"middle"})).style("stroke","none").attr("x",t).attr("y",e).style("fill",(function(t){return r.color(t)})).style("fill-opacity",0);r.mainText=h.merge(l).text((function(t,i,e){return r.dataLabelFormat(t.id)(t.value,t.id,i,e)})),l.exit().transition().duration(n).style("fill-opacity",0).remove()},t.prototype.redrawText=function(t,e,n,r,o){return[(r?this.mainText.transition(o):this.mainText).attr("x",t).attr("y",e).style("fill",this.color).style("fill-opacity",n?0:this.opacityForText.bind(this))]},t.prototype.getTextRect=function(text,t,element){var rect,e=this.d3.select("body").append("div").classed("c3",!0),svg=e.append("svg").style("visibility","hidden").style("position","fixed").style("top",0).style("left",0),n=this.d3.select(element).style("font");return svg.selectAll(".dummy").data([text]).enter().append("text").classed(t||"",!0).style("font",n).text(text).each((function(){rect=h(this)})),e.remove(),rect},t.prototype.generateXYForText=function(t,e,n,r){var o=this,c=o.generateGetAreaPoints(t,!1),d=o.generateGetBarPoints(e,!1),l=o.generateGetLinePoints(n,!1),h=r?o.getXForText:o.getYForText;return function(t,i){var e=o.isAreaType(t)?c:o.isBarType(t)?d:l;return h.call(o,e(t,i),t,this)}},t.prototype.getXForText=function(t,e,n){var r,o,c=this,d=h(n);return c.config.axis_rotated?(o=c.isBarType(e)?4:6,r=t[2][1]+o*(e.value<0?-1:1)):r=c.hasType("bar")?(t[2][0]+t[0][0])/2:t[0][0],null===e.value&&(r>c.width?r=c.width-d.width:r<0&&(r=4)),r},t.prototype.getYForText=function(t,e,n){var r,o=this,c=h(n);return o.config.axis_rotated?r=(t[0][0]+t[2][0]+.6*c.height)/2:(r=t[2][1],e.value<0||0===e.value&&!o.hasPositiveValue?(r+=c.height,o.isBarType(e)&&o.isSafari()?r-=3:!o.isBarType(e)&&o.isChrome()&&(r+=3)):r+=o.isBarType(e)?-3:-6),null!==e.value||o.config.axis_rotated||(r<c.height?r=c.height:r>this.height&&(r=this.height-4)),r},t.prototype.initTitle=function(){var t=this;t.title=t.svg.append("text").text(t.config.title_text).attr("class",t.CLASS.title)},t.prototype.redrawTitle=function(){var t=this;t.title.attr("x",t.xForTitle.bind(t)).attr("y",t.yForTitle.bind(t))},t.prototype.xForTitle=function(){var t=this,e=t.config,n=e.title_position||"left";return n.indexOf("right")>=0?t.currentWidth-t.getTextRect(t.title.node().textContent,t.CLASS.title,t.title.node()).width-e.title_padding.right:n.indexOf("center")>=0?Math.max((t.currentWidth-t.getTextRect(t.title.node().textContent,t.CLASS.title,t.title.node()).width)/2,0):e.title_padding.left},t.prototype.yForTitle=function(){var t=this;return t.config.title_padding.top+t.getTextRect(t.title.node().textContent,t.CLASS.title,t.title.node()).height},t.prototype.getTitlePadding=function(){var t=this;return t.yForTitle()+t.config.title_padding.bottom},t.prototype.drawColorScale=function(){var t,e,n,r,o,c,d,l,h=this,f=h.d3,_=h.config,x=h.data.targets[0];if(t=isNaN(_.stanford_scaleWidth)?20:_.stanford_scaleWidth,(e=5)<0||t<0)throw Error("Colorscale's barheight and barwidth must be greater than 0.");l=h.height-_.stanford_padding.bottom-_.stanford_padding.top,r=f.range(_.stanford_padding.bottom,l,e),d=f.scaleSequential(x.colors).domain([r[r.length-1],r[0]]),h.colorScale&&h.colorScale.remove(),h.colorScale=h.svg.append("g").attr("width",50).attr("height",l).attr("class",O.colorScale),h.colorScale.append("g").attr("transform","translate(0, "+_.stanford_padding.top+")").selectAll("bars").data(r).enter().append("rect").attr("y",(function(t,i){return i*e})).attr("x",0).attr("width",t).attr("height",e).attr("fill",(function(t){return d(t)})),c=f.scaleLog().domain([x.minEpochs,x.maxEpochs]).range([r[0]+_.stanford_padding.top+r[r.length-1]+e-1,r[0]+_.stanford_padding.top]),o=f.axisRight(c),"pow10"===_.stanford_scaleFormat?o.tickValues([1,10,100,1e3,1e4,1e5,1e6,1e7]):m(_.stanford_scaleFormat)?o.tickFormat(_.stanford_scaleFormat):o.tickFormat(f.format("d")),m(_.stanford_scaleValues)&&o.tickValues(_.stanford_scaleValues(x.minEpochs,x.maxEpochs)),n=h.colorScale.append("g").attr("class","legend axis").attr("transform","translate("+t+",0)").call(o),"pow10"===_.stanford_scaleFormat&&n.selectAll(".tick text").text(null).filter(F).text(10).append("tspan").attr("dy","-.7em").text((function(t){return Math.round(Math.log(t)/Math.LN10)})),h.colorScale.attr("transform","translate("+(h.currentWidth-h.xForColorScale())+", 0)")},t.prototype.xForColorScale=function(){var t=this;return t.config.stanford_padding.right+h(t.colorScale.node()).width},t.prototype.getColorScalePadding=function(){var t=this;return t.xForColorScale()+t.config.stanford_padding.left+20},t.prototype.isStanfordGraphType=function(){return"stanford"===this.config.data_type},t.prototype.initStanfordData=function(){var t,e,n,r=this,o=r.d3,c=r.config,d=r.data.targets[0];if(d.values.sort(z),t=d.values.map((function(a){return a.epochs})),(n=isNaN(c.stanford_scaleMin)?o.min(t):c.stanford_scaleMin)>(e=isNaN(c.stanford_scaleMax)?o.max(t):c.stanford_scaleMax))throw Error("Number of minEpochs has to be smaller than maxEpochs");d.colors=m(c.stanford_colors)?c.stanford_colors:o.interpolateHslLong(o.hsl(250,1,.5),o.hsl(0,1,.5)),d.colorscale=o.scaleSequentialLog(d.colors).domain([n,e]),d.minEpochs=n,d.maxEpochs=e},t.prototype.getStanfordPointColor=function(t){return this.data.targets[0].colorscale(t.epochs)},t.prototype.getCentroid=function(t){var i,e,n,r,o,area=X(t),c=0,d=0;for(i=0,e=t.length-1;i<t.length;e=i,i+=1)r=t[i],o=t[e],n=r.x*o.y-o.x*r.y,c+=(r.x+o.x)*n,d+=(r.y+o.y)*n;return{x:c/(n=6*area),y:d/n}},t.prototype.getStanfordTooltipTitle=function(t){var e=this,n=e.axis.getLabelText("x"),r=e.axis.getLabelText("y");return"\n      <tr><th>"+(n?P(n):"x")+"</th><th class='value'>"+t.x+"</th></tr>\n      <tr><th>"+(r?P(r):"y")+"</th><th class='value'>"+t.value+"</th></tr>\n    "},t.prototype.countEpochsInRegion=function(t){var e,n,r=this.data.targets[0];return e=r.values.reduce((function(t,e){return t+Number(e.epochs)}),0),{value:n=r.values.reduce((function(e,n){return M(n,t)?e+Number(n.epochs):e}),0),percentage:0!==n?(n/e*100).toFixed(1):0}};var X=function(t){var i,e,n,r,area=0;for(i=0,e=t.length-1;i<t.length;e=i,i+=1)n=t[i],r=t[e],area+=n.x*r.y,area-=n.y*r.x;return area/=2},M=function(t,e){for(var n,r,o,c,d=t.x,l=t.value,h=!1,i=0,f=e.length-1;i<e.length;f=i++)n=e[i].x,r=e[i].y,c=e[f].x,r>l!=(o=e[f].y)>l&&d<(c-n)*(l-r)/(o-r)+n&&(h=!h);return h},z=function(a,b){return a.epochs<b.epochs?-1:a.epochs>b.epochs?1:0};return t.prototype.initStanfordElements=function(){var t=this;t.stanfordElements=t.main.select("."+O.chart).append("g").attr("class",O.stanfordElements),t.stanfordElements.append("g").attr("class",O.stanfordLines),t.stanfordElements.append("g").attr("class",O.stanfordTexts),t.stanfordElements.append("g").attr("class",O.stanfordRegions)},t.prototype.updateStanfordElements=function(t){var e,n,r,o,c,d,l=this,main=l.main,h=l.config,f=l.xvCustom.bind(l),_=l.yvCustom.bind(l),x=l.countEpochsInRegion.bind(l);(n=(e=main.select("."+O.stanfordLines).style("shape-rendering","geometricprecision").selectAll("."+O.stanfordLine).data(h.stanford_lines)).enter().append("g").attr("class",(function(t){return O.stanfordLine+(t.class?" "+t.class:"")}))).append("line").attr("x1",(function(t){return h.axis_rotated?_(t,"value_y1"):f(t,"value_x1")})).attr("x2",(function(t){return h.axis_rotated?_(t,"value_y2"):f(t,"value_x2")})).attr("y1",(function(t){return h.axis_rotated?f(t,"value_x1"):_(t,"value_y1")})).attr("y2",(function(t){return h.axis_rotated?f(t,"value_x2"):_(t,"value_y2")})).style("opacity",0),l.stanfordLines=n.merge(e),l.stanfordLines.select("line").transition().duration(t).attr("x1",(function(t){return h.axis_rotated?_(t,"value_y1"):f(t,"value_x1")})).attr("x2",(function(t){return h.axis_rotated?_(t,"value_y2"):f(t,"value_x2")})).attr("y1",(function(t){return h.axis_rotated?f(t,"value_x1"):_(t,"value_y1")})).attr("y2",(function(t){return h.axis_rotated?f(t,"value_x2"):_(t,"value_y2")})).style("opacity",1),e.exit().transition().duration(t).style("opacity",0).remove(),(d=(c=main.select("."+O.stanfordTexts).selectAll("."+O.stanfordText).data(h.stanford_texts)).enter().append("g").attr("class",(function(t){return O.stanfordText+(t.class?" "+t.class:"")}))).append("text").attr("x",(function(t){return h.axis_rotated?_(t,"y"):f(t,"x")})).attr("y",(function(t){return h.axis_rotated?f(t,"x"):_(t,"y")})).style("opacity",0),l.stanfordTexts=d.merge(c),l.stanfordTexts.select("text").transition().duration(t).attr("x",(function(t){return h.axis_rotated?_(t,"y"):f(t,"x")})).attr("y",(function(t){return h.axis_rotated?f(t,"x"):_(t,"y")})).text((function(t){return t.content})).style("opacity",1),c.exit().transition().duration(t).style("opacity",0).remove(),(o=(r=main.select("."+O.stanfordRegions).selectAll("."+O.stanfordRegion).data(h.stanford_regions)).enter().append("g").attr("class",(function(t){return O.stanfordRegion+(t.class?" "+t.class:"")}))).append("polygon").attr("points",(function(t){return t.points.map((function(t){return[h.axis_rotated?_(t,"y"):f(t,"x"),h.axis_rotated?f(t,"x"):_(t,"y")].join(",")})).join(" ")})).style("opacity",0),o.append("text").attr("x",(function(t){return l.getCentroid(t.points).x})).attr("y",(function(t){return l.getCentroid(t.points).y})).style("opacity",0),l.stanfordRegions=o.merge(r),l.stanfordRegions.select("polygon").transition().duration(t).attr("points",(function(t){return t.points.map((function(t){return[h.axis_rotated?_(t,"y"):f(t,"x"),h.axis_rotated?f(t,"x"):_(t,"y")].join(",")})).join(" ")})).style("opacity",(function(t){return t.opacity?t.opacity:.2})),l.stanfordRegions.select("text").transition().duration(t).attr("x",(function(t){return h.axis_rotated?_(l.getCentroid(t.points),"y"):f(l.getCentroid(t.points),"x")})).attr("y",(function(t){return h.axis_rotated?f(l.getCentroid(t.points),"x"):_(l.getCentroid(t.points),"y")})).text((function(t){var e,n,r;return t.text?(l.isStanfordGraphType()&&(e=(r=x(t.points)).value,n=r.percentage),t.text(e,n)):""})).attr("text-anchor","middle").attr("dominant-baseline","middle").style("opacity",1),r.exit().transition().duration(t).style("opacity",0).remove()},t.prototype.initTooltip=function(){var i,t=this,e=t.config;if(t.tooltip=t.selectChart.style("position","relative").append("div").attr("class",O.tooltipContainer).style("position","absolute").style("pointer-events","none").style("display","none"),e.tooltip_init_show){if(t.isTimeSeries()&&w(e.tooltip_init_x)){for(e.tooltip_init_x=t.parseDate(e.tooltip_init_x),i=0;i<t.data.targets[0].values.length&&t.data.targets[0].values[i].x-e.tooltip_init_x!=0;i++);e.tooltip_init_x=i}t.tooltip.html(e.tooltip_contents.call(t,t.data.targets.map((function(n){return t.addName(n.values[e.tooltip_init_x])})),t.axis.getXAxisTickFormat(),t.getYFormat(t.hasArcType()),t.color)),t.tooltip.style("top",e.tooltip_init_position.top).style("left",e.tooltip_init_position.left).style("display","block")}},t.prototype.getTooltipSortFunction=function(){var t=this,e=t.config;if(0!==e.data_groups.length&&void 0===e.tooltip_order){var n=t.orderTargets(t.data.targets).map((function(i){return i.id}));return(t.isOrderAsc()||t.isOrderDesc())&&(n=n.reverse()),function(a,b){return n.indexOf(a.id)-n.indexOf(b.id)}}var r=e.tooltip_order;void 0===r&&(r=e.data_order);var o=function(t){return t?t.value:null};if(w(r)&&"asc"===r.toLowerCase())return function(a,b){return o(a)-o(b)};if(w(r)&&"desc"===r.toLowerCase())return function(a,b){return o(b)-o(a)};if(m(r)){var c=r;return void 0===e.tooltip_order&&(c=function(a,b){return r(a?{id:a.id,values:[a]}:null,b?{id:b.id,values:[b]}:null)}),c}return _(r)?function(a,b){return r.indexOf(a.id)-r.indexOf(b.id)}:void 0},t.prototype.getTooltipContent=function(t,e,n,r){var text,i,title,o,c,d,l=this,h=l.config,f=h.tooltip_format_title||e,_=h.tooltip_format_name||function(t){return t},x=h.tooltip_format_value;x||(x=l.isTargetNormalized(t.id)?function(t,e){return(100*e).toFixed(2)+"%"}:n);var y=this.getTooltipSortFunction();for(y&&t.sort(y),i=0;i<t.length;i++)if(t[i]&&(t[i].value||0===t[i].value)){if(l.isStanfordGraphType())text||(title=l.getStanfordTooltipTitle(t[i]),text="<table class='"+l.CLASS.tooltip+"'>"+title),d=l.getStanfordPointColor(t[i]),c=P(h.data_epochs),o=t[i].epochs;else if(text||(title=P(f?f(t[i].x,t[i].index):t[i].x),text="<table class='"+l.CLASS.tooltip+"'>"+(title||0===title?"<tr><th colspan='2'>"+title+"</th></tr>":"")),void 0!==(o=P(x(t[i].value,t[i].ratio,t[i].id,t[i].index,t)))){if(null===t[i].name)continue;c=P(_(t[i].name,t[i].ratio,t[i].id,t[i].index)),d=l.levelColor?l.levelColor(t[i].value):r(t[i].id)}void 0!==o&&(text+="<tr class='"+l.CLASS.tooltipName+"-"+l.getTargetSelectorSuffix(t[i].id)+"'>",text+="<td class='name'><span style='background-color:"+d+"'></span>"+c+"</td>",text+="<td class='value'>"+o+"</td>",text+="</tr>")}return text+"</table>"},t.prototype.tooltipPosition=function(t,e,n,element){var r,o,c,d,l,h=this,f=h.config,_=h.d3,x=h.hasArcType(),y=_.mouse(element);return x?(o=(h.width-(h.isLegendRight?h.getLegendWidth():0))/2+y[0],d=(h.hasType("gauge")?h.height:h.height/2)+y[1]+20):(r=h.getSvgLeft(!0),f.axis_rotated?(c=(o=r+y[0]+100)+e,l=h.currentWidth-h.getCurrentPaddingRight(),d=h.x(t[0].x)+20):(c=(o=r+h.getCurrentPaddingLeft(!0)+h.x(t[0].x)+20)+e,l=r+h.currentWidth-h.getCurrentPaddingRight(),d=y[1]+15),c>l&&(o-=c-l+20),d+n>h.currentHeight&&(d-=n+30)),d<0&&(d=0),{top:d,left:o}},t.prototype.showTooltip=function(e,element){var n,r,o,c=this,d=c.config,l=c.hasArcType(),h=e.filter((function(t){return t&&T(t.value)})),f=d.tooltip_position||t.prototype.tooltipPosition;0!==h.length&&d.tooltip_show?(c.tooltip.html(d.tooltip_contents.call(c,e,c.axis.getXAxisTickFormat(),c.getYFormat(l),c.color)).style("display","block"),n=c.tooltip.property("offsetWidth"),r=c.tooltip.property("offsetHeight"),o=f.call(this,h,n,r,element),c.tooltip.style("top",o.top+"px").style("left",o.left+"px")):c.hideTooltip()},t.prototype.hideTooltip=function(){this.tooltip.style("display","none")},t.prototype.setTargetType=function(t,e){var n=this,r=n.config;n.mapToTargetIds(t).forEach((function(t){n.withoutFadeIn[t]=e===r.data_types[t],r.data_types[t]=e})),t||(r.data_type=e)},t.prototype.hasType=function(t,e){var n=this,r=n.config.data_types,o=!1;return(e=e||n.data.targets)&&e.length?e.forEach((function(e){var n=r[e.id];(n&&n.indexOf(t)>=0||!n&&"line"===t)&&(o=!0)})):Object.keys(r).length?Object.keys(r).forEach((function(e){r[e]===t&&(o=!0)})):o=n.config.data_type===t,o},t.prototype.hasArcType=function(t){return this.hasType("pie",t)||this.hasType("donut",t)||this.hasType("gauge",t)},t.prototype.isLineType=function(t){var e=this.config,n=w(t)?t:t.id;return!e.data_types[n]||["line","spline","area","area-spline","step","area-step"].indexOf(e.data_types[n])>=0},t.prototype.isStepType=function(t){var e=w(t)?t:t.id;return["step","area-step"].indexOf(this.config.data_types[e])>=0},t.prototype.isSplineType=function(t){var e=w(t)?t:t.id;return["spline","area-spline"].indexOf(this.config.data_types[e])>=0},t.prototype.isAreaType=function(t){var e=w(t)?t:t.id;return["area","area-spline","area-step"].indexOf(this.config.data_types[e])>=0},t.prototype.isBarType=function(t){var e=w(t)?t:t.id;return"bar"===this.config.data_types[e]},t.prototype.isScatterType=function(t){var e=w(t)?t:t.id;return"scatter"===this.config.data_types[e]},t.prototype.isStanfordType=function(t){var e=w(t)?t:t.id;return"stanford"===this.config.data_types[e]},t.prototype.isPieType=function(t){var e=w(t)?t:t.id;return"pie"===this.config.data_types[e]},t.prototype.isGaugeType=function(t){var e=w(t)?t:t.id;return"gauge"===this.config.data_types[e]},t.prototype.isDonutType=function(t){var e=w(t)?t:t.id;return"donut"===this.config.data_types[e]},t.prototype.isArcType=function(t){return this.isPieType(t)||this.isDonutType(t)||this.isGaugeType(t)},t.prototype.lineData=function(t){return this.isLineType(t)?[t]:[]},t.prototype.arcData=function(t){return this.isArcType(t.data)?[t]:[]},t.prototype.barData=function(t){return this.isBarType(t)?t.values:[]},t.prototype.lineOrScatterOrStanfordData=function(t){return this.isLineType(t)||this.isScatterType(t)||this.isStanfordType(t)?t.values:[]},t.prototype.barOrLineData=function(t){return this.isBarType(t)||this.isLineType(t)?t.values:[]},t.prototype.isSafari=function(){var t=window.navigator.userAgent;return t.indexOf("Safari")>=0&&t.indexOf("Chrome")<0},t.prototype.isChrome=function(){return window.navigator.userAgent.indexOf("Chrome")>=0},t.prototype.initZoom=function(){var t,e=this,n=e.d3,r=e.config;return e.zoom=n.zoom().on("start",(function(){if("scroll"===r.zoom_type){var o=n.event.sourceEvent;o&&"brush"===o.type||(t=o,r.zoom_onzoomstart.call(e.api,o))}})).on("zoom",(function(){if("scroll"===r.zoom_type){var t=n.event.sourceEvent;t&&"brush"===t.type||(e.redrawForZoom(),r.zoom_onzoom.call(e.api,e.x.orgDomain()))}})).on("end",(function(){if("scroll"===r.zoom_type){var o=n.event.sourceEvent;o&&"brush"===o.type||o&&t.clientX===o.clientX&&t.clientY===o.clientY||r.zoom_onzoomend.call(e.api,e.x.orgDomain())}})),e.zoom.updateDomain=function(){return n.event&&n.event.transform&&(r.axis_rotated&&"scroll"===r.zoom_type&&"mousemove"===n.event.sourceEvent.type?e.x.domain(n.event.transform.rescaleY(e.subX).domain()):e.x.domain(n.event.transform.rescaleX(e.subX).domain())),this},e.zoom.updateExtent=function(){return this.scaleExtent([1,1/0]).translateExtent([[0,0],[e.width,e.height]]).extent([[0,0],[e.width,e.height]]),this},e.zoom.update=function(){return this.updateExtent().updateDomain()},e.zoom.updateExtent()},t.prototype.zoomTransform=function(t){var e=this,s=[e.x(t[0]),e.x(t[1])];return e.d3.zoomIdentity.scale(e.width/(s[1]-s[0])).translate(-s[0],0)},t.prototype.initDragZoom=function(){var t=this,e=t.d3,n=t.config,r=t.context=t.svg,o=t.margin.left+20.5,c=t.margin.top+.5;if("drag"===n.zoom_type&&n.zoom_enabled){var d=function(e){return e&&e.map((function(e){return t.x.invert(e)}))},l=t.dragZoomBrush=e.brushX().on("start",(function(){t.api.unzoom(),t.svg.select("."+O.dragZoom).classed("disabled",!1),n.zoom_onzoomstart.call(t.api,e.event.sourceEvent)})).on("brush",(function(){n.zoom_onzoom.call(t.api,d(e.event.selection))})).on("end",(function(){if(null!=e.event.selection){var r=d(e.event.selection);n.zoom_disableDefaultBehavior||t.api.zoom(r),t.svg.select("."+O.dragZoom).classed("disabled",!0),n.zoom_onzoomend.call(t.api,r)}}));r.append("g").classed(O.dragZoom,!0).attr("clip-path",t.clipPath).attr("transform","translate("+o+","+c+")").call(l)}},t.prototype.getZoomDomain=function(){var t=this,e=t.config,n=t.d3;return[n.min([t.orgXDomain[0],e.zoom_x_min]),n.max([t.orgXDomain[1],e.zoom_x_max])]},t.prototype.redrawForZoom=function(){var t=this,e=t.d3,n=t.config,r=t.zoom,o=t.x;n.zoom_enabled&&0!==t.filterTargetsToShow(t.data.targets).length&&(r.update(),n.zoom_disableDefaultBehavior||(t.isCategorized()&&o.orgDomain()[0]===t.orgXDomain[0]&&o.domain([t.orgXDomain[0]-1e-10,o.orgDomain()[1]]),t.redraw({withTransition:!1,withY:n.zoom_rescale,withSubchart:!1,withEventRect:!1,withDimension:!1}),e.event.sourceEvent&&"mousemove"===e.event.sourceEvent.type&&(t.cancelClick=!0)))},k}()}}]);