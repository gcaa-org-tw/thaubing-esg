(window.webpackJsonp=window.webpackJsonp||[]).push([[33,14],{345:function(t,e,r){var content=r(357);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(30).default)("c75b925a",content,!0,{sourceMap:!1})},356:function(t,e,r){"use strict";r(345)},357:function(t,e,r){var n=r(29)(!1);n.push([t.i,".esgFooter[data-v-026674f5]{border-color:rgba(0,0,0,.06275)}.esgFooter a[data-v-026674f5]{color:#49591c;font-weight:500;text-decoration:underline}",""]),t.exports=n},360:function(t,e,r){"use strict";r.r(e);var n={computed:{buildTime:function(){return"2022-08-11T07:02:02Z"}}},o=(r(356),r(35)),component=Object(o.a)(n,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"esgFooter bt bw1 mv3 pv3 flex-ns justify-between tr tl-ns"},[t._m(0),r("div",{staticClass:"mt2 mt0-ns"},[t._m(1),r("div",{staticClass:"light-silver tr"},[t._v("更新時間： "+t._s(t.buildTime))])])])}),[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"mid-gray"},[t._v("由"),r("a",{staticClass:"dim",attrs:{href:"http://www.gcaa.org.tw/"}},[t._v("綠色公民行動聯盟")]),t._v(" X "),r("a",{staticClass:"dim",attrs:{href:"https://thaubing.gcaa.org.tw/"}},[t._v("透明足跡計畫")]),t._v("推動")])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"mid-gray mb2"},[r("a",{staticClass:"dim",attrs:{href:"https://github.com/gcaa-org-tw/thaubing-esg"}},[t._v("原始碼")]),t._v(" X "),r("a",{staticClass:"dim",attrs:{href:"https://github.com/gcaa-org-tw/thaubing-esg/tree/main/data"}},[t._v("資料")]),t._v("  以開放授權 MIT / CC-BY 4.0 釋出")])}],!1,null,"026674f5",null);e.default=component.exports},361:function(t,e,r){"use strict";(function(t){r.d(e,"a",(function(){return l}));var n=r(12),o=(r(114),r(23),r(52),r(15),r(90),r(59),"ESG 檢測儀");function c(t,content){var e,r=t.startsWith("og:")?"property":"name";return e={hid:t},Object(n.a)(e,r,t),Object(n.a)(e,"content",content),e}function l(e){var title=e.title,r=e.description,n=e.coverUrl,l=t.env.SITE_URL||"https://thaubing-esg.gcaa.org.tw";function d(t){return"string"==typeof t?t:"function"==typeof t?t.call(this):t.toString()}return function(){var t=d.bind(this),head={meta:[]},e="".concat(t(title=title||"")),f=e?"".concat(e," | ").concat(o):o;if(head.title=f,head.meta.push(c("og:title",f)),head.meta.push(c("twitter:title",f)),r){var v=t(r);head.meta.push(c("description",v)),head.meta.push(c("og:description",v)),head.meta.push(c("twitter:description",v))}if(n){var m=t(n);m&&(m.startsWith("/")?m="".concat(l).concat(m):m.startsWith("http")||(m="".concat(l,"/").concat(m)),head.meta.push(c("og:image",m)),head.meta.push(c("twitter:image",m)),head.meta.push(c("twitter:card","summary_large_image")))}if(this&&(title||r||n)){var y="".concat(l).concat(this.$route.path);head.meta.push(c("og:url",y))}return head}}}).call(this,r(91))},379:function(t,e,r){var content=r(437);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(30).default)("e3fb7a3a",content,!0,{sourceMap:!1})},435:function(t){t.exports=JSON.parse('[{"label":"鋼鐵工業","code":"10"},{"label":"化學工業","code":"21"},{"label":"半導體業","code":"24"},{"label":"光電業","code":"26"},{"label":"水泥工業","code":"01"},{"label":"石化業","code":"03"},{"label":"紡織纖維","code":"04"}]')},436:function(t,e,r){"use strict";r(379)},437:function(t,e,r){var n=r(29)(!1);n.push([t.i,".invTellerWrapper[data-v-b35886aa]{width:100%;max-height:50vh;overflow:auto}@media screen and (min-width:60em){.invTellerWrapper[data-v-b35886aa]{max-height:none}}.invTeller[data-v-b35886aa]{display:grid;grid-row-gap:.375rem;row-gap:.375rem;max-width:80rem;min-width:48rem;position:relative}.invTeller__measureHead[data-v-b35886aa]{grid-column:1/span 2;left:0;z-index:1}.invTeller__fundHead[data-v-b35886aa],.invTeller__measureHead[data-v-b35886aa]{padding:.375rem .625rem;position:-webkit-sticky;position:sticky;top:0;background:#ebedeb}.invTeller__stat[data-v-b35886aa]{background:#fff;height:2rem}.invTeller__stat[data-v-b35886aa],.invTeller__unit[data-v-b35886aa]{position:-webkit-sticky;position:sticky;left:0}.invTeller__statVal[data-v-b35886aa]{background:#c1c1c1;color:#000}.invTeller__statVal--red[data-v-b35886aa]{background:#e24243;color:#fff}.invTeller__statVal--green[data-v-b35886aa]{background:#6fac45}.invTeller__statVal--yellow[data-v-b35886aa]{background:#facb3d}.invTeller__company[data-v-b35886aa]{padding:0 .5rem;position:-webkit-sticky;position:sticky;left:min(20rem,25vw)}.invTeller__fundFlag[data-v-b35886aa]{padding:0 .625rem}.invTeller__fundFlag[data-v-b35886aa]:last-child{border-top-right-radius:.25rem;border-bottom-right-radius:.25rem}.invTeller__flag[data-v-b35886aa]{color:#c1c1c1;background:#c1c1c1;width:1.25rem;height:1.25rem;border:2px solid rgba(0,0,0,.1);border-radius:100%}.invTeller__flag--red[data-v-b35886aa]{color:#e24243;background:#e24243}.invTeller__flag--yellow[data-v-b35886aa]{color:#facb3d;background:#facb3d}.invTeller__flag--green[data-v-b35886aa]{color:#6fac45;background:#6fac45}.invTeller__switch[data-v-b35886aa]{line-height:1.5;color:#35811c;border:none}",""]),t.exports=n},447:function(t,e,r){var content=r(481);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(30).default)("0bfa278a",content,!0,{sourceMap:!1})},465:function(t,e,r){"use strict";r.r(e);var n=r(87),o=(r(224),r(15),r(418),r(38),r(419),r(420),r(421),r(422),r(423),r(424),r(425),r(426),r(427),r(428),r(429),r(430),r(431),r(432),r(433),r(434),r(39),r(448),r(50),r(32),r(114),r(48),r(58),r(72),r(363),r(342),r(344),r(22),r(347),r(343),r(26),r(339)),c=r(359).a.E,l={props:{stats:{type:Array,required:!0},companyMap:{type:Object,required:!0},quartile:{type:Object,required:!0},year:{type:String,default:"2019"}},data:function(){return{orderBy:c[0]}},computed:{unit:function(){var t=this;return o.b.find((function(e){return e.measure===t.orderBy})).unit},invStyle:function(){return{gridTemplateColumns:"min(20rem, 25vw) 4rem repeat(".concat(this.fundList.length,", 1fr)")}},curMaxStatVal:function(){return this.sortedStats[0].E[this.orderBy]},orderOptions:function(){return c},fundList:function(){return Object(n.a)(new Set(this.investmentDataPerCompany.map((function(t){return Object.keys(t.X)})).flat())).map((function(t){return t.startsWith("中國信託")?{cat:"中國信託",name:t}:{cat:t.slice(0,2),name:t}}))},investmentDataPerCompany:function(){var t=this,e=this.stats.reduce((function(e,r){var n=r.統編,o=t.companyMap[n];if(r.年份!==t.year||!o)return e;if("X"===r.分類||r.來自公司報告&&c.includes(r.項目)){e[n]||(e[n]={X:{},E:{},company:o});var l=r.數值;"E"===r.分類&&(l=Number.parseFloat(l)),e[n][r.分類][r.項目]=l}return e}),{}),r=this.quartile[this.year].E;return Object.values(e).map((function(t){return t.color={},c.forEach((function(e){var n=t.E[e];Number.isNaN(n)||void 0===n?(t.E[e]=0,t.color[e]="unknown"):n>=r[e].thirdForth?t.color[e]="red":n>=r[e].oneForth?t.color[e]="yellow":t.color[e]="green"})),t}))},sortedStats:function(){var t=this.orderBy;return Object(n.a)(this.investmentDataPerCompany).sort((function(a,b){return b.E[t]-a.E[t]}))}},methods:{printValue:function(t){return"unknown"===t.color[this.orderBy]?"未揭露":(Math.round(100*t.E[this.orderBy])/100).toLocaleString()},switchOrder:function(){var t=this;this.orderBy=c.find((function(e){return e!==t.orderBy}))},fundName:function(t){var e=Math.round(t.name.length/2);return[t.name.slice(0,e),t.name.slice(e)]},barClass:function(t){return["invTeller__statVal--".concat(t.color[this.orderBy])]},barStyle:function(t){return"unknown"===t.color[this.orderBy]?{width:"6.5rem"}:{width:"".concat(100*t.E[this.orderBy]/this.curMaxStatVal,"%")}},flagClass:function(t){return["invTeller__flag--".concat(t.color[this.orderBy])]}}},d=(r(436),r(35)),component=Object(d.a)(l,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"invTellerWrapper"},[t.fundList.length?r("div",{staticClass:"invTeller",style:t.invStyle},[r("div",{staticClass:"invTeller__measureHead"},t._l(t.orderOptions,(function(e){return r("button",{staticClass:"invTeller__switch bg-transparent w-100-ns f3 fw6 mb2 pointer db pa0 tl",class:[e===t.orderBy?"o-100":"o-50"],on:{click:t.switchOrder}},[t._v(t._s(e))])})),0),t._l(t.fundList,(function(e){return r("div",{staticClass:"invTeller__fundHead black"},[r("div",{staticClass:"fw6"},[t._v(t._s(e.cat))]),t._l(t.fundName(e),(function(line){return r("div",{staticClass:"fw4"},[t._v(t._s(line))])}))],2)})),t._l(t.sortedStats,(function(e){return[r("div",{staticClass:"invTeller__stat bg-white br2 br--left"},[r("div",{staticClass:"invTeller__statVal br2 h-100 ml-auto fw6 pr1 flex items-center justify-end",class:t.barClass(e),style:t.barStyle(e)},[t._v(t._s(t.printValue(e)))])]),r("div",{staticClass:"invTeller__company bg-white flex items-center"},[r("company-abbr",{attrs:{company:e.company}})],1),t._l(t.fundList,(function(n){return r("div",{staticClass:"invTeller__fundFlag bg-white flex items-center"},[e.X[n.name]?r("div",{staticClass:"invTeller__flag",class:t.flagClass(e)},[t._v("T")]):t._e()])}))]})),r("div",{staticClass:"invTeller__unit tr"},[t._v(t._s(t.unit))])],2):t._e()])}),[],!1,null,"b35886aa",null);e.default=component.exports;installComponents(component,{CompanyAbbr:r(388).default})},480:function(t,e,r){"use strict";r(447)},481:function(t,e,r){var n=r(29)(!1);n.push([t.i,".industry__nav[data-v-fb6acbde]{margin-top:2.25rem;margin-bottom:1.125rem}.industry__title[data-v-fb6acbde]{font-size:3rem;margin-top:1rem;margin-bottom:0}.industry__typeSelector[data-v-fb6acbde]{width:8rem}.industry__typeSelector[data-v-fb6acbde]  .dropdown-menu{min-width:8rem}.industry__typeSelector[data-v-fb6acbde]  .dropdown-trigger{width:100%}.industry__typeSelector[data-v-fb6acbde]  .dropdown-trigger button{border:none;outline:none;background:transparent}.industry__typeSelector[data-v-fb6acbde]  .dropdown-content{background:#333}.industry__typeSelector[data-v-fb6acbde]  .has-link a{padding:.5rem;color:#fff;font-size:1.5rem}.industry__typeSelector[data-v-fb6acbde]  .has-link a:hover{background:#555;color:#fff}.industry__footer[data-v-fb6acbde]{margin:1.5rem 0}.industry__cta[data-v-fb6acbde]{background:#49591c}.industry__cta[data-v-fb6acbde]:hover{background:#35811c}",""]),t.exports=n},501:function(t,e,r){"use strict";r.r(e);r(32),r(23),r(42),r(43);var n=r(87),o=r(12),c=r(10),l=(r(51),r(31),r(224),r(343),r(15),r(418),r(38),r(419),r(420),r(421),r(422),r(423),r(424),r(425),r(426),r(427),r(428),r(429),r(430),r(431),r(432),r(433),r(434),r(39),r(50),r(59),r(344),r(22),r(363),r(342),r(26),r(56)),d=r(361),f=r(435);function v(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function m(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?v(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):v(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var y={asyncData:function(t){return Object(c.a)(regeneratorRuntime.mark((function e(){var r,n,o,c,l,d,f;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.$content,n=t.params,o=t.redirect,e.prev=1,e.next=4,r("industry",n.industry).fetch();case 4:return c=e.sent,e.next=7,r("industry","".concat(n.industry,"-quartile")).fetch();case 7:return l=e.sent,e.next=10,r("companyList").fetch();case 10:return d=e.sent,f=d.body.filter((function(t){return t.上市上櫃產業編碼===n.industry})),e.abrupt("return",{stats:c,quartile:l,companyList:f});case 15:return e.prev=15,e.t0=e.catch(1),o("/"),e.abrupt("return",{stats:[],companyList:[],quartile:{}});case 19:case"end":return e.stop()}}),e,null,[[1,15]])})))()},head:Object(d.a)({title:function(){return this.industry.label}}),computed:m(m({},Object(l.b)({isGuanshiyinn:"isGuanshiyinn"})),{},{industry:function(){var code=this.$route.params.industry||"03",t=f.find((function(t){return t.code===code}));return t||f[0]},year:function(){return this.$route.query.year||"2020"},yearList:function(){return Object(n.a)(new Set(this.stats.body.map((function(t){return t.年份})))).filter((function(t){return t>=2011})).sort((function(a,b){return b-a}))},downloadLink:function(){return"".concat(this.$router.options.base,"content/industry/").concat(this.industry.code,".csv")},industries:function(){return f},companyMap:function(){return this.companyList.reduce((function(map,t){return map[t.統編]=t,map}),{})},companyStats:function(){var t=this,e=Object.values(this.companyMap).reduce((function(map,t){return map[t.統編]={company:t,stats:{}},map}),{});return this.stats.body.forEach((function(r){var n=e[r.統編];n&&r.年份===t.year&&(r.value=Number.parseFloat(r.數值),n.stats["".concat(r.子分類,"-").concat(r.項目,"-").concat(r.來自公司報告)]=r)})),Object.values(e)},activeQuartile:function(){return this.quartile[this.year]||{}}}),beforeDestroy:function(){var html=document.querySelector("html");html.classList.contains("is-clipped-touch")&&html.classList.remove("is-clipped-touch")},methods:{industryLink:function(t){return{name:this.$route.name,query:{year:this.year},params:{industry:t}}},yearLink:function(t){return{name:this.$route.name,query:{year:t},params:this.$route.params}}}},_=(r(480),r(35)),component=Object(_.a)(y,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"industry"},[r("div",{staticClass:"industry__nav esgContainer flex items-end"},[r("div",{staticClass:"mr5"},[r("div",{staticClass:"f6 o-60 mb1"},[t._v("產業")]),r("b-dropdown",{ref:"industryDropdown",staticClass:"industry__typeSelector",attrs:{"aria-role":"menu"}},[r("template",{slot:"trigger"},[r("button",{staticClass:"flex justify-between items-center w-100 pointer"},[r("div",{staticClass:"black f3 flex-auto tl"},[t._v(t._s(t.industry.label))]),r("i",{staticClass:"fas fa-sort flex-none"})])]),t._l(t.industries,(function(e){return r("b-dropdown-item",{key:e.code,attrs:{"aria-role":"menuitem","has-link":!0}},[r("nuxt-link",{attrs:{to:t.industryLink(e.code)}},[t._v(t._s(e.label))])],1)}))],2)],1),r("div",[r("div",{staticClass:"f6 o-60 mb1"},[t._v("資料年份")]),r("b-dropdown",{staticClass:"industry__typeSelector",attrs:{"aria-role":"menu"}},[r("template",{slot:"trigger"},[r("button",{staticClass:"flex justify-between items-center w-100 pointer"},[r("div",{staticClass:"black f3 flex-auto tl"},[t._v(t._s(t.year))]),r("i",{staticClass:"fas fa-sort flex-none"})])]),t._l(t.yearList,(function(e){return r("b-dropdown-item",{key:e,attrs:{"aria-role":"menuitem","has-link":!0}},[r("nuxt-link",{attrs:{to:t.yearLink(e)}},[t._v(t._s(e))])],1)}))],2)],1)]),t.isGuanshiyinn?r("div",{staticClass:"industry__fund esgContainer"},[r("investment-teller",{attrs:{stats:t.stats.body,quartile:t.quartile,"company-map":t.companyMap,year:t.year}})],1):t._e(),r("annual-stats-table",{attrs:{"company-stats":t.companyStats,quartile:t.activeQuartile}}),r("div",{staticClass:"industry__footer flex items-center justify-end esgContainer"},[r("a",{staticClass:"industry__cta db br2 pv2 ph3 fw7 white",attrs:{href:t.downloadLink}},[t._v("下載此頁資料")])]),r("div",{staticClass:"esgContainer"},[r("gcaa-footer")],1)],1)}),[],!1,null,"fb6acbde",null);e.default=component.exports;installComponents(component,{InvestmentTeller:r(465).default,AnnualStatsTable:r(497).default,GcaaFooter:r(360).default})}}]);