(window.webpackJsonp=window.webpackJsonp||[]).push([[35,21,22],{378:function(e,t,r){"use strict";var n=r(15),o=r(6),c=r(4),l=r(130),d=r(22),f=r(17),v=r(241),h=r(54),y=r(99),_=r(242),m=r(5),C=r(98).f,P=r(49).f,N=r(21).f,O=r(379),I=r(239).trim,x="Number",w=o.Number,T=w.prototype,j=o.TypeError,L=c("".slice),k=c("".charCodeAt),S=function(e){var t=_(e,"number");return"bigint"==typeof t?t:B(t)},B=function(e){var t,r,n,o,c,l,d,code,f=_(e,"number");if(y(f))throw j("Cannot convert a Symbol value to a number");if("string"==typeof f&&f.length>2)if(f=I(f),43===(t=k(f,0))||45===t){if(88===(r=k(f,2))||120===r)return NaN}else if(48===t){switch(k(f,1)){case 66:case 98:n=2,o=49;break;case 79:case 111:n=8,o=55;break;default:return+f}for(l=(c=L(f,2)).length,d=0;d<l;d++)if((code=k(c,d))<48||code>o)return NaN;return parseInt(c,n)}return+f};if(l(x,!w(" 0o1")||!w("0b1")||w("+0x1"))){for(var M,E=function(e){var t=arguments.length<1?0:w(S(e)),r=this;return h(T,r)&&m((function(){O(r)}))?v(Object(t),r,E):t},Z=n?C(w):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),D=0;Z.length>D;D++)f(w,M=Z[D])&&!f(E,M)&&N(E,M,P(w,M));E.prototype=T,T.constructor=E,d(o,x,E,{constructor:!0})}},379:function(e,t,r){var n=r(4);e.exports=n(1..valueOf)},380:function(e,t,r){"use strict";var n=r(3),o=r(4),c=r(51),l=r(40),d=r(48),f=r(244),v=r(16),h=r(5),y=r(243),_=r(159),m=r(383),C=r(384),P=r(100),N=r(385),O=[],I=o(O.sort),x=o(O.push),w=h((function(){O.sort(void 0)})),T=h((function(){O.sort(null)})),j=_("sort"),L=!h((function(){if(P)return P<70;if(!(m&&m>3)){if(C)return!0;if(N)return N<603;var code,e,t,r,n="";for(code=65;code<76;code++){switch(e=String.fromCharCode(code),code){case 66:case 69:case 70:case 72:t=3;break;case 68:case 71:t=4;break;default:t=2}for(r=0;r<47;r++)O.push({k:e+r,v:t})}for(O.sort((function(a,b){return b.v-a.v})),r=0;r<O.length;r++)e=O[r].k.charAt(0),n.charAt(n.length-1)!==e&&(n+=e);return"DGBEFHACIJK"!==n}}));n({target:"Array",proto:!0,forced:w||!T||!j||!L},{sort:function(e){void 0!==e&&c(e);var t=l(this);if(L)return void 0===e?I(t):I(t,e);var r,n,o=[],h=d(t);for(n=0;n<h;n++)n in t&&x(o,t[n]);for(y(o,function(e){return function(t,r){return void 0===r?-1:void 0===t?1:void 0!==e?+e(t,r)||0:v(t)>v(r)?1:-1}}(e)),r=o.length,n=0;n<r;)t[n]=o[n++];for(;n<h;)f(t,n++);return t}})},381:function(e,t,r){var n=r(3),o=r(245).values;n({target:"Object",stat:!0},{values:function(e){return o(e)}})},383:function(e,t,r){var n=r(79).match(/firefox\/(\d+)/i);e.exports=!!n&&+n[1]},384:function(e,t,r){var n=r(79);e.exports=/MSIE|Trident/.test(n)},385:function(e,t,r){var n=r(79).match(/AppleWebKit\/(\d+)\./);e.exports=!!n&&+n[1]},397:function(e){e.exports=JSON.parse('[{"year":2013,"PNNL":1.0072,"IPCC":1.0072},{"year":2014,"PNNL":1.0146,"IPCC":1.0146},{"year":2015,"PNNL":1.0105,"IPCC":1.0105},{"year":2016,"PNNL":1.0238,"IPCC":1.0238},{"year":2017,"PNNL":1.0417,"IPCC":1.0417},{"year":2018,"PNNL":1.0353,"IPCC":1.0353},{"year":2019,"PNNL":1,"IPCC":1},{"year":2020,"PNNL":0.9545,"IPCC":0.9609},{"year":2021,"PNNL":0.9091,"IPCC":0.9218},{"year":2022,"PNNL":0.8636,"IPCC":0.8827},{"year":2023,"PNNL":0.8182,"IPCC":0.8436},{"year":2024,"PNNL":0.7727,"IPCC":0.8045},{"year":2025,"PNNL":0.7273,"IPCC":0.7655},{"year":2026,"PNNL":0.6818,"IPCC":0.7264},{"year":2027,"PNNL":0.6364,"IPCC":0.6873},{"year":2028,"PNNL":0.5909,"IPCC":0.6482},{"year":2029,"PNNL":0.5455,"IPCC":0.6091},{"year":2030,"PNNL":0.5,"IPCC":0.57},{"year":2031,"PNNL":0.475,"IPCC":0.5495},{"year":2032,"PNNL":0.45,"IPCC":0.529},{"year":2033,"PNNL":0.425,"IPCC":0.5085},{"year":2034,"PNNL":0.4,"IPCC":0.488},{"year":2035,"PNNL":0.375,"IPCC":0.4675},{"year":2036,"PNNL":0.35,"IPCC":0.447},{"year":2037,"PNNL":0.325,"IPCC":0.4265},{"year":2038,"PNNL":0.3,"IPCC":0.406},{"year":2039,"PNNL":0.275,"IPCC":0.3855},{"year":2040,"PNNL":0.25,"IPCC":0.365},{"year":2041,"PNNL":0.225,"IPCC":0.3445},{"year":2042,"PNNL":0.2,"IPCC":0.324},{"year":2043,"PNNL":0.175,"IPCC":0.3035},{"year":2044,"PNNL":0.15,"IPCC":0.283},{"year":2045,"PNNL":0.125,"IPCC":0.2625},{"year":2046,"PNNL":0.1,"IPCC":0.242},{"year":2047,"PNNL":0.075,"IPCC":0.2215},{"year":2048,"PNNL":0.05,"IPCC":0.201},{"year":2049,"PNNL":0.025,"IPCC":0.1805},{"year":2050,"PNNL":0,"IPCC":0.16}]')},424:function(e,t,r){var content=r(480);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(33).default)("3f70a8b8",content,!0,{sourceMap:!1})},425:function(e,t,r){var content=r(482);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(33).default)("1338f154",content,!0,{sourceMap:!1})},473:function(e){e.exports=JSON.parse('[{"label":"鋼鐵工業","code":"10"},{"label":"橡膠工業","code":"11"},{"label":"汽車工業","code":"12"},{"label":"電子工業","code":"13"},{"label":"建材營造","code":"14"},{"label":"航運業","code":"15"},{"label":"觀光事業","code":"16"},{"label":"金融保險","code":"17"},{"label":"貿易百貨","code":"18"},{"label":"其他","code":"20"},{"label":"化學工業","code":"21"},{"label":"生技醫療業","code":"22"},{"label":"油電燃氣業","code":"23"},{"label":"半導體業","code":"24"},{"label":"電腦及週邊設備業","code":"25"},{"label":"光電業","code":"26"},{"label":"通信網路業","code":"27"},{"label":"電子零組件業","code":"28"},{"label":"電子通路業","code":"29"},{"label":"資訊服務業","code":"30"},{"label":"其他電子業","code":"31"},{"label":"文化創意業","code":"32"},{"label":"農業科技業","code":"33"},{"label":"電子商務","code":"34"},{"label":"管理股票","code":"98"},{"label":"食品工業","code":"840"},{"label":"食品工業","code":"896"},{"label":"紡織纖維","code":"1140"},{"label":"造紙工業","code":"1511"},{"label":"造紙工業","code":"1512"},{"label":"造紙工業","code":"1513"},{"label":"造紙工業","code":"1599"},{"label":"石化業","code":"1700"},{"label":"化學工業","code":"1810"},{"label":"石化業","code":"1820"},{"label":"石化業","code":"1842"},{"label":"化學工業","code":"1990"},{"label":"玻璃陶瓷","code":"2311"},{"label":"玻璃陶瓷","code":"2312"},{"label":"玻璃陶瓷","code":"2313"},{"label":"玻璃陶瓷","code":"2322"},{"label":"玻璃陶瓷","code":"2399"},{"label":"鋼鐵工業","code":"2411"},{"label":"鋼鐵工業","code":"2413"},{"label":"鋼鐵工業","code":"2422"},{"label":"鋼鐵工業","code":"2544"},{"label":"半導體業","code":"2611"},{"label":"電腦及週邊設備業","code":"2641"},{"label":"光電業","code":"2649"},{"label":"電子零組件業","code":"2699"},{"label":"油電燃氣業","code":"3510"},{"label":"油電燃氣業","code":"3530"},{"label":"其他","code":"7230"},{"label":"水泥工業","code":"01"},{"label":"食品工業","code":"02"},{"label":"石化業","code":"03"},{"label":"紡織纖維","code":"04"},{"label":"電機機械","code":"05"},{"label":"電器電纜","code":"06"},{"label":"玻璃陶瓷","code":"08"},{"label":"造紙工業","code":"09"},{"label":"管理股票","code":"XX"}]')},479:function(e,t,r){"use strict";r(424)},480:function(e,t,r){var n=r(32)(!1);n.push([e.i,'.indBau__chart[data-v-3291c966]  .c3-grid .c3-ygrid{stroke:#bbb;stroke-dasharray:0}.indBau__chart[data-v-3291c966]  .c3-xgrid-focus{stroke-dasharray:5 4}.indBau__chart[data-v-3291c966]  .c3-xgrid-focus .c3-chart-lines .c3-circle{display:none}.indBau__chart[data-v-3291c966]  .c3-xgrid-focus .c3-chart-lines .c3-circle._expanded_{display:inline;fill:#fff;stroke:currentColor;stroke-width:2px}.indBau__chart[data-v-3291c966]  .c3-xgrid-focus .c3-chart-lines .c3-line{stroke-width:2px}.indBau__chart[data-v-3291c966]  .c3-chart-lines .c3-circle{display:none}.indBau__chart[data-v-3291c966]  .c3-chart-lines .c3-circle._expanded_{display:inline;fill:currentColor;stroke:none}.indBau__chart[data-v-3291c966]  .c3-axis .tick line,.indBau__chart[data-v-3291c966]  .c3-axis path.domain{stroke:#bbb}.indBau__chart[data-v-3291c966]  .c3-axis.c3-axis-y .tick line{display:none;stroke:#bbb}.indBau__chart[data-v-3291c966]  .c3-lines-IPCC,.indBau__chart[data-v-3291c966]  .c3-lines-PNNL{display:none}.indBau__chart[data-v-3291c966]  .c3-area-IPCC,.indBau__chart[data-v-3291c966]  .c3-area-PNNL{opacity:.25!important}.indBau[data-v-3291c966]  .esgTp{padding:.75rem 2rem 1.25rem 1rem;border:1px solid #555;border-radius:.25rem;box-shadow:0 2px 14px rgba(0,0,0,.08);background:hsla(0,0%,100%,.8509803922);width:14rem}.indBau[data-v-3291c966]  .esgTp__year{font-weight:600}.indBau[data-v-3291c966]  .esgTp__company{margin:1.25rem 0}.indBau[data-v-3291c966]  .esgTp__row+.esgTp__row{margin-top:.75rem}.indBau[data-v-3291c966]  .esgTp__legend{height:.125rem;width:1rem;margin-right:.375rem}.indBau[data-v-3291c966]  .esgTp__name,.indBau[data-v-3291c966]  .esgTp__value{font-size:.875rem;line-height:1rem}.indBau[data-v-3291c966]  .esgTp__value{color:#000;white-space:nowrap;text-align:right}.indBau[data-v-3291c966]  .esgTp__value--raise{color:#f20000}.indBau[data-v-3291c966]  .esgTp__value--reduce{color:#35811c}.indBau[data-v-3291c966]  .esgTp__row--ci .esgTp__legend{position:relative}.indBau[data-v-3291c966]  .esgTp__row--ci .esgTp__legend:after,.indBau[data-v-3291c966]  .esgTp__row--ci .esgTp__legend:before{content:" ";position:absolute;width:3px;height:.125rem;background:#fff}.indBau[data-v-3291c966]  .esgTp__row--ci .esgTp__legend:before{left:3px}.indBau[data-v-3291c966]  .esgTp__row--ci .esgTp__legend:after{right:3px}.indBau[data-v-3291c966]  .esgTp__row--roadmap .esgTp__legend{height:.875rem;opacity:.25}.indBau[data-v-3291c966]  .esgTp__row--roadmap .esgTp__value{color:#000}',""]),e.exports=n},481:function(e,t,r){"use strict";r(425)},482:function(e,t,r){var n=r(32)(!1);n.push([e.i,"",""]),e.exports=n},490:function(e,t,r){var content=r(529);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,r(33).default)("bbc8be6a",content,!0,{sourceMap:!1})},506:function(e,t,r){"use strict";r.r(t);r(35),r(38),r(46),r(47);var n=r(19),o=r(97),c=(r(378),r(14),r(39),r(34),r(380),r(64),r(53),r(381),r(240),r(395)),l=r(427),d=r(397);function f(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function v(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var h="#358D53",y="#FACB3D";var _={props:{bauStats:{type:Array,required:!0},ciStats:{type:Array,required:!0},companyMap:{type:Object,required:!0},yMax:{type:Number,required:!0}},data:function(){return{c3Handler:null}},computed:{companyAbbrMap:function(){var e=this;return Object.keys(this.companyMap).reduce((function(t,r){var n=e.companyMap[r];return t[n.公司簡稱]=n,t}),{})},chartData:function(){var e=this,data={},t={},r=this.bauStats.reduce((function(t,r){var n=r.年份,o=e.companyMap[r.統編];return t[n]||(t[n]={}),t[n][o.公司簡稱]=r.Tot變化,t}),{});d.forEach((function(e){r[e.year].PNNL=100*e.PNNL,r[e.year].IPCC=100*e.IPCC}));var n=Object.keys(r[2019]);n.forEach((function(r){data[r]=[r],t[r]=Object(l.get)(e.companyAbbrMap,"".concat(r,".color"),"#000")})),t.PNNL=h,t.IPCC=y;var c=Object.keys(r).sort();return c.forEach((function(e){n.forEach((function(t){var n=r[e][t];void 0===n&&(n=null),data[t].push(n)}))})),{x:"x",columns:[["x"].concat(Object(o.a)(c.map((function(e){return"".concat(e,"-01-01")}))))].concat(Object(o.a)(Object.values(data))),type:"line",types:{IPCC:"area",PNNL:"area"},colors:t}},c3Config:function(){return{tooltip:{grouped:!1,contents:this.genTooltip},point:{r:2},grid:{y:{show:!0}},axis:{x:{type:"timeseries",tick:{count:8,format:"%Y"}},y:{max:this.yMax,tick:{format:(e=Object(c.format)(".1%"),function(t){return e(t/100)})}}},legend:{show:!1}};var e}},watch:{bauStats:function(){this.updateChart()}},mounted:function(){this.initChart()},methods:{initChart:function(){var e=r(393);this.c3Handler=e.generate(v(v({data:this.chartData},this.c3Config),{},{bindto:this.$refs.chart}))},updateChart:function(){this.c3Handler?(this.c3Handler.axis.max({y:this.yMax}),this.c3Handler.load({unload:!0,columns:this.chartData.columns})):this.initChart()},genTooltipValueLabel:function(e,t){var r=e-100;return r>0?'<div class="esgTp__value esgTp__value--raise">↑ '.concat(t(r),"</div>"):r<0?'<div class="esgTp__value esgTp__value--reduce">↓ '.concat(t(-1*r),"</div>"):'<div class="esgTp__value flex-none">&nbsp; 0</div>'},genTooltipRow:function(title,e,t,r){var n=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"",o="esgTp__row";return n&&(o+=" esgTp__row--".concat(n)),'\n<div class="'.concat(o,' flex items-center">\n  <div class="esgTp__legend flex-none" style="background: ').concat(e,'"></div>\n  <div class="esgTp__name flex-auto truncate">').concat(title,"</div>\n  ").concat(this.genTooltipValueLabel(t,r),"\n</div>\n")},genTooltip:function(data,e,t,r){var n=data[0].x.getFullYear(),o=data[0].id,c=this.companyAbbrMap[o]||{};if(!c.color)return"";var l=data[0].value,f="".concat(o," BAU"),v="".concat(o," 目標"),_=this.ciStats.find((function(e){return e.年份===n&&e.統編===c.統編})),m=d.find((function(e){return e.year===n}));return'\n<div class="esgTp">\n  <div class="esgTp__year lh-title">'.concat(n,'</div>\n  <div class="esgTp__company">\n    ').concat(this.genTooltipRow(f,c.color,l,t,"bau"),"\n    ").concat(_?this.genTooltipRow(v,c.color,_.Tot變化,t,"ci"):"",'\n  </div>\n  <div class="esgTp__roadmap">\n    <div class="esgTp__roadmapTitle lh-title mb2">目標</div>\n    ').concat(this.genTooltipRow("PNNL",h,m.PNNL,t,"roadmap"),"\n    ").concat(this.genTooltipRow("IPCC",y,m.IPCC,t,"roadmap"),"\n  <div>\n</div>\n")}}},m=_,C=(r(479),r(37)),component=Object(C.a)(m,(function(){var e=this._self._c;return e("div",{staticClass:"indBau relative"},[e("div",{ref:"chart",staticClass:"indBau__chart h-100"})])}),[],!1,null,"3291c966",null);t.default=component.exports},507:function(e,t,r){"use strict";r.r(t);var n=r(19),o=r(97),c=(r(14),r(34),r(39),r(380),r(64),r(381),r(35),r(38),r(46),r(47),r(397));function l(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function d(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?l(Object(source),!0).forEach((function(t){Object(n.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):l(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var f={props:{ciStats:{type:Array,required:!0},companyMap:{type:Object,required:!0}},data:function(){return{c3Handler:null}},computed:{chartData:function(){var e=this,data={},t=this.ciStats.reduce((function(t,r){var n=r.年份,o=e.companyMap[r.統編];return t[n]||(t[n]={}),t[n][o.公司簡稱]=r.Tot變化-0,t}),{});c.forEach((function(e){t[e.year].PNNL=100*e.PNNL,t[e.year].IPCC=100*e.IPCC}));var r=Object.keys(t[2019]);r.forEach((function(e){data[e]=[e]}));var n=Object.keys(t).sort();return n.forEach((function(e){r.forEach((function(r){var n=t[e][r]||null;data[r].push(n)}))})),{x:"x",columns:[["x"].concat(Object(o.a)(n))].concat(Object(o.a)(Object.values(data))),type:"line",types:{IPCC:"area",PNNL:"area"}}},c3Config:function(){return{axis:{x:{type:"timeseries",tick:{format:"%Y"}}}}}},watch:{ciStats:function(){this.updateChart()}},mounted:function(){this.initChart()},methods:{initChart:function(){var e=r(393);this.c3Handler=e.generate(d(d({data:this.chartData},this.c3config),{},{bindto:this.$refs.chart}))},updateChart:function(){this.c3Handler?this.c3Handler.load({unload:!0,columns:this.chartData.columns}):this.initChart()}}},v=(r(481),r(37)),component=Object(v.a)(f,(function(){var e=this._self._c;return e("div",{staticClass:"indCom relative"},[e("div",{ref:"chart",staticClass:"indCom__chart h-100"})])}),[],!1,null,"078b160a",null);t.default=component.exports},528:function(e,t,r){"use strict";r(490)},529:function(e,t,r){var n=r(32)(!1);n.push([e.i,".netZero__nav[data-v-112144ea]{margin-top:2.25rem;margin-bottom:1.125rem}.netZero__typeSelector[data-v-112144ea]{width:8rem}.netZero__typeSelector[data-v-112144ea]  .dropdown-menu{min-width:8rem}.netZero__typeSelector[data-v-112144ea]  .dropdown-trigger{width:100%}.netZero__typeSelector[data-v-112144ea]  .dropdown-trigger button{border:none;outline:none;background:transparent}.netZero__typeSelector[data-v-112144ea]  .dropdown-content{background:#333}.netZero__typeSelector[data-v-112144ea]  .has-link a{padding:.5rem;color:#fff;font-size:1.5rem}.netZero__typeSelector[data-v-112144ea]  .has-link a:hover{background:#555;color:#fff}.netZero__filter[data-v-112144ea]{margin:1.75rem 0 2.25rem}.netZero__filterItem[data-v-112144ea]{font-size:1.375rem;line-height:1.18;color:rgba(74,127,46,.7019607843);padding-bottom:.375rem;border-bottom:1px solid transparent}.netZero__filterItem--active[data-v-112144ea]{color:#35811c;border-color:#35811c}.netZero__filterItem[data-v-112144ea]:not(:last-child){margin-right:1.75rem}.netZero__chart[data-v-112144ea]{margin:2.5rem auto;max-width:60rem}.netZero__chart h2[data-v-112144ea]{font-size:1.375rem;margin-bottom:1.75rem;color:#000}",""]),e.exports=n},545:function(e,t,r){"use strict";r.r(t);r(38),r(14),r(35),r(46),r(34),r(47);var n=r(97),o=r(19),c=r(12),l=(r(55),r(53),r(64),r(240),r(39),r(52),r(380),r(381),r(27),r(395)),d=r(427),f=r(473);function v(object,e){var t=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(object,e).enumerable}))),t.push.apply(t,r)}return t}function h(e){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?v(Object(source),!0).forEach((function(t){Object(o.a)(e,t,source[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(source)):v(Object(source)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(source,t))}))}return e}var y={top5:"top5",all:"all"},_={asyncData:function(e){return Object(c.a)(regeneratorRuntime.mark((function t(){var r,o,c,f,v,y,_,m,C;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.$content,o=e.params,c=e.redirect,f=[],v=[],y=[],t.prev=4,t.next=7,r("industry","".concat(o.industry,"-bau")).fetch();case 7:f=(f=t.sent).body.map((function(e){return h(h({},e),{},{"年份":e.年份-0,"Tot變化":e.Tot變化-0})})),t.next=15;break;case 11:return t.prev=11,t.t0=t.catch(4),c("/"),t.abrupt("return",{bauStats:f,ciStats:y,companyList:v});case 15:return t.prev=15,t.next=18,r("industry","".concat(o.industry,"-net-zero-commitment")).fetch();case 18:y=(y=t.sent).body.map((function(e){return h(h({},e),{},{"年份":e.年份-0,"Tot變化":e.Tot變化-0})})),t.next=24;break;case 22:t.prev=22,t.t1=t.catch(15);case 24:return _=Object(d.uniqBy)([].concat(Object(n.a)(f),Object(n.a)(y)),"統編").reduce((function(e,t){return e[t.統編]=!0,e}),{}),t.next=27,r("companyList").fetch();case 27:return m=t.sent,v=m.body.filter((function(e){return e.統編 in _})),C=v.length,v=v.map((function(e,i){return h(h({},e),{},{color:Object(l.interpolateCividis)(i/C)})})),t.abrupt("return",{bauStats:f,ciStats:y,companyList:v});case 32:case"end":return t.stop()}}),t,null,[[4,11],[15,22]])})))()},computed:{industry:function(){var code=this.$route.params.industry||"03",e=f.find((function(e){return e.code===code}));return e||f[0]},industries:function(){return f},filter:function(){var code=this.$route.query.filter;return y[code]?code:y.top5},companyCount:function(){return Object.keys(this.companyList).length},companyMap:function(){return this.companyList.reduce((function(e,t){return e[t.統編]=t,e}),{})},top5CompanyMap:function(){var e=this.bauStats.reduce((function(e,t){if(t.是預測值)return e;var r=t.年份,n=t.Tot數值,o=t.統編;return e[o]?e[o].year<r&&(e[o]={id:o,year:r,value:n}):e[o]={id:o,year:r,value:n},e}),{});return Object.values(e).sort((function(a,b){return b.value-a.value})).slice(0,5).reduce((function(e,t){return e[t.id]=t,e}),{})},activeCompanyMap:function(){return this.filter===y.all?this.companyMap:this.top5CompanyMap},yMax:function(){return[].concat(Object(n.a)(this.visibleBauStats),Object(n.a)(this.visibleCiStats)).reduce((function(e,t){return t.Tot變化>e?(console.warn("change",t.Tot變化,e,t),t.Tot變化):e}),150)},visibleBauStats:function(){var e=this;return this.bauStats.filter((function(t){return t.統編 in e.activeCompanyMap}))},visibleCiStats:function(){var e=this;return this.ciStats.filter((function(t){return t.統編 in e.activeCompanyMap}))},top5Count:function(){return Object.values(this.top5CompanyMap).length}},beforeDestroy:function(){var html=document.querySelector("html");html.classList.contains("is-clipped-touch")&&html.classList.remove("is-clipped-touch")},methods:{industryLink:function(e){return{name:this.$route.name,params:{industry:e},query:this.$route.query}},filterLink:function(filter){return{name:this.$route.name,params:this.$route.params,query:{filter:filter}}}}},m=(r(528),r(37)),component=Object(m.a)(_,(function(){var e=this,t=e._self._c;return t("div",{staticClass:"netZero"},[t("div",{staticClass:"netZero__nav esgContainer"},[t("div",{staticClass:"f6 o-60 mb1"},[e._v("產業")]),t("b-dropdown",{staticClass:"netZero__typeSelector",attrs:{"aria-role":"menu"}},[t("template",{slot:"trigger"},[t("button",{staticClass:"flex justify-between items-center w-100 pointer"},[t("div",{staticClass:"black f3 flex-auto tl"},[e._v(e._s(e.industry.label))]),t("i",{staticClass:"fas fa-sort flex-none"})])]),e._l(e.industries,(function(r){return t("b-dropdown-item",{key:r.code,attrs:{"aria-role":"menuitem","has-link":!0}},[t("nuxt-link",{attrs:{to:e.industryLink(r.code)}},[e._v(e._s(r.label))])],1)}))],2),t("div",{staticClass:"netZero__filter flex items-center"},[t("nuxt-link",{staticClass:"netZero__filterItem",class:{"netZero__filterItem--active":"top5"===e.filter},attrs:{to:e.filterLink("top5")}},[e._v(e._s(e.industry.label)+"碳排大戶 ("+e._s(e.top5Count)+")")]),t("nuxt-link",{staticClass:"netZero__filterItem pointer",class:{"netZero__filterItem--active":"all"===e.filter},attrs:{to:e.filterLink("all")}},[e._v("所有公司 ("+e._s(e.companyCount)+")")])],1)],1),t("div",{staticClass:"netZero__legend"}),t("div",{staticClass:"netZero__chart"},[t("h2",[e._v("企業維持原狀的碳排成長")]),t("net-zero-industry-bau",{attrs:{"bau-stats":e.visibleBauStats,"ci-stats":e.visibleCiStats,"company-map":e.companyMap,"y-max":e.yMax}})],1),t("div",{staticClass:"netZero__chart"},[t("h2",[e._v("企業淨零目標路線")]),t("net-zero-industry-commitment",{attrs:{"ci-stats":e.visibleCiStats,"bau-stats":e.visibleBauStats,"company-map":e.companyMap}})],1)])}),[],!1,null,"112144ea",null);t.default=component.exports;installComponents(component,{NetZeroIndustryBau:r(506).default,NetZeroIndustryCommitment:r(507).default})}}]);